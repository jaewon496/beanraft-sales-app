(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Vk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yb={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),Hk=Symbol.for("react.portal"),Gk=Symbol.for("react.fragment"),Kk=Symbol.for("react.strict_mode"),qk=Symbol.for("react.profiler"),Yk=Symbol.for("react.provider"),Qk=Symbol.for("react.context"),Jk=Symbol.for("react.forward_ref"),Xk=Symbol.for("react.suspense"),Zk=Symbol.for("react.memo"),eI=Symbol.for("react.lazy"),yE=Symbol.iterator;function tI(t){return t===null||typeof t!="object"?null:(t=yE&&t[yE]||t["@@iterator"],typeof t=="function"?t:null)}var Qb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jb=Object.assign,Xb={};function ni(t,e,n){this.props=t,this.context=e,this.refs=Xb,this.updater=n||Qb}ni.prototype.isReactComponent={};ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zb(){}Zb.prototype=ni.prototype;function Eg(t,e,n){this.props=t,this.context=e,this.refs=Xb,this.updater=n||Qb}var xg=Eg.prototype=new Zb;xg.constructor=Eg;Jb(xg,ni.prototype);xg.isPureReactComponent=!0;var EE=Array.isArray,e_=Object.prototype.hasOwnProperty,bg={current:null},t_={key:!0,ref:!0,__self:!0,__source:!0};function n_(t,e,n){var r,a={},l=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(l=""+e.key),e)e_.call(e,r)&&!t_.hasOwnProperty(r)&&(a[r]=e[r]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var u=Array(c),m=0;m<c;m++)u[m]=arguments[m+2];a.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)a[r]===void 0&&(a[r]=c[r]);return{$$typeof:nc,type:t,key:l,ref:i,props:a,_owner:bg.current}}function nI(t,e){return{$$typeof:nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _g(t){return typeof t=="object"&&t!==null&&t.$$typeof===nc}function rI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xE=/\/+/g;function rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rI(""+t.key):e.toString(36)}function Vu(t,e,n,r,a){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case nc:case Hk:i=!0}}if(i)return i=t,a=a(i),t=r===""?"."+rp(i,0):r,EE(a)?(n="",t!=null&&(n=t.replace(xE,"$&/")+"/"),Vu(a,e,n,"",function(m){return m})):a!=null&&(_g(a)&&(a=nI(a,n+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(xE,"$&/")+"/")+t)),e.push(a)),1;if(i=0,r=r===""?".":r+":",EE(t))for(var c=0;c<t.length;c++){l=t[c];var u=r+rp(l,c);i+=Vu(l,e,n,u,a)}else if(u=tI(t),typeof u=="function")for(t=u.call(t),c=0;!(l=t.next()).done;)l=l.value,u=r+rp(l,c++),i+=Vu(l,e,n,u,a);else if(l==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function wu(t,e,n){if(t==null)return t;var r=[],a=0;return Vu(t,r,"","",function(l){return e.call(n,l,a++)}),r}function sI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Hu={transition:null},aI={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Hu,ReactCurrentOwner:bg};function r_(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:wu,forEach:function(t,e,n){wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wu(t,function(){e++}),e},toArray:function(t){return wu(t,function(e){return e})||[]},only:function(t){if(!_g(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=ni;xe.Fragment=Gk;xe.Profiler=qk;xe.PureComponent=Eg;xe.StrictMode=Kk;xe.Suspense=Xk;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aI;xe.act=r_;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Jb({},t.props),a=t.key,l=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(l=e.ref,i=bg.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)e_.call(e,u)&&!t_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var m=0;m<u;m++)c[m]=arguments[m+2];r.children=c}return{$$typeof:nc,type:t.type,key:a,ref:l,props:r,_owner:i}};xe.createContext=function(t){return t={$$typeof:Qk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Yk,_context:t},t.Consumer=t};xe.createElement=n_;xe.createFactory=function(t){var e=n_.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:Jk,render:t}};xe.isValidElement=_g;xe.lazy=function(t){return{$$typeof:eI,_payload:{_status:-1,_result:t},_init:sI}};xe.memo=function(t,e){return{$$typeof:Zk,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Hu.transition;Hu.transition={};try{t()}finally{Hu.transition=e}};xe.unstable_act=r_;xe.useCallback=function(t,e){return Vt.current.useCallback(t,e)};xe.useContext=function(t){return Vt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Vt.current.useEffect(t,e)};xe.useId=function(){return Vt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Vt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};xe.useRef=function(t){return Vt.current.useRef(t)};xe.useState=function(t){return Vt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Vt.current.useTransition()};xe.version="18.3.1";Yb.exports=xe;var x=Yb.exports;const s=Vk(x);var Kp={},s_={exports:{}},En={},a_={exports:{}},l_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,de){var me=B.length;B.push(de);e:for(;0<me;){var Me=me-1>>>1,ze=B[Me];if(0<a(ze,de))B[Me]=de,B[me]=ze,me=Me;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var de=B[0],me=B.pop();if(me!==de){B[0]=me;e:for(var Me=0,ze=B.length,qs=ze>>>1;Me<qs;){var mt=2*(Me+1)-1,tt=B[mt],Ct=mt+1,Ys=B[Ct];if(0>a(tt,me))Ct<ze&&0>a(Ys,tt)?(B[Me]=Ys,B[Ct]=me,Me=Ct):(B[Me]=tt,B[mt]=me,Me=mt);else if(Ct<ze&&0>a(Ys,me))B[Me]=Ys,B[Ct]=me,Me=Ct;else break e}}return de}function a(B,de){var me=B.sortIndex-de.sortIndex;return me!==0?me:B.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var u=[],m=[],g=1,h=null,E=3,k=!1,R=!1,F=!1,oe=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(B){for(var de=n(m);de!==null;){if(de.callback===null)r(m);else if(de.startTime<=B)r(m),de.sortIndex=de.expirationTime,e(u,de);else break;de=n(m)}}function L(B){if(F=!1,S(B),!R)if(n(u)!==null)R=!0,Er(K);else{var de=n(m);de!==null&&Ks(L,de.startTime-B)}}function K(B,de){R=!1,F&&(F=!1,C(Z),Z=-1),k=!0;var me=E;try{for(S(de),h=n(u);h!==null&&(!(h.expirationTime>de)||B&&!jt());){var Me=h.callback;if(typeof Me=="function"){h.callback=null,E=h.priorityLevel;var ze=Me(h.expirationTime<=de);de=t.unstable_now(),typeof ze=="function"?h.callback=ze:h===n(u)&&r(u),S(de)}else r(u);h=n(u)}if(h!==null)var qs=!0;else{var mt=n(m);mt!==null&&Ks(L,mt.startTime-de),qs=!1}return qs}finally{h=null,E=me,k=!1}}var Y=!1,J=null,Z=-1,Ie=5,he=-1;function jt(){return!(t.unstable_now()-he<Ie)}function yr(){if(J!==null){var B=t.unstable_now();he=B;var de=!0;try{de=J(!0,B)}finally{de?Jn():(Y=!1,J=null)}}else Y=!1}var Jn;if(typeof _=="function")Jn=function(){_(yr)};else if(typeof MessageChannel<"u"){var Ka=new MessageChannel,Cc=Ka.port2;Ka.port1.onmessage=yr,Jn=function(){Cc.postMessage(null)}}else Jn=function(){oe(yr,0)};function Er(B){J=B,Y||(Y=!0,Jn())}function Ks(B,de){Z=oe(function(){B(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){R||k||(R=!0,Er(K))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var me=E;E=de;try{return B()}finally{E=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,de){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var me=E;E=B;try{return de()}finally{E=me}},t.unstable_scheduleCallback=function(B,de,me){var Me=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,B){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=me+ze,B={id:g++,callback:de,priorityLevel:B,startTime:me,expirationTime:ze,sortIndex:-1},me>Me?(B.sortIndex=me,e(m,B),n(u)===null&&B===n(m)&&(F?(C(Z),Z=-1):F=!0,Ks(L,me-Me))):(B.sortIndex=ze,e(u,B),R||k||(R=!0,Er(K))),B},t.unstable_shouldYield=jt,t.unstable_wrapCallback=function(B){var de=E;return function(){var me=E;E=de;try{return B.apply(this,arguments)}finally{E=me}}}})(l_);a_.exports=l_;var lI=a_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI=x,gn=lI;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i_=new Set,bo={};function ja(t,e){$l(t,e),$l(t+"Capture",e)}function $l(t,e){for(bo[t]=e,t=0;t<e.length;t++)i_.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qp=Object.prototype.hasOwnProperty,oI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bE={},_E={};function cI(t){return qp.call(_E,t)?!0:qp.call(bE,t)?!1:oI.test(t)?_E[t]=!0:(bE[t]=!0,!1)}function uI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dI(t,e,n,r){if(e===null||typeof e>"u"||uI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,a,l,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=l,this.removeEmptyString=i}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var wg=/[\-:]([a-z])/g;function Ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wg,Ng);Rt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wg,Ng);Rt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wg,Ng);Rt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cg(t,e,n,r){var a=Rt.hasOwnProperty(e)?Rt[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dI(e,n,a,r)&&(n=null),r||a===null?cI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=iI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),hl=Symbol.for("react.portal"),gl=Symbol.for("react.fragment"),Sg=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),o_=Symbol.for("react.provider"),c_=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),u_=Symbol.for("react.offscreen"),wE=Symbol.iterator;function Fi(t){return t===null||typeof t!="object"?null:(t=wE&&t[wE]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,sp;function Xi(t){if(sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sp=e&&e[1]||""}return`
`+sp+t}var ap=!1;function lp(t,e){if(!t||ap)return"";ap=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var r=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){r=m}t.call(e.prototype)}else{try{throw Error()}catch(m){r=m}t()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var a=m.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,c=l.length-1;1<=i&&0<=c&&a[i]!==l[c];)c--;for(;1<=i&&0<=c;i--,c--)if(a[i]!==l[c]){if(i!==1||c!==1)do if(i--,c--,0>c||a[i]!==l[c]){var u=`
`+a[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=c);break}}}finally{ap=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xi(t):""}function mI(t){switch(t.tag){case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 2:case 15:return t=lp(t.type,!1),t;case 11:return t=lp(t.type.render,!1),t;case 1:return t=lp(t.type,!0),t;default:return""}}function Xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gl:return"Fragment";case hl:return"Portal";case Yp:return"Profiler";case Sg:return"StrictMode";case Qp:return"Suspense";case Jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c_:return(t.displayName||"Context")+".Consumer";case o_:return(t._context.displayName||"Context")+".Provider";case kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ig:return e=t.displayName||null,e!==null?e:Xp(t.type)||"Memo";case us:e=t._payload,t=t._init;try{return Xp(t(e))}catch{}}return null}function fI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(e);case 8:return e===Sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pI(t){var e=d_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cu(t){t._valueTracker||(t._valueTracker=pI(t))}function m_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zp(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function NE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f_(t,e){e=e.checked,e!=null&&Cg(t,"checked",e,!1)}function eh(t,e){f_(t,e);var n=Ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?th(t,e.type,n):e.hasOwnProperty("defaultValue")&&th(t,e.type,Ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function CE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function th(t,e,n){(e!=="number"||ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zi=Array.isArray;function Il(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ps(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function nh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function SE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Zi(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ps(n)}}function p_(t,e){var n=Ps(e.value),r=Ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Su,g_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Su=Su||document.createElement("div"),Su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hI=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(t){hI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),so[e]=so[t]})});function v_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||so.hasOwnProperty(t)&&so[t]?(""+e).trim():e+"px"}function y_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=v_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var gI=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(t,e){if(e){if(gI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function ah(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=null;function Tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ih=null,Tl=null,Rl=null;function IE(t){if(t=ac(t)){if(typeof ih!="function")throw Error(U(280));var e=t.stateNode;e&&(e=sm(e),ih(t.stateNode,t.type,e))}}function E_(t){Tl?Rl?Rl.push(t):Rl=[t]:Tl=t}function x_(){if(Tl){var t=Tl,e=Rl;if(Rl=Tl=null,IE(t),e)for(t=0;t<e.length;t++)IE(e[t])}}function b_(t,e){return t(e)}function __(){}var ip=!1;function w_(t,e,n){if(ip)return t(e,n);ip=!0;try{return b_(t,e,n)}finally{ip=!1,(Tl!==null||Rl!==null)&&(__(),x_())}}function wo(t,e){var n=t.stateNode;if(n===null)return null;var r=sm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var oh=!1;if(Br)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){oh=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{oh=!1}function vI(t,e,n,r,a,l,i,c,u){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(g){this.onError(g)}}var ao=!1,id=null,od=!1,ch=null,yI={onError:function(t){ao=!0,id=t}};function EI(t,e,n,r,a,l,i,c,u){ao=!1,id=null,vI.apply(yI,arguments)}function xI(t,e,n,r,a,l,i,c,u){if(EI.apply(this,arguments),ao){if(ao){var m=id;ao=!1,id=null}else throw Error(U(198));od||(od=!0,ch=m)}}function $a(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function N_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TE(t){if($a(t)!==t)throw Error(U(188))}function bI(t){var e=t.alternate;if(!e){if(e=$a(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return TE(a),t;if(l===r)return TE(a),e;l=l.sibling}throw Error(U(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,c=a.child;c;){if(c===n){i=!0,n=a,r=l;break}if(c===r){i=!0,r=a,n=l;break}c=c.sibling}if(!i){for(c=l.child;c;){if(c===n){i=!0,n=l,r=a;break}if(c===r){i=!0,r=l,n=a;break}c=c.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function C_(t){return t=bI(t),t!==null?S_(t):null}function S_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=S_(t);if(e!==null)return e;t=t.sibling}return null}var k_=gn.unstable_scheduleCallback,RE=gn.unstable_cancelCallback,_I=gn.unstable_shouldYield,wI=gn.unstable_requestPaint,et=gn.unstable_now,NI=gn.unstable_getCurrentPriorityLevel,Rg=gn.unstable_ImmediatePriority,I_=gn.unstable_UserBlockingPriority,cd=gn.unstable_NormalPriority,CI=gn.unstable_LowPriority,T_=gn.unstable_IdlePriority,em=null,mr=null;function SI(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot(em,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:TI,kI=Math.log,II=Math.LN2;function TI(t){return t>>>=0,t===0?32:31-(kI(t)/II|0)|0}var ku=64,Iu=4194304;function eo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,l=t.pingedLanes,i=n&268435455;if(i!==0){var c=i&~a;c!==0?r=eo(c):(l&=i,l!==0&&(r=eo(l)))}else i=n&~a,i!==0?r=eo(i):l!==0&&(r=eo(l));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,l=e&-e,a>=l||a===16&&(l&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),a=1<<n,r|=t[n],e&=~a;return r}function RI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-Vn(l),c=1<<i,u=a[i];u===-1?(!(c&n)||c&r)&&(a[i]=RI(c,e)):u<=e&&(t.expiredLanes|=c),l&=~c}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R_(){var t=ku;return ku<<=1,!(ku&4194240)&&(ku=64),t}function op(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function AI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-Vn(n),l=1<<a;e[a]=0,r[a]=-1,t[a]=-1,n&=~l}}function Pg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}var Pe=0;function P_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var A_,Ag,O_,M_,D_,dh=!1,Tu=[],Es=null,xs=null,bs=null,No=new Map,Co=new Map,ms=[],OI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PE(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(e.pointerId)}}function ji(t,e,n,r,a,l){return t===null||t.nativeEvent!==l?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},e!==null&&(e=ac(e),e!==null&&Ag(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function MI(t,e,n,r,a){switch(e){case"focusin":return Es=ji(Es,t,e,n,r,a),!0;case"dragenter":return xs=ji(xs,t,e,n,r,a),!0;case"mouseover":return bs=ji(bs,t,e,n,r,a),!0;case"pointerover":var l=a.pointerId;return No.set(l,ji(No.get(l)||null,t,e,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,Co.set(l,ji(Co.get(l)||null,t,e,n,r,a)),!0}return!1}function L_(t){var e=va(t.target);if(e!==null){var n=$a(e);if(n!==null){if(e=n.tag,e===13){if(e=N_(n),e!==null){t.blockedOn=e,D_(t.priority,function(){O_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lh=r,n.target.dispatchEvent(r),lh=null}else return e=ac(n),e!==null&&Ag(e),t.blockedOn=n,!1;e.shift()}return!0}function AE(t,e,n){Gu(t)&&n.delete(e)}function DI(){dh=!1,Es!==null&&Gu(Es)&&(Es=null),xs!==null&&Gu(xs)&&(xs=null),bs!==null&&Gu(bs)&&(bs=null),No.forEach(AE),Co.forEach(AE)}function $i(t,e){t.blockedOn===e&&(t.blockedOn=null,dh||(dh=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,DI)))}function So(t){function e(a){return $i(a,t)}if(0<Tu.length){$i(Tu[0],t);for(var n=1;n<Tu.length;n++){var r=Tu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&$i(Es,t),xs!==null&&$i(xs,t),bs!==null&&$i(bs,t),No.forEach(e),Co.forEach(e),n=0;n<ms.length;n++)r=ms[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ms.length&&(n=ms[0],n.blockedOn===null);)L_(n),n.blockedOn===null&&ms.shift()}var Pl=Qr.ReactCurrentBatchConfig,dd=!0;function LI(t,e,n,r){var a=Pe,l=Pl.transition;Pl.transition=null;try{Pe=1,Og(t,e,n,r)}finally{Pe=a,Pl.transition=l}}function FI(t,e,n,r){var a=Pe,l=Pl.transition;Pl.transition=null;try{Pe=4,Og(t,e,n,r)}finally{Pe=a,Pl.transition=l}}function Og(t,e,n,r){if(dd){var a=mh(t,e,n,r);if(a===null)yp(t,e,r,md,n),PE(t,r);else if(MI(a,t,e,n,r))r.stopPropagation();else if(PE(t,r),e&4&&-1<OI.indexOf(t)){for(;a!==null;){var l=ac(a);if(l!==null&&A_(l),l=mh(t,e,n,r),l===null&&yp(t,e,r,md,n),l===a)break;a=l}a!==null&&r.stopPropagation()}else yp(t,e,r,null,n)}}var md=null;function mh(t,e,n,r){if(md=null,t=Tg(r),t=va(t),t!==null)if(e=$a(t),e===null)t=null;else if(n=e.tag,n===13){if(t=N_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return md=t,null}function F_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NI()){case Rg:return 1;case I_:return 4;case cd:case CI:return 16;case T_:return 536870912;default:return 16}default:return 16}}var ps=null,Mg=null,Ku=null;function U_(){if(Ku)return Ku;var t,e=Mg,n=e.length,r,a="value"in ps?ps.value:ps.textContent,l=a.length;for(t=0;t<n&&e[t]===a[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===a[l-r];r++);return Ku=a.slice(t,1<r?1-r:void 0)}function qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function OE(){return!1}function xn(t){function e(n,r,a,l,i){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ru:OE,this.isPropagationStopped=OE,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=xn(ri),sc=Ke({},ri,{view:0,detail:0}),UI=xn(sc),cp,up,Wi,tm=Ke({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wi&&(Wi&&t.type==="mousemove"?(cp=t.screenX-Wi.screenX,up=t.screenY-Wi.screenY):up=cp=0,Wi=t),cp)},movementY:function(t){return"movementY"in t?t.movementY:up}}),ME=xn(tm),jI=Ke({},tm,{dataTransfer:0}),$I=xn(jI),WI=Ke({},sc,{relatedTarget:0}),dp=xn(WI),zI=Ke({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),BI=xn(zI),VI=Ke({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HI=xn(VI),GI=Ke({},ri,{data:0}),DE=xn(GI),KI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YI[t])?!!e[t]:!1}function Lg(){return QI}var JI=Ke({},sc,{key:function(t){if(t.key){var e=KI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lg,charCode:function(t){return t.type==="keypress"?qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XI=xn(JI),ZI=Ke({},tm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LE=xn(ZI),e2=Ke({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lg}),t2=xn(e2),n2=Ke({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),r2=xn(n2),s2=Ke({},tm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a2=xn(s2),l2=[9,13,27,32],Fg=Br&&"CompositionEvent"in window,lo=null;Br&&"documentMode"in document&&(lo=document.documentMode);var i2=Br&&"TextEvent"in window&&!lo,j_=Br&&(!Fg||lo&&8<lo&&11>=lo),FE=" ",UE=!1;function $_(t,e){switch(t){case"keyup":return l2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vl=!1;function o2(t,e){switch(t){case"compositionend":return W_(e);case"keypress":return e.which!==32?null:(UE=!0,FE);case"textInput":return t=e.data,t===FE&&UE?null:t;default:return null}}function c2(t,e){if(vl)return t==="compositionend"||!Fg&&$_(t,e)?(t=U_(),Ku=Mg=ps=null,vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j_&&e.locale!=="ko"?null:e.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u2[t.type]:e==="textarea"}function z_(t,e,n,r){E_(r),e=fd(e,"onChange"),0<e.length&&(n=new Dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var io=null,ko=null;function d2(t){Z_(t,0)}function nm(t){var e=xl(t);if(m_(e))return t}function m2(t,e){if(t==="change")return e}var B_=!1;if(Br){var mp;if(Br){var fp="oninput"in document;if(!fp){var $E=document.createElement("div");$E.setAttribute("oninput","return;"),fp=typeof $E.oninput=="function"}mp=fp}else mp=!1;B_=mp&&(!document.documentMode||9<document.documentMode)}function WE(){io&&(io.detachEvent("onpropertychange",V_),ko=io=null)}function V_(t){if(t.propertyName==="value"&&nm(ko)){var e=[];z_(e,ko,t,Tg(t)),w_(d2,e)}}function f2(t,e,n){t==="focusin"?(WE(),io=e,ko=n,io.attachEvent("onpropertychange",V_)):t==="focusout"&&WE()}function p2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nm(ko)}function h2(t,e){if(t==="click")return nm(e)}function g2(t,e){if(t==="input"||t==="change")return nm(e)}function v2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:v2;function Io(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!qp.call(e,a)||!qn(t[a],e[a]))return!1}return!0}function zE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function BE(t,e){var n=zE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zE(n)}}function H_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G_(){for(var t=window,e=ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ld(t.document)}return e}function Ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y2(t){var e=G_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H_(n.ownerDocument.documentElement,n)){if(r!==null&&Ug(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!t.extend&&l>r&&(a=r,r=l,l=a),a=BE(n,l);var i=BE(n,r);a&&i&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),l>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E2=Br&&"documentMode"in document&&11>=document.documentMode,yl=null,fh=null,oo=null,ph=!1;function VE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ph||yl==null||yl!==ld(r)||(r=yl,"selectionStart"in r&&Ug(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oo&&Io(oo,r)||(oo=r,r=fd(fh,"onSelect"),0<r.length&&(e=new Dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yl)))}function Pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var El={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},pp={},K_={};Br&&(K_=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function rm(t){if(pp[t])return pp[t];if(!El[t])return t;var e=El[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in K_)return pp[t]=e[n];return t}var q_=rm("animationend"),Y_=rm("animationiteration"),Q_=rm("animationstart"),J_=rm("transitionend"),X_=new Map,HE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){X_.set(t,e),ja(e,[t])}for(var hp=0;hp<HE.length;hp++){var gp=HE[hp],x2=gp.toLowerCase(),b2=gp[0].toUpperCase()+gp.slice(1);Ws(x2,"on"+b2)}Ws(q_,"onAnimationEnd");Ws(Y_,"onAnimationIteration");Ws(Q_,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(J_,"onTransitionEnd");$l("onMouseEnter",["mouseout","mouseover"]);$l("onMouseLeave",["mouseout","mouseover"]);$l("onPointerEnter",["pointerout","pointerover"]);$l("onPointerLeave",["pointerout","pointerover"]);ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function GE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xI(r,e,void 0,t),t.currentTarget=null}function Z_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var l=void 0;if(e)for(var i=r.length-1;0<=i;i--){var c=r[i],u=c.instance,m=c.currentTarget;if(c=c.listener,u!==l&&a.isPropagationStopped())break e;GE(a,c,m),l=u}else for(i=0;i<r.length;i++){if(c=r[i],u=c.instance,m=c.currentTarget,c=c.listener,u!==l&&a.isPropagationStopped())break e;GE(a,c,m),l=u}}}if(od)throw t=ch,od=!1,ch=null,t}function Ue(t,e){var n=e[Eh];n===void 0&&(n=e[Eh]=new Set);var r=t+"__bubble";n.has(r)||(ew(e,t,2,!1),n.add(r))}function vp(t,e,n){var r=0;e&&(r|=4),ew(n,t,r,e)}var Au="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[Au]){t[Au]=!0,i_.forEach(function(n){n!=="selectionchange"&&(_2.has(n)||vp(n,!1,t),vp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Au]||(e[Au]=!0,vp("selectionchange",!1,e))}}function ew(t,e,n,r){switch(F_(e)){case 1:var a=LI;break;case 4:a=FI;break;default:a=Og}n=a.bind(null,e,n,t),a=void 0,!oh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function yp(t,e,n,r,a){var l=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var c=r.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;i=i.return}for(;c!==null;){if(i=va(c),i===null)return;if(u=i.tag,u===5||u===6){r=l=i;continue e}c=c.parentNode}}r=r.return}w_(function(){var m=l,g=Tg(n),h=[];e:{var E=X_.get(t);if(E!==void 0){var k=Dg,R=t;switch(t){case"keypress":if(qu(n)===0)break e;case"keydown":case"keyup":k=XI;break;case"focusin":R="focus",k=dp;break;case"focusout":R="blur",k=dp;break;case"beforeblur":case"afterblur":k=dp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ME;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=$I;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=t2;break;case q_:case Y_:case Q_:k=BI;break;case J_:k=r2;break;case"scroll":k=UI;break;case"wheel":k=a2;break;case"copy":case"cut":case"paste":k=HI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=LE}var F=(e&4)!==0,oe=!F&&t==="scroll",C=F?E!==null?E+"Capture":null:E;F=[];for(var _=m,S;_!==null;){S=_;var L=S.stateNode;if(S.tag===5&&L!==null&&(S=L,C!==null&&(L=wo(_,C),L!=null&&F.push(Ro(_,L,S)))),oe)break;_=_.return}0<F.length&&(E=new k(E,R,null,n,g),h.push({event:E,listeners:F}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",E&&n!==lh&&(R=n.relatedTarget||n.fromElement)&&(va(R)||R[Vr]))break e;if((k||E)&&(E=g.window===g?g:(E=g.ownerDocument)?E.defaultView||E.parentWindow:window,k?(R=n.relatedTarget||n.toElement,k=m,R=R?va(R):null,R!==null&&(oe=$a(R),R!==oe||R.tag!==5&&R.tag!==6)&&(R=null)):(k=null,R=m),k!==R)){if(F=ME,L="onMouseLeave",C="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(F=LE,L="onPointerLeave",C="onPointerEnter",_="pointer"),oe=k==null?E:xl(k),S=R==null?E:xl(R),E=new F(L,_+"leave",k,n,g),E.target=oe,E.relatedTarget=S,L=null,va(g)===m&&(F=new F(C,_+"enter",R,n,g),F.target=S,F.relatedTarget=oe,L=F),oe=L,k&&R)t:{for(F=k,C=R,_=0,S=F;S;S=ml(S))_++;for(S=0,L=C;L;L=ml(L))S++;for(;0<_-S;)F=ml(F),_--;for(;0<S-_;)C=ml(C),S--;for(;_--;){if(F===C||C!==null&&F===C.alternate)break t;F=ml(F),C=ml(C)}F=null}else F=null;k!==null&&KE(h,E,k,F,!1),R!==null&&oe!==null&&KE(h,oe,R,F,!0)}}e:{if(E=m?xl(m):window,k=E.nodeName&&E.nodeName.toLowerCase(),k==="select"||k==="input"&&E.type==="file")var K=m2;else if(jE(E))if(B_)K=g2;else{K=p2;var Y=f2}else(k=E.nodeName)&&k.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(K=h2);if(K&&(K=K(t,m))){z_(h,K,n,g);break e}Y&&Y(t,E,m),t==="focusout"&&(Y=E._wrapperState)&&Y.controlled&&E.type==="number"&&th(E,"number",E.value)}switch(Y=m?xl(m):window,t){case"focusin":(jE(Y)||Y.contentEditable==="true")&&(yl=Y,fh=m,oo=null);break;case"focusout":oo=fh=yl=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,VE(h,n,g);break;case"selectionchange":if(E2)break;case"keydown":case"keyup":VE(h,n,g)}var J;if(Fg)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else vl?$_(t,n)&&(Z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(j_&&n.locale!=="ko"&&(vl||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&vl&&(J=U_()):(ps=g,Mg="value"in ps?ps.value:ps.textContent,vl=!0)),Y=fd(m,Z),0<Y.length&&(Z=new DE(Z,t,null,n,g),h.push({event:Z,listeners:Y}),J?Z.data=J:(J=W_(n),J!==null&&(Z.data=J)))),(J=i2?o2(t,n):c2(t,n))&&(m=fd(m,"onBeforeInput"),0<m.length&&(g=new DE("onBeforeInput","beforeinput",null,n,g),h.push({event:g,listeners:m}),g.data=J))}Z_(h,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fd(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=wo(t,n),l!=null&&r.unshift(Ro(t,l,a)),l=wo(t,e),l!=null&&r.push(Ro(t,l,a))),t=t.return}return r}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KE(t,e,n,r,a){for(var l=e._reactName,i=[];n!==null&&n!==r;){var c=n,u=c.alternate,m=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&m!==null&&(c=m,a?(u=wo(n,l),u!=null&&i.unshift(Ro(n,u,c))):a||(u=wo(n,l),u!=null&&i.push(Ro(n,u,c)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var w2=/\r\n?/g,N2=/\u0000|\uFFFD/g;function qE(t){return(typeof t=="string"?t:""+t).replace(w2,`
`).replace(N2,"")}function Ou(t,e,n){if(e=qE(e),qE(t)!==e&&n)throw Error(U(425))}function pd(){}var hh=null,gh=null;function vh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var yh=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,YE=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof YE<"u"?function(t){return YE.resolve(null).then(t).catch(k2)}:yh;function k2(t){setTimeout(function(){throw t})}function Ep(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),So(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);So(e)}function _s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function QE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var si=Math.random().toString(36).slice(2),lr="__reactFiber$"+si,Po="__reactProps$"+si,Vr="__reactContainer$"+si,Eh="__reactEvents$"+si,I2="__reactListeners$"+si,T2="__reactHandles$"+si;function va(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=QE(t);t!==null;){if(n=t[lr])return n;t=QE(t)}return e}t=n,n=t.parentNode}return null}function ac(t){return t=t[lr]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function sm(t){return t[Po]||null}var xh=[],bl=-1;function zs(t){return{current:t}}function je(t){0>bl||(t.current=xh[bl],xh[bl]=null,bl--)}function Le(t,e){bl++,xh[bl]=t.current,t.current=e}var As={},Ut=zs(As),tn=zs(!1),ka=As;function Wl(t,e){var n=t.type.contextTypes;if(!n)return As;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=e[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function nn(t){return t=t.childContextTypes,t!=null}function hd(){je(tn),je(Ut)}function JE(t,e,n){if(Ut.current!==As)throw Error(U(168));Le(Ut,e),Le(tn,n)}function tw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(U(108,fI(t)||"Unknown",a));return Ke({},n,r)}function gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||As,ka=Ut.current,Le(Ut,t),Le(tn,tn.current),!0}function XE(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=tw(t,e,ka),r.__reactInternalMemoizedMergedChildContext=t,je(tn),je(Ut),Le(Ut,t)):je(tn),Le(tn,n)}var Or=null,am=!1,xp=!1;function nw(t){Or===null?Or=[t]:Or.push(t)}function R2(t){am=!0,nw(t)}function Bs(){if(!xp&&Or!==null){xp=!0;var t=0,e=Pe;try{var n=Or;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,am=!1}catch(a){throw Or!==null&&(Or=Or.slice(t+1)),k_(Rg,Bs),a}finally{Pe=e,xp=!1}}return null}var _l=[],wl=0,vd=null,yd=0,wn=[],Nn=0,Ia=null,Mr=1,Dr="";function fa(t,e){_l[wl++]=yd,_l[wl++]=vd,vd=t,yd=e}function rw(t,e,n){wn[Nn++]=Mr,wn[Nn++]=Dr,wn[Nn++]=Ia,Ia=t;var r=Mr;t=Dr;var a=32-Vn(r)-1;r&=~(1<<a),n+=1;var l=32-Vn(e)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Mr=1<<32-Vn(e)+a|n<<a|r,Dr=l+t}else Mr=1<<l|n<<a|r,Dr=t}function jg(t){t.return!==null&&(fa(t,1),rw(t,1,0))}function $g(t){for(;t===vd;)vd=_l[--wl],_l[wl]=null,yd=_l[--wl],_l[wl]=null;for(;t===Ia;)Ia=wn[--Nn],wn[Nn]=null,Dr=wn[--Nn],wn[Nn]=null,Mr=wn[--Nn],wn[Nn]=null}var hn=null,fn=null,$e=!1,zn=null;function sw(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ZE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,fn=_s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ia!==null?{id:Mr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,fn=null,!0):!1;default:return!1}}function bh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _h(t){if($e){var e=fn;if(e){var n=e;if(!ZE(t,e)){if(bh(t))throw Error(U(418));e=_s(n.nextSibling);var r=hn;e&&ZE(t,e)?sw(r,n):(t.flags=t.flags&-4097|2,$e=!1,hn=t)}}else{if(bh(t))throw Error(U(418));t.flags=t.flags&-4097|2,$e=!1,hn=t}}}function ex(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Mu(t){if(t!==hn)return!1;if(!$e)return ex(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vh(t.type,t.memoizedProps)),e&&(e=fn)){if(bh(t))throw aw(),Error(U(418));for(;e;)sw(t,e),e=_s(e.nextSibling)}if(ex(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=_s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=hn?_s(t.stateNode.nextSibling):null;return!0}function aw(){for(var t=fn;t;)t=_s(t.nextSibling)}function zl(){fn=hn=null,$e=!1}function Wg(t){zn===null?zn=[t]:zn.push(t)}var P2=Qr.ReactCurrentBatchConfig;function zi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var a=r,l=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===l?e.ref:(e=function(i){var c=a.refs;i===null?delete c[l]:c[l]=i},e._stringRef=l,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tx(t){var e=t._init;return e(t._payload)}function lw(t){function e(C,_){if(t){var S=C.deletions;S===null?(C.deletions=[_],C.flags|=16):S.push(_)}}function n(C,_){if(!t)return null;for(;_!==null;)e(C,_),_=_.sibling;return null}function r(C,_){for(C=new Map;_!==null;)_.key!==null?C.set(_.key,_):C.set(_.index,_),_=_.sibling;return C}function a(C,_){return C=Ss(C,_),C.index=0,C.sibling=null,C}function l(C,_,S){return C.index=S,t?(S=C.alternate,S!==null?(S=S.index,S<_?(C.flags|=2,_):S):(C.flags|=2,_)):(C.flags|=1048576,_)}function i(C){return t&&C.alternate===null&&(C.flags|=2),C}function c(C,_,S,L){return _===null||_.tag!==6?(_=kp(S,C.mode,L),_.return=C,_):(_=a(_,S),_.return=C,_)}function u(C,_,S,L){var K=S.type;return K===gl?g(C,_,S.props.children,L,S.key):_!==null&&(_.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===us&&tx(K)===_.type)?(L=a(_,S.props),L.ref=zi(C,_,S),L.return=C,L):(L=td(S.type,S.key,S.props,null,C.mode,L),L.ref=zi(C,_,S),L.return=C,L)}function m(C,_,S,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Ip(S,C.mode,L),_.return=C,_):(_=a(_,S.children||[]),_.return=C,_)}function g(C,_,S,L,K){return _===null||_.tag!==7?(_=wa(S,C.mode,L,K),_.return=C,_):(_=a(_,S),_.return=C,_)}function h(C,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=kp(""+_,C.mode,S),_.return=C,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Nu:return S=td(_.type,_.key,_.props,null,C.mode,S),S.ref=zi(C,null,_),S.return=C,S;case hl:return _=Ip(_,C.mode,S),_.return=C,_;case us:var L=_._init;return h(C,L(_._payload),S)}if(Zi(_)||Fi(_))return _=wa(_,C.mode,S,null),_.return=C,_;Du(C,_)}return null}function E(C,_,S,L){var K=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return K!==null?null:c(C,_,""+S,L);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nu:return S.key===K?u(C,_,S,L):null;case hl:return S.key===K?m(C,_,S,L):null;case us:return K=S._init,E(C,_,K(S._payload),L)}if(Zi(S)||Fi(S))return K!==null?null:g(C,_,S,L,null);Du(C,S)}return null}function k(C,_,S,L,K){if(typeof L=="string"&&L!==""||typeof L=="number")return C=C.get(S)||null,c(_,C,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Nu:return C=C.get(L.key===null?S:L.key)||null,u(_,C,L,K);case hl:return C=C.get(L.key===null?S:L.key)||null,m(_,C,L,K);case us:var Y=L._init;return k(C,_,S,Y(L._payload),K)}if(Zi(L)||Fi(L))return C=C.get(S)||null,g(_,C,L,K,null);Du(_,L)}return null}function R(C,_,S,L){for(var K=null,Y=null,J=_,Z=_=0,Ie=null;J!==null&&Z<S.length;Z++){J.index>Z?(Ie=J,J=null):Ie=J.sibling;var he=E(C,J,S[Z],L);if(he===null){J===null&&(J=Ie);break}t&&J&&he.alternate===null&&e(C,J),_=l(he,_,Z),Y===null?K=he:Y.sibling=he,Y=he,J=Ie}if(Z===S.length)return n(C,J),$e&&fa(C,Z),K;if(J===null){for(;Z<S.length;Z++)J=h(C,S[Z],L),J!==null&&(_=l(J,_,Z),Y===null?K=J:Y.sibling=J,Y=J);return $e&&fa(C,Z),K}for(J=r(C,J);Z<S.length;Z++)Ie=k(J,C,Z,S[Z],L),Ie!==null&&(t&&Ie.alternate!==null&&J.delete(Ie.key===null?Z:Ie.key),_=l(Ie,_,Z),Y===null?K=Ie:Y.sibling=Ie,Y=Ie);return t&&J.forEach(function(jt){return e(C,jt)}),$e&&fa(C,Z),K}function F(C,_,S,L){var K=Fi(S);if(typeof K!="function")throw Error(U(150));if(S=K.call(S),S==null)throw Error(U(151));for(var Y=K=null,J=_,Z=_=0,Ie=null,he=S.next();J!==null&&!he.done;Z++,he=S.next()){J.index>Z?(Ie=J,J=null):Ie=J.sibling;var jt=E(C,J,he.value,L);if(jt===null){J===null&&(J=Ie);break}t&&J&&jt.alternate===null&&e(C,J),_=l(jt,_,Z),Y===null?K=jt:Y.sibling=jt,Y=jt,J=Ie}if(he.done)return n(C,J),$e&&fa(C,Z),K;if(J===null){for(;!he.done;Z++,he=S.next())he=h(C,he.value,L),he!==null&&(_=l(he,_,Z),Y===null?K=he:Y.sibling=he,Y=he);return $e&&fa(C,Z),K}for(J=r(C,J);!he.done;Z++,he=S.next())he=k(J,C,Z,he.value,L),he!==null&&(t&&he.alternate!==null&&J.delete(he.key===null?Z:he.key),_=l(he,_,Z),Y===null?K=he:Y.sibling=he,Y=he);return t&&J.forEach(function(yr){return e(C,yr)}),$e&&fa(C,Z),K}function oe(C,_,S,L){if(typeof S=="object"&&S!==null&&S.type===gl&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Nu:e:{for(var K=S.key,Y=_;Y!==null;){if(Y.key===K){if(K=S.type,K===gl){if(Y.tag===7){n(C,Y.sibling),_=a(Y,S.props.children),_.return=C,C=_;break e}}else if(Y.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===us&&tx(K)===Y.type){n(C,Y.sibling),_=a(Y,S.props),_.ref=zi(C,Y,S),_.return=C,C=_;break e}n(C,Y);break}else e(C,Y);Y=Y.sibling}S.type===gl?(_=wa(S.props.children,C.mode,L,S.key),_.return=C,C=_):(L=td(S.type,S.key,S.props,null,C.mode,L),L.ref=zi(C,_,S),L.return=C,C=L)}return i(C);case hl:e:{for(Y=S.key;_!==null;){if(_.key===Y)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(C,_.sibling),_=a(_,S.children||[]),_.return=C,C=_;break e}else{n(C,_);break}else e(C,_);_=_.sibling}_=Ip(S,C.mode,L),_.return=C,C=_}return i(C);case us:return Y=S._init,oe(C,_,Y(S._payload),L)}if(Zi(S))return R(C,_,S,L);if(Fi(S))return F(C,_,S,L);Du(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(C,_.sibling),_=a(_,S),_.return=C,C=_):(n(C,_),_=kp(S,C.mode,L),_.return=C,C=_),i(C)):n(C,_)}return oe}var Bl=lw(!0),iw=lw(!1),Ed=zs(null),xd=null,Nl=null,zg=null;function Bg(){zg=Nl=xd=null}function Vg(t){var e=Ed.current;je(Ed),t._currentValue=e}function wh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Al(t,e){xd=t,zg=Nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(zg!==t)if(t={context:t,memoizedValue:e,next:null},Nl===null){if(xd===null)throw Error(U(308));Nl=t,xd.dependencies={lanes:0,firstContext:t}}else Nl=Nl.next=t;return e}var ya=null;function Hg(t){ya===null?ya=[t]:ya.push(t)}function ow(t,e,n,r){var a=e.interleaved;return a===null?(n.next=n,Hg(e)):(n.next=a.next,a.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ds=!1;function Gg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ws(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,Hr(t,n)}return a=r.interleaved,a===null?(e.next=e,Hg(r)):(e.next=a.next,a.next=e),r.interleaved=e,Hr(t,n)}function Yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pg(t,n)}}function nx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?a=l=e:l=l.next=e}else a=l=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bd(t,e,n,r){var a=t.updateQueue;ds=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var u=c,m=u.next;u.next=null,i===null?l=m:i.next=m,i=u;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==i&&(c===null?g.firstBaseUpdate=m:c.next=m,g.lastBaseUpdate=u))}if(l!==null){var h=a.baseState;i=0,g=m=u=null,c=l;do{var E=c.lane,k=c.eventTime;if((r&E)===E){g!==null&&(g=g.next={eventTime:k,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var R=t,F=c;switch(E=e,k=n,F.tag){case 1:if(R=F.payload,typeof R=="function"){h=R.call(k,h,E);break e}h=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=F.payload,E=typeof R=="function"?R.call(k,h,E):R,E==null)break e;h=Ke({},h,E);break e;case 2:ds=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,E=a.effects,E===null?a.effects=[c]:E.push(c))}else k={eventTime:k,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(m=g=k,u=h):g=g.next=k,i|=E;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;E=c,c=E.next,E.next=null,a.lastBaseUpdate=E,a.shared.pending=null}}while(!0);if(g===null&&(u=h),a.baseState=u,a.firstBaseUpdate=m,a.lastBaseUpdate=g,e=a.shared.interleaved,e!==null){a=e;do i|=a.lane,a=a.next;while(a!==e)}else l===null&&(a.shared.lanes=0);Ra|=i,t.lanes=i,t.memoizedState=h}}function rx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(U(191,a));a.call(r)}}}var lc={},fr=zs(lc),Ao=zs(lc),Oo=zs(lc);function Ea(t){if(t===lc)throw Error(U(174));return t}function Kg(t,e){switch(Le(Oo,e),Le(Ao,t),Le(fr,lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rh(e,t)}je(fr),Le(fr,e)}function Vl(){je(fr),je(Ao),je(Oo)}function uw(t){Ea(Oo.current);var e=Ea(fr.current),n=rh(e,t.type);e!==n&&(Le(Ao,t),Le(fr,n))}function qg(t){Ao.current===t&&(je(fr),je(Ao))}var Ve=zs(0);function _d(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bp=[];function Yg(){for(var t=0;t<bp.length;t++)bp[t]._workInProgressVersionPrimary=null;bp.length=0}var Qu=Qr.ReactCurrentDispatcher,_p=Qr.ReactCurrentBatchConfig,Ta=0,Ge=null,it=null,yt=null,wd=!1,co=!1,Mo=0,A2=0;function Mt(){throw Error(U(321))}function Qg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function Jg(t,e,n,r,a,l){if(Ta=l,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qu.current=t===null||t.memoizedState===null?L2:F2,t=n(r,a),co){l=0;do{if(co=!1,Mo=0,25<=l)throw Error(U(301));l+=1,yt=it=null,e.updateQueue=null,Qu.current=U2,t=n(r,a)}while(co)}if(Qu.current=Nd,e=it!==null&&it.next!==null,Ta=0,yt=it=Ge=null,wd=!1,e)throw Error(U(300));return t}function Xg(){var t=Mo!==0;return Mo=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ge.memoizedState=yt=t:yt=yt.next=t,yt}function An(){if(it===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=yt===null?Ge.memoizedState:yt.next;if(e!==null)yt=e,it=t;else{if(t===null)throw Error(U(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},yt===null?Ge.memoizedState=yt=t:yt=yt.next=t}return yt}function Do(t,e){return typeof e=="function"?e(t):e}function wp(t){var e=An(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=it,a=r.baseQueue,l=n.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,r=r.baseState;var c=i=null,u=null,m=l;do{var g=m.lane;if((Ta&g)===g)u!==null&&(u=u.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:t(r,m.action);else{var h={lane:g,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};u===null?(c=u=h,i=r):u=u.next=h,Ge.lanes|=g,Ra|=g}m=m.next}while(m!==null&&m!==l);u===null?i=r:u.next=c,qn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do l=a.lane,Ge.lanes|=l,Ra|=l,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Np(t){var e=An(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,l=e.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do l=t(l,i.action),i=i.next;while(i!==a);qn(l,e.memoizedState)||(Zt=!0),e.memoizedState=l,e.baseQueue===null&&(e.baseState=l),n.lastRenderedState=l}return[l,r]}function dw(){}function mw(t,e){var n=Ge,r=An(),a=e(),l=!qn(r.memoizedState,a);if(l&&(r.memoizedState=a,Zt=!0),r=r.queue,Zg(hw.bind(null,n,r,t),[t]),r.getSnapshot!==e||l||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Lo(9,pw.bind(null,n,r,a,e),void 0,null),_t===null)throw Error(U(349));Ta&30||fw(n,e,a)}return a}function fw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pw(t,e,n,r){e.value=n,e.getSnapshot=r,gw(e)&&vw(t)}function hw(t,e,n){return n(function(){gw(e)&&vw(t)})}function gw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function vw(t){var e=Hr(t,1);e!==null&&Hn(e,t,1,-1)}function sx(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:t},e.queue=t,t=t.dispatch=D2.bind(null,Ge,t),[e.memoizedState,t]}function Lo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yw(){return An().memoizedState}function Ju(t,e,n,r){var a=ar();Ge.flags|=t,a.memoizedState=Lo(1|e,n,void 0,r===void 0?null:r)}function lm(t,e,n,r){var a=An();r=r===void 0?null:r;var l=void 0;if(it!==null){var i=it.memoizedState;if(l=i.destroy,r!==null&&Qg(r,i.deps)){a.memoizedState=Lo(e,n,l,r);return}}Ge.flags|=t,a.memoizedState=Lo(1|e,n,l,r)}function ax(t,e){return Ju(8390656,8,t,e)}function Zg(t,e){return lm(2048,8,t,e)}function Ew(t,e){return lm(4,2,t,e)}function xw(t,e){return lm(4,4,t,e)}function bw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _w(t,e,n){return n=n!=null?n.concat([t]):null,lm(4,4,bw.bind(null,e,t),n)}function e0(){}function ww(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Nw(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Cw(t,e,n){return Ta&21?(qn(n,e)||(n=R_(),Ge.lanes|=n,Ra|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function O2(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=_p.transition;_p.transition={};try{t(!1),e()}finally{Pe=n,_p.transition=r}}function Sw(){return An().memoizedState}function M2(t,e,n){var r=Cs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kw(t))Iw(e,n);else if(n=ow(t,e,n,r),n!==null){var a=Bt();Hn(n,t,r,a),Tw(n,e,r)}}function D2(t,e,n){var r=Cs(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kw(t))Iw(e,a);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=e.lastRenderedReducer,l!==null))try{var i=e.lastRenderedState,c=l(i,n);if(a.hasEagerState=!0,a.eagerState=c,qn(c,i)){var u=e.interleaved;u===null?(a.next=a,Hg(e)):(a.next=u.next,u.next=a),e.interleaved=a;return}}catch{}finally{}n=ow(t,e,a,r),n!==null&&(a=Bt(),Hn(n,t,r,a),Tw(n,e,r))}}function kw(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function Iw(t,e){co=wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pg(t,n)}}var Nd={readContext:Pn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},L2={readContext:Pn,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:ax,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4194308,4,bw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ju(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=M2.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:sx,useDebugValue:e0,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=sx(!1),e=t[0];return t=O2.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,a=ar();if($e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),_t===null)throw Error(U(349));Ta&30||fw(r,e,n)}a.memoizedState=n;var l={value:n,getSnapshot:e};return a.queue=l,ax(hw.bind(null,r,l,t),[t]),r.flags|=2048,Lo(9,pw.bind(null,r,l,n,e),void 0,null),n},useId:function(){var t=ar(),e=_t.identifierPrefix;if($e){var n=Dr,r=Mr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=A2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},F2={readContext:Pn,useCallback:ww,useContext:Pn,useEffect:Zg,useImperativeHandle:_w,useInsertionEffect:Ew,useLayoutEffect:xw,useMemo:Nw,useReducer:wp,useRef:yw,useState:function(){return wp(Do)},useDebugValue:e0,useDeferredValue:function(t){var e=An();return Cw(e,it.memoizedState,t)},useTransition:function(){var t=wp(Do)[0],e=An().memoizedState;return[t,e]},useMutableSource:dw,useSyncExternalStore:mw,useId:Sw,unstable_isNewReconciler:!1},U2={readContext:Pn,useCallback:ww,useContext:Pn,useEffect:Zg,useImperativeHandle:_w,useInsertionEffect:Ew,useLayoutEffect:xw,useMemo:Nw,useReducer:Np,useRef:yw,useState:function(){return Np(Do)},useDebugValue:e0,useDeferredValue:function(t){var e=An();return it===null?e.memoizedState=t:Cw(e,it.memoizedState,t)},useTransition:function(){var t=Np(Do)[0],e=An().memoizedState;return[t,e]},useMutableSource:dw,useSyncExternalStore:mw,useId:Sw,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Nh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var im={isMounted:function(t){return(t=t._reactInternals)?$a(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),a=Cs(t),l=$r(r,a);l.payload=e,n!=null&&(l.callback=n),e=ws(t,l,a),e!==null&&(Hn(e,t,a,r),Yu(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),a=Cs(t),l=$r(r,a);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=ws(t,l,a),e!==null&&(Hn(e,t,a,r),Yu(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=Cs(t),a=$r(n,r);a.tag=2,e!=null&&(a.callback=e),e=ws(t,a,r),e!==null&&(Hn(e,t,r,n),Yu(e,t,r))}};function lx(t,e,n,r,a,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,i):e.prototype&&e.prototype.isPureReactComponent?!Io(n,r)||!Io(a,l):!0}function Rw(t,e,n){var r=!1,a=As,l=e.contextType;return typeof l=="object"&&l!==null?l=Pn(l):(a=nn(e)?ka:Ut.current,r=e.contextTypes,l=(r=r!=null)?Wl(t,a):As),e=new e(n,l),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=im,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=l),e}function ix(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&im.enqueueReplaceState(e,e.state,null)}function Ch(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs={},Gg(t);var l=e.contextType;typeof l=="object"&&l!==null?a.context=Pn(l):(l=nn(e)?ka:Ut.current,a.context=Wl(t,l)),a.state=t.memoizedState,l=e.getDerivedStateFromProps,typeof l=="function"&&(Nh(t,e,l,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&im.enqueueReplaceState(a,a.state,null),bd(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Hl(t,e){try{var n="",r=e;do n+=mI(r),r=r.return;while(r);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:e,stack:a,digest:null}}function Cp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var j2=typeof WeakMap=="function"?WeakMap:Map;function Pw(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Sd||(Sd=!0,Lh=r),Sh(t,e)},n}function Aw(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;n.payload=function(){return r(a)},n.callback=function(){Sh(t,e)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Sh(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function ox(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new j2;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(a.add(n),t=Z2.bind(null,t,e,n),e.then(t,t))}function cx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ux(t,e,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,ws(n,e,1))),n.lanes|=1),t)}var $2=Qr.ReactCurrentOwner,Zt=!1;function Wt(t,e,n,r){e.child=t===null?iw(e,null,n,r):Bl(e,t.child,n,r)}function dx(t,e,n,r,a){n=n.render;var l=e.ref;return Al(e,a),r=Jg(t,e,n,r,l,a),n=Xg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Gr(t,e,a)):($e&&n&&jg(e),e.flags|=1,Wt(t,e,r,a),e.child)}function mx(t,e,n,r,a){if(t===null){var l=n.type;return typeof l=="function"&&!o0(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=l,Ow(t,e,l,r,a)):(t=td(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(l=t.child,!(t.lanes&a)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Io,n(i,r)&&t.ref===e.ref)return Gr(t,e,a)}return e.flags|=1,t=Ss(l,r),t.ref=e.ref,t.return=e,e.child=t}function Ow(t,e,n,r,a){if(t!==null){var l=t.memoizedProps;if(Io(l,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=l,(t.lanes&a)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Gr(t,e,a)}return kh(t,e,n,r,a)}function Mw(t,e,n){var r=e.pendingProps,a=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Sl,cn),cn|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Sl,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Le(Sl,cn),cn|=r}else l!==null?(r=l.baseLanes|n,e.memoizedState=null):r=n,Le(Sl,cn),cn|=r;return Wt(t,e,a,n),e.child}function Dw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kh(t,e,n,r,a){var l=nn(n)?ka:Ut.current;return l=Wl(e,l),Al(e,a),n=Jg(t,e,n,r,l,a),r=Xg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Gr(t,e,a)):($e&&r&&jg(e),e.flags|=1,Wt(t,e,n,a),e.child)}function fx(t,e,n,r,a){if(nn(n)){var l=!0;gd(e)}else l=!1;if(Al(e,a),e.stateNode===null)Xu(t,e),Rw(e,n,r),Ch(e,n,r,a),r=!0;else if(t===null){var i=e.stateNode,c=e.memoizedProps;i.props=c;var u=i.context,m=n.contextType;typeof m=="object"&&m!==null?m=Pn(m):(m=nn(n)?ka:Ut.current,m=Wl(e,m));var g=n.getDerivedStateFromProps,h=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==r||u!==m)&&ix(e,i,r,m),ds=!1;var E=e.memoizedState;i.state=E,bd(e,r,i,a),u=e.memoizedState,c!==r||E!==u||tn.current||ds?(typeof g=="function"&&(Nh(e,n,g,r),u=e.memoizedState),(c=ds||lx(e,n,c,r,E,u,m))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),i.props=r,i.state=u,i.context=m,r=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,cw(t,e),c=e.memoizedProps,m=e.type===e.elementType?c:$n(e.type,c),i.props=m,h=e.pendingProps,E=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Pn(u):(u=nn(n)?ka:Ut.current,u=Wl(e,u));var k=n.getDerivedStateFromProps;(g=typeof k=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==h||E!==u)&&ix(e,i,r,u),ds=!1,E=e.memoizedState,i.state=E,bd(e,r,i,a);var R=e.memoizedState;c!==h||E!==R||tn.current||ds?(typeof k=="function"&&(Nh(e,n,k,r),R=e.memoizedState),(m=ds||lx(e,n,m,r,E,R,u)||!1)?(g||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,R,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,R,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),i.props=r,i.state=R,i.context=u,r=m):(typeof i.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),r=!1)}return Ih(t,e,n,r,l,a)}function Ih(t,e,n,r,a,l){Dw(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return a&&XE(e,n,!1),Gr(t,e,l);r=e.stateNode,$2.current=e;var c=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Bl(e,t.child,null,l),e.child=Bl(e,null,c,l)):Wt(t,e,c,l),e.memoizedState=r.state,a&&XE(e,n,!0),e.child}function Lw(t){var e=t.stateNode;e.pendingContext?JE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JE(t,e.context,!1),Kg(t,e.containerInfo)}function px(t,e,n,r,a){return zl(),Wg(a),e.flags|=256,Wt(t,e,n,r),e.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Rh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fw(t,e,n){var r=e.pendingProps,a=Ve.current,l=!1,i=(e.flags&128)!==0,c;if((c=i)||(c=t!==null&&t.memoizedState===null?!1:(a&2)!==0),c?(l=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Le(Ve,a&1),t===null)return _h(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,l?(r=e.mode,l=e.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=um(i,r,0,null),t=wa(t,r,n,null),l.return=e,t.return=e,l.sibling=t,e.child=l,e.child.memoizedState=Rh(n),e.memoizedState=Th,t):t0(e,i));if(a=t.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return W2(t,e,i,r,c,a,n);if(l){l=r.fallback,i=e.mode,a=t.child,c=a.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ss(a,u),r.subtreeFlags=a.subtreeFlags&14680064),c!==null?l=Ss(c,l):(l=wa(l,i,n,null),l.flags|=2),l.return=e,r.return=e,r.sibling=l,e.child=r,r=l,l=e.child,i=t.child.memoizedState,i=i===null?Rh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~n,e.memoizedState=Th,r}return l=t.child,t=l.sibling,r=Ss(l,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function t0(t,e){return e=um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,n,r){return r!==null&&Wg(r),Bl(e,t.child,null,n),t=t0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W2(t,e,n,r,a,l,i){if(n)return e.flags&256?(e.flags&=-257,r=Cp(Error(U(422))),Lu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(l=r.fallback,a=e.mode,r=um({mode:"visible",children:r.children},a,0,null),l=wa(l,a,i,null),l.flags|=2,r.return=e,l.return=e,r.sibling=l,e.child=r,e.mode&1&&Bl(e,t.child,null,i),e.child.memoizedState=Rh(i),e.memoizedState=Th,l);if(!(e.mode&1))return Lu(t,e,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(U(419)),r=Cp(l,r,void 0),Lu(t,e,i,r)}if(c=(i&t.childLanes)!==0,Zt||c){if(r=_t,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Hr(t,a),Hn(r,t,a,-1))}return i0(),r=Cp(Error(U(421))),Lu(t,e,i,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=e3.bind(null,t),a._reactRetry=e,null):(t=l.treeContext,fn=_s(a.nextSibling),hn=e,$e=!0,zn=null,t!==null&&(wn[Nn++]=Mr,wn[Nn++]=Dr,wn[Nn++]=Ia,Mr=t.id,Dr=t.overflow,Ia=e),e=t0(e,r.children),e.flags|=4096,e)}function hx(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wh(t.return,e,n)}function Sp(t,e,n,r,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function Uw(t,e,n){var r=e.pendingProps,a=r.revealOrder,l=r.tail;if(Wt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hx(t,n,e);else if(t.tag===19)hx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&_d(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),Sp(e,!1,a,n,l);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&_d(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}Sp(e,!0,n,null,l);break;case"together":Sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ra|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function z2(t,e,n){switch(e.tag){case 3:Lw(e),zl();break;case 5:uw(e);break;case 1:nn(e.type)&&gd(e);break;case 4:Kg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;Le(Ed,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?Fw(t,e,n):(Le(Ve,Ve.current&1),t=Gr(t,e,n),t!==null?t.sibling:null);Le(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Uw(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Le(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,Mw(t,e,n)}return Gr(t,e,n)}var jw,Ph,$w,Ww;jw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ph=function(){};$w=function(t,e,n,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,Ea(fr.current);var l=null;switch(n){case"input":a=Zp(t,a),r=Zp(t,r),l=[];break;case"select":a=Ke({},a,{value:void 0}),r=Ke({},r,{value:void 0}),l=[];break;case"textarea":a=nh(t,a),r=nh(t,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pd)}sh(n,r);var i;n=null;for(m in a)if(!r.hasOwnProperty(m)&&a.hasOwnProperty(m)&&a[m]!=null)if(m==="style"){var c=a[m];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(bo.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in r){var u=r[m];if(c=a!=null?a[m]:void 0,r.hasOwnProperty(m)&&u!==c&&(u!=null||c!=null))if(m==="style")if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(m,n)),n=u;else m==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(l=l||[]).push(m,u)):m==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(m,""+u):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(bo.hasOwnProperty(m)?(u!=null&&m==="onScroll"&&Ue("scroll",t),l||c===u||(l=[])):(l=l||[]).push(m,u))}n&&(l=l||[]).push("style",n);var m=l;(e.updateQueue=m)&&(e.flags|=4)}};Ww=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bi(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B2(t,e,n){var r=e.pendingProps;switch($g(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return nn(e.type)&&hd(),Dt(e),null;case 3:return r=e.stateNode,Vl(),je(tn),je(Ut),Yg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(jh(zn),zn=null))),Ph(t,e),Dt(e),null;case 5:qg(e);var a=Ea(Oo.current);if(n=e.type,t!==null&&e.stateNode!=null)$w(t,e,n,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Dt(e),null}if(t=Ea(fr.current),Mu(e)){r=e.stateNode,n=e.type;var l=e.memoizedProps;switch(r[lr]=e,r[Po]=l,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<to.length;a++)Ue(to[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":NE(r,l),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ue("invalid",r);break;case"textarea":SE(r,l),Ue("invalid",r)}sh(n,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&Ou(r.textContent,c,t),a=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Ou(r.textContent,c,t),a=["children",""+c]):bo.hasOwnProperty(i)&&c!=null&&i==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Cu(r),CE(r,l,!0);break;case"textarea":Cu(r),kE(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=pd)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[lr]=e,t[Po]=r,jw(t,e,!1,!1),e.stateNode=t;e:{switch(i=ah(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),a=r;break;case"iframe":case"object":case"embed":Ue("load",t),a=r;break;case"video":case"audio":for(a=0;a<to.length;a++)Ue(to[a],t);a=r;break;case"source":Ue("error",t),a=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),a=r;break;case"details":Ue("toggle",t),a=r;break;case"input":NE(t,r),a=Zp(t,r),Ue("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=Ke({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":SE(t,r),a=nh(t,r),Ue("invalid",t);break;default:a=r}sh(n,a),c=a;for(l in c)if(c.hasOwnProperty(l)){var u=c[l];l==="style"?y_(t,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&g_(t,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&_o(t,u):typeof u=="number"&&_o(t,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bo.hasOwnProperty(l)?u!=null&&l==="onScroll"&&Ue("scroll",t):u!=null&&Cg(t,l,u,i))}switch(n){case"input":Cu(t),CE(t,r,!1);break;case"textarea":Cu(t),kE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ps(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?Il(t,!!r.multiple,l,!1):r.defaultValue!=null&&Il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)Ww(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ea(Oo.current),Ea(fr.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(l=r.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(r.nodeValue,n,(t.mode&1)!==0)}l&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Dt(e),null;case 13:if(je(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&fn!==null&&e.mode&1&&!(e.flags&128))aw(),zl(),e.flags|=98560,l=!1;else if(l=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(U(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[lr]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),l=!1}else zn!==null&&(jh(zn),zn=null),l=!0;if(!l)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?ct===0&&(ct=3):i0())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Vl(),Ph(t,e),t===null&&To(e.stateNode.containerInfo),Dt(e),null;case 10:return Vg(e.type._context),Dt(e),null;case 17:return nn(e.type)&&hd(),Dt(e),null;case 19:if(je(Ve),l=e.memoizedState,l===null)return Dt(e),null;if(r=(e.flags&128)!==0,i=l.rendering,i===null)if(r)Bi(l,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=_d(t),i!==null){for(e.flags|=128,Bi(l,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)l=n,t=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ve,Ve.current&1|2),e.child}t=t.sibling}l.tail!==null&&et()>Gl&&(e.flags|=128,r=!0,Bi(l,!1),e.lanes=4194304)}else{if(!r)if(t=_d(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!$e)return Dt(e),null}else 2*et()-l.renderingStartTime>Gl&&n!==1073741824&&(e.flags|=128,r=!0,Bi(l,!1),e.lanes=4194304);l.isBackwards?(i.sibling=e.child,e.child=i):(n=l.last,n!==null?n.sibling=i:e.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=et(),e.sibling=null,n=Ve.current,Le(Ve,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return l0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function V2(t,e){switch($g(e),e.tag){case 1:return nn(e.type)&&hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vl(),je(tn),je(Ut),Yg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qg(e),null;case 13:if(je(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Ve),null;case 4:return Vl(),null;case 10:return Vg(e.type._context),null;case 22:case 23:return l0(),null;case 24:return null;default:return null}}var Fu=!1,Lt=!1,H2=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Cl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Ah(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var gx=!1;function G2(t,e){if(hh=dd,t=G_(),Ug(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,c=-1,u=-1,m=0,g=0,h=t,E=null;t:for(;;){for(var k;h!==n||a!==0&&h.nodeType!==3||(c=i+a),h!==l||r!==0&&h.nodeType!==3||(u=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(k=h.firstChild)!==null;)E=h,h=k;for(;;){if(h===t)break t;if(E===n&&++m===a&&(c=i),E===l&&++g===r&&(u=i),(k=h.nextSibling)!==null)break;h=E,E=h.parentNode}h=k}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:t,selectionRange:n},dd=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var F=R.memoizedProps,oe=R.memoizedState,C=e.stateNode,_=C.getSnapshotBeforeUpdate(e.elementType===e.type?F:$n(e.type,F),oe);C.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(L){Ye(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return R=gx,gx=!1,R}function uo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var l=a.destroy;a.destroy=void 0,l!==void 0&&Ah(e,n,l)}a=a.next}while(a!==r)}}function om(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zw(t){var e=t.alternate;e!==null&&(t.alternate=null,zw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Po],delete e[Eh],delete e[I2],delete e[T2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bw(t){return t.tag===5||t.tag===3||t.tag===4}function vx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pd));else if(r!==4&&(t=t.child,t!==null))for(Mh(t,e,n),t=t.sibling;t!==null;)Mh(t,e,n),t=t.sibling}function Dh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dh(t,e,n),t=t.sibling;t!==null;)Dh(t,e,n),t=t.sibling}var It=null,Wn=!1;function is(t,e,n){for(n=n.child;n!==null;)Vw(t,e,n),n=n.sibling}function Vw(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount(em,n)}catch{}switch(n.tag){case 5:Lt||Cl(n,e);case 6:var r=It,a=Wn;It=null,is(t,e,n),It=r,Wn=a,It!==null&&(Wn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Wn?(t=It,n=n.stateNode,t.nodeType===8?Ep(t.parentNode,n):t.nodeType===1&&Ep(t,n),So(t)):Ep(It,n.stateNode));break;case 4:r=It,a=Wn,It=n.stateNode.containerInfo,Wn=!0,is(t,e,n),It=r,Wn=a;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Ah(n,e,i),a=a.next}while(a!==r)}is(t,e,n);break;case 1:if(!Lt&&(Cl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ye(n,e,c)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,is(t,e,n),Lt=r):is(t,e,n);break;default:is(t,e,n)}}function yx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H2),e.forEach(function(r){var a=t3.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var l=t,i=e,c=i;e:for(;c!==null;){switch(c.tag){case 5:It=c.stateNode,Wn=!1;break e;case 3:It=c.stateNode.containerInfo,Wn=!0;break e;case 4:It=c.stateNode.containerInfo,Wn=!0;break e}c=c.return}if(It===null)throw Error(U(160));Vw(l,i,a),It=null,Wn=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(m){Ye(a,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hw(e,t),e=e.sibling}function Hw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),sr(t),r&4){try{uo(3,t,t.return),om(3,t)}catch(F){Ye(t,t.return,F)}try{uo(5,t,t.return)}catch(F){Ye(t,t.return,F)}}break;case 1:Un(e,t),sr(t),r&512&&n!==null&&Cl(n,n.return);break;case 5:if(Un(e,t),sr(t),r&512&&n!==null&&Cl(n,n.return),t.flags&32){var a=t.stateNode;try{_o(a,"")}catch(F){Ye(t,t.return,F)}}if(r&4&&(a=t.stateNode,a!=null)){var l=t.memoizedProps,i=n!==null?n.memoizedProps:l,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&f_(a,l),ah(c,i);var m=ah(c,l);for(i=0;i<u.length;i+=2){var g=u[i],h=u[i+1];g==="style"?y_(a,h):g==="dangerouslySetInnerHTML"?g_(a,h):g==="children"?_o(a,h):Cg(a,g,h,m)}switch(c){case"input":eh(a,l);break;case"textarea":p_(a,l);break;case"select":var E=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var k=l.value;k!=null?Il(a,!!l.multiple,k,!1):E!==!!l.multiple&&(l.defaultValue!=null?Il(a,!!l.multiple,l.defaultValue,!0):Il(a,!!l.multiple,l.multiple?[]:"",!1))}a[Po]=l}catch(F){Ye(t,t.return,F)}}break;case 6:if(Un(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(U(162));a=t.stateNode,l=t.memoizedProps;try{a.nodeValue=l}catch(F){Ye(t,t.return,F)}}break;case 3:if(Un(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{So(e.containerInfo)}catch(F){Ye(t,t.return,F)}break;case 4:Un(e,t),sr(t);break;case 13:Un(e,t),sr(t),a=t.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(s0=et())),r&4&&yx(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(m=Lt)||g,Un(e,t),Lt=m):Un(e,t),sr(t),r&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!g&&t.mode&1)for(Q=t,g=t.child;g!==null;){for(h=Q=g;Q!==null;){switch(E=Q,k=E.child,E.tag){case 0:case 11:case 14:case 15:uo(4,E,E.return);break;case 1:Cl(E,E.return);var R=E.stateNode;if(typeof R.componentWillUnmount=="function"){r=E,n=E.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(F){Ye(r,n,F)}}break;case 5:Cl(E,E.return);break;case 22:if(E.memoizedState!==null){xx(h);continue}}k!==null?(k.return=E,Q=k):xx(h)}g=g.sibling}e:for(g=null,h=t;;){if(h.tag===5){if(g===null){g=h;try{a=h.stateNode,m?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=h.stateNode,u=h.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=v_("display",i))}catch(F){Ye(t,t.return,F)}}}else if(h.tag===6){if(g===null)try{h.stateNode.nodeValue=m?"":h.memoizedProps}catch(F){Ye(t,t.return,F)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Un(e,t),sr(t),r&4&&yx(t);break;case 21:break;default:Un(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bw(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(_o(a,""),r.flags&=-33);var l=vx(t);Dh(t,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,c=vx(t);Mh(t,c,i);break;default:throw Error(U(161))}}catch(u){Ye(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K2(t,e,n){Q=t,Gw(t)}function Gw(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var a=Q,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||Fu;if(!i){var c=a.alternate,u=c!==null&&c.memoizedState!==null||Lt;c=Fu;var m=Lt;if(Fu=i,(Lt=u)&&!m)for(Q=a;Q!==null;)i=Q,u=i.child,i.tag===22&&i.memoizedState!==null?bx(a):u!==null?(u.return=i,Q=u):bx(a);for(;l!==null;)Q=l,Gw(l),l=l.sibling;Q=a,Fu=c,Lt=m}Ex(t)}else a.subtreeFlags&8772&&l!==null?(l.return=a,Q=l):Ex(t)}}function Ex(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||om(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=e.updateQueue;l!==null&&rx(e,l,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rx(e,i,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var g=m.memoizedState;if(g!==null){var h=g.dehydrated;h!==null&&So(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Lt||e.flags&512&&Oh(e)}catch(E){Ye(e,e.return,E)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function xx(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function bx(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{om(4,e)}catch(u){Ye(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(u){Ye(e,a,u)}}var l=e.return;try{Oh(e)}catch(u){Ye(e,l,u)}break;case 5:var i=e.return;try{Oh(e)}catch(u){Ye(e,i,u)}}}catch(u){Ye(e,e.return,u)}if(e===t){Q=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Q=c;break}Q=e.return}}var q2=Math.ceil,Cd=Qr.ReactCurrentDispatcher,n0=Qr.ReactCurrentOwner,Tn=Qr.ReactCurrentBatchConfig,be=0,_t=null,at=null,Tt=0,cn=0,Sl=zs(0),ct=0,Fo=null,Ra=0,cm=0,r0=0,mo=null,Jt=null,s0=0,Gl=1/0,Ar=null,Sd=!1,Lh=null,Ns=null,Uu=!1,hs=null,kd=0,fo=0,Fh=null,Zu=-1,ed=0;function Bt(){return be&6?et():Zu!==-1?Zu:Zu=et()}function Cs(t){return t.mode&1?be&2&&Tt!==0?Tt&-Tt:P2.transition!==null?(ed===0&&(ed=R_()),ed):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:F_(t.type)),t):1}function Hn(t,e,n,r){if(50<fo)throw fo=0,Fh=null,Error(U(185));rc(t,n,r),(!(be&2)||t!==_t)&&(t===_t&&(!(be&2)&&(cm|=n),ct===4&&fs(t,Tt)),rn(t,r),n===1&&be===0&&!(e.mode&1)&&(Gl=et()+500,am&&Bs()))}function rn(t,e){var n=t.callbackNode;PI(t,e);var r=ud(t,t===_t?Tt:0);if(r===0)n!==null&&RE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&RE(n),e===1)t.tag===0?R2(_x.bind(null,t)):nw(_x.bind(null,t)),S2(function(){!(be&6)&&Bs()}),n=null;else{switch(P_(r)){case 1:n=Rg;break;case 4:n=I_;break;case 16:n=cd;break;case 536870912:n=T_;break;default:n=cd}n=eN(n,Kw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Kw(t,e){if(Zu=-1,ed=0,be&6)throw Error(U(327));var n=t.callbackNode;if(Ol()&&t.callbackNode!==n)return null;var r=ud(t,t===_t?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Id(t,r);else{e=r;var a=be;be|=2;var l=Yw();(_t!==t||Tt!==e)&&(Ar=null,Gl=et()+500,_a(t,e));do try{J2();break}catch(c){qw(t,c)}while(!0);Bg(),Cd.current=l,be=a,at!==null?e=0:(_t=null,Tt=0,e=ct)}if(e!==0){if(e===2&&(a=uh(t),a!==0&&(r=a,e=Uh(t,a))),e===1)throw n=Fo,_a(t,0),fs(t,r),rn(t,et()),n;if(e===6)fs(t,r);else{if(a=t.current.alternate,!(r&30)&&!Y2(a)&&(e=Id(t,r),e===2&&(l=uh(t),l!==0&&(r=l,e=Uh(t,l))),e===1))throw n=Fo,_a(t,0),fs(t,r),rn(t,et()),n;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:pa(t,Jt,Ar);break;case 3:if(fs(t,r),(r&130023424)===r&&(e=s0+500-et(),10<e)){if(ud(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=yh(pa.bind(null,t,Jt,Ar),e);break}pa(t,Jt,Ar);break;case 4:if(fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var i=31-Vn(r);l=1<<i,i=e[i],i>a&&(a=i),r&=~l}if(r=a,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*q2(r/1960))-r,10<r){t.timeoutHandle=yh(pa.bind(null,t,Jt,Ar),r);break}pa(t,Jt,Ar);break;case 5:pa(t,Jt,Ar);break;default:throw Error(U(329))}}}return rn(t,et()),t.callbackNode===n?Kw.bind(null,t):null}function Uh(t,e){var n=mo;return t.current.memoizedState.isDehydrated&&(_a(t,e).flags|=256),t=Id(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&jh(e)),t}function jh(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function Y2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!qn(l(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~r0,e&=~cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function _x(t){if(be&6)throw Error(U(327));Ol();var e=ud(t,0);if(!(e&1))return rn(t,et()),null;var n=Id(t,e);if(t.tag!==0&&n===2){var r=uh(t);r!==0&&(e=r,n=Uh(t,r))}if(n===1)throw n=Fo,_a(t,0),fs(t,e),rn(t,et()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pa(t,Jt,Ar),rn(t,et()),null}function a0(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Gl=et()+500,am&&Bs())}}function Pa(t){hs!==null&&hs.tag===0&&!(be&6)&&Ol();var e=be;be|=1;var n=Tn.transition,r=Pe;try{if(Tn.transition=null,Pe=1,t)return t()}finally{Pe=r,Tn.transition=n,be=e,!(be&6)&&Bs()}}function l0(){cn=Sl.current,je(Sl)}function _a(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,C2(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch($g(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hd();break;case 3:Vl(),je(tn),je(Ut),Yg();break;case 5:qg(r);break;case 4:Vl();break;case 13:je(Ve);break;case 19:je(Ve);break;case 10:Vg(r.type._context);break;case 22:case 23:l0()}n=n.return}if(_t=t,at=t=Ss(t.current,null),Tt=cn=e,ct=0,Fo=null,r0=cm=Ra=0,Jt=mo=null,ya!==null){for(e=0;e<ya.length;e++)if(n=ya[e],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}n.pending=r}ya=null}return t}function qw(t,e){do{var n=at;try{if(Bg(),Qu.current=Nd,wd){for(var r=Ge.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}wd=!1}if(Ta=0,yt=it=Ge=null,co=!1,Mo=0,n0.current=null,n===null||n.return===null){ct=1,Fo=e,at=null;break}e:{var l=t,i=n.return,c=n,u=e;if(e=Tt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=u,g=c,h=g.tag;if(!(g.mode&1)&&(h===0||h===11||h===15)){var E=g.alternate;E?(g.updateQueue=E.updateQueue,g.memoizedState=E.memoizedState,g.lanes=E.lanes):(g.updateQueue=null,g.memoizedState=null)}var k=cx(i);if(k!==null){k.flags&=-257,ux(k,i,c,l,e),k.mode&1&&ox(l,m,e),e=k,u=m;var R=e.updateQueue;if(R===null){var F=new Set;F.add(u),e.updateQueue=F}else R.add(u);break e}else{if(!(e&1)){ox(l,m,e),i0();break e}u=Error(U(426))}}else if($e&&c.mode&1){var oe=cx(i);if(oe!==null){!(oe.flags&65536)&&(oe.flags|=256),ux(oe,i,c,l,e),Wg(Hl(u,c));break e}}l=u=Hl(u,c),ct!==4&&(ct=2),mo===null?mo=[l]:mo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,e&=-e,l.lanes|=e;var C=Pw(l,u,e);nx(l,C);break e;case 1:c=u;var _=l.type,S=l.stateNode;if(!(l.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ns===null||!Ns.has(S)))){l.flags|=65536,e&=-e,l.lanes|=e;var L=Aw(l,c,e);nx(l,L);break e}}l=l.return}while(l!==null)}Jw(n)}catch(K){e=K,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function Yw(){var t=Cd.current;return Cd.current=Nd,t===null?Nd:t}function i0(){(ct===0||ct===3||ct===2)&&(ct=4),_t===null||!(Ra&268435455)&&!(cm&268435455)||fs(_t,Tt)}function Id(t,e){var n=be;be|=2;var r=Yw();(_t!==t||Tt!==e)&&(Ar=null,_a(t,e));do try{Q2();break}catch(a){qw(t,a)}while(!0);if(Bg(),be=n,Cd.current=r,at!==null)throw Error(U(261));return _t=null,Tt=0,ct}function Q2(){for(;at!==null;)Qw(at)}function J2(){for(;at!==null&&!_I();)Qw(at)}function Qw(t){var e=Zw(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?Jw(t):at=e,n0.current=null}function Jw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=V2(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,at=null;return}}else if(n=B2(n,e,cn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);ct===0&&(ct=5)}function pa(t,e,n){var r=Pe,a=Tn.transition;try{Tn.transition=null,Pe=1,X2(t,e,n,r)}finally{Tn.transition=a,Pe=r}return null}function X2(t,e,n,r){do Ol();while(hs!==null);if(be&6)throw Error(U(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(AI(t,l),t===_t&&(at=_t=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uu||(Uu=!0,eN(cd,function(){return Ol(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Tn.transition,Tn.transition=null;var i=Pe;Pe=1;var c=be;be|=4,n0.current=null,G2(t,n),Hw(n,t),y2(gh),dd=!!hh,gh=hh=null,t.current=n,K2(n),wI(),be=c,Pe=i,Tn.transition=l}else t.current=n;if(Uu&&(Uu=!1,hs=t,kd=a),l=t.pendingLanes,l===0&&(Ns=null),SI(n.stateNode),rn(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Sd)throw Sd=!1,t=Lh,Lh=null,t;return kd&1&&t.tag!==0&&Ol(),l=t.pendingLanes,l&1?t===Fh?fo++:(fo=0,Fh=t):fo=0,Bs(),null}function Ol(){if(hs!==null){var t=P_(kd),e=Tn.transition,n=Pe;try{if(Tn.transition=null,Pe=16>t?16:t,hs===null)var r=!1;else{if(t=hs,hs=null,kd=0,be&6)throw Error(U(331));var a=be;for(be|=4,Q=t.current;Q!==null;){var l=Q,i=l.child;if(Q.flags&16){var c=l.deletions;if(c!==null){for(var u=0;u<c.length;u++){var m=c[u];for(Q=m;Q!==null;){var g=Q;switch(g.tag){case 0:case 11:case 15:uo(8,g,l)}var h=g.child;if(h!==null)h.return=g,Q=h;else for(;Q!==null;){g=Q;var E=g.sibling,k=g.return;if(zw(g),g===m){Q=null;break}if(E!==null){E.return=k,Q=E;break}Q=k}}}var R=l.alternate;if(R!==null){var F=R.child;if(F!==null){R.child=null;do{var oe=F.sibling;F.sibling=null,F=oe}while(F!==null)}}Q=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,Q=i;else e:for(;Q!==null;){if(l=Q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:uo(9,l,l.return)}var C=l.sibling;if(C!==null){C.return=l.return,Q=C;break e}Q=l.return}}var _=t.current;for(Q=_;Q!==null;){i=Q;var S=i.child;if(i.subtreeFlags&2064&&S!==null)S.return=i,Q=S;else e:for(i=_;Q!==null;){if(c=Q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:om(9,c)}}catch(K){Ye(c,c.return,K)}if(c===i){Q=null;break e}var L=c.sibling;if(L!==null){L.return=c.return,Q=L;break e}Q=c.return}}if(be=a,Bs(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot(em,t)}catch{}r=!0}return r}finally{Pe=n,Tn.transition=e}}return!1}function wx(t,e,n){e=Hl(n,e),e=Pw(t,e,1),t=ws(t,e,1),e=Bt(),t!==null&&(rc(t,1,e),rn(t,e))}function Ye(t,e,n){if(t.tag===3)wx(t,t,n);else for(;e!==null;){if(e.tag===3){wx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=Hl(n,t),t=Aw(e,t,1),e=ws(e,t,1),t=Bt(),e!==null&&(rc(e,1,t),rn(e,t));break}}e=e.return}}function Z2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Tt&n)===n&&(ct===4||ct===3&&(Tt&130023424)===Tt&&500>et()-s0?_a(t,0):r0|=n),rn(t,e)}function Xw(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=Bt();t=Hr(t,e),t!==null&&(rc(t,e,n),rn(t,n))}function e3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xw(t,n)}function t3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Xw(t,n)}var Zw;Zw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,z2(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,$e&&e.flags&1048576&&rw(e,yd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xu(t,e),t=e.pendingProps;var a=Wl(e,Ut.current);Al(e,n),a=Jg(null,e,r,t,a,n);var l=Xg();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(r)?(l=!0,gd(e)):l=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Gg(e),a.updater=im,e.stateNode=a,a._reactInternals=e,Ch(e,r,t,n),e=Ih(null,e,r,!0,l,n)):(e.tag=0,$e&&l&&jg(e),Wt(null,e,a,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xu(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=r3(r),t=$n(r,t),a){case 0:e=kh(null,e,r,t,n);break e;case 1:e=fx(null,e,r,t,n);break e;case 11:e=dx(null,e,r,t,n);break e;case 14:e=mx(null,e,r,$n(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:$n(r,a),kh(t,e,r,a,n);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:$n(r,a),fx(t,e,r,a,n);case 3:e:{if(Lw(e),t===null)throw Error(U(387));r=e.pendingProps,l=e.memoizedState,a=l.element,cw(t,e),bd(e,r,null,n);var i=e.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=l,e.memoizedState=l,e.flags&256){a=Hl(Error(U(423)),e),e=px(t,e,r,n,a);break e}else if(r!==a){a=Hl(Error(U(424)),e),e=px(t,e,r,n,a);break e}else for(fn=_s(e.stateNode.containerInfo.firstChild),hn=e,$e=!0,zn=null,n=iw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zl(),r===a){e=Gr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return uw(e),t===null&&_h(e),r=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,i=a.children,vh(r,a)?i=null:l!==null&&vh(r,l)&&(e.flags|=32),Dw(t,e),Wt(t,e,i,n),e.child;case 6:return t===null&&_h(e),null;case 13:return Fw(t,e,n);case 4:return Kg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bl(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:$n(r,a),dx(t,e,r,a,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,l=e.memoizedProps,i=a.value,Le(Ed,r._currentValue),r._currentValue=i,l!==null)if(qn(l.value,i)){if(l.children===a.children&&!tn.current){e=Gr(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){i=l.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=$r(-1,n&-n),u.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var g=m.pending;g===null?u.next=u:(u.next=g.next,g.next=u),m.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),wh(l.return,n,e),c.lanes|=n;break}u=u.next}}else if(l.tag===10)i=l.type===e.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(U(341));i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),wh(i,n,e),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===e){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Wt(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,Al(e,n),a=Pn(a),r=r(a),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,a=$n(r,e.pendingProps),a=$n(r.type,a),mx(t,e,r,a,n);case 15:return Ow(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:$n(r,a),Xu(t,e),e.tag=1,nn(r)?(t=!0,gd(e)):t=!1,Al(e,n),Rw(e,r,a),Ch(e,r,a,n),Ih(null,e,r,!0,t,n);case 19:return Uw(t,e,n);case 22:return Mw(t,e,n)}throw Error(U(156,e.tag))};function eN(t,e){return k_(t,e)}function n3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new n3(t,e,n,r)}function o0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r3(t){if(typeof t=="function")return o0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kg)return 11;if(t===Ig)return 14}return 2}function Ss(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,a,l){var i=2;if(r=t,typeof t=="function")o0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case gl:return wa(n.children,a,l,e);case Sg:i=8,a|=8;break;case Yp:return t=Sn(12,n,e,a|2),t.elementType=Yp,t.lanes=l,t;case Qp:return t=Sn(13,n,e,a),t.elementType=Qp,t.lanes=l,t;case Jp:return t=Sn(19,n,e,a),t.elementType=Jp,t.lanes=l,t;case u_:return um(n,a,l,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o_:i=10;break e;case c_:i=9;break e;case kg:i=11;break e;case Ig:i=14;break e;case us:i=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Sn(i,n,e,a),e.elementType=t,e.type=r,e.lanes=l,e}function wa(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function um(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=u_,t.lanes=n,t.stateNode={isHidden:!1},t}function kp(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function Ip(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function s3(t,e,n,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=op(0),this.expirationTimes=op(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=op(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function c0(t,e,n,r,a,l,i,c,u){return t=new s3(t,e,n,c,u),e===1?(e=1,l===!0&&(e|=8)):e=0,l=Sn(3,null,null,e),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gg(l),t}function a3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tN(t){if(!t)return As;t=t._reactInternals;e:{if($a(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(nn(n))return tw(t,n,e)}return e}function nN(t,e,n,r,a,l,i,c,u){return t=c0(n,r,!0,t,a,l,i,c,u),t.context=tN(null),n=t.current,r=Bt(),a=Cs(n),l=$r(r,a),l.callback=e??null,ws(n,l,a),t.current.lanes=a,rc(t,a,r),rn(t,r),t}function dm(t,e,n,r){var a=e.current,l=Bt(),i=Cs(a);return n=tN(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(l,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ws(a,e,i),t!==null&&(Hn(t,a,i,l),Yu(t,a,i)),i}function Td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u0(t,e){Nx(t,e),(t=t.alternate)&&Nx(t,e)}function l3(){return null}var rN=typeof reportError=="function"?reportError:function(t){console.error(t)};function d0(t){this._internalRoot=t}mm.prototype.render=d0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));dm(t,e,null,null)};mm.prototype.unmount=d0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pa(function(){dm(null,t,null,null)}),e[Vr]=null}};function mm(t){this._internalRoot=t}mm.prototype.unstable_scheduleHydration=function(t){if(t){var e=M_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ms.length&&e!==0&&e<ms[n].priority;n++);ms.splice(n,0,t),n===0&&L_(t)}};function m0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cx(){}function i3(t,e,n,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var m=Td(i);l.call(m)}}var i=nN(e,r,t,0,null,!1,!1,"",Cx);return t._reactRootContainer=i,t[Vr]=i.current,To(t.nodeType===8?t.parentNode:t),Pa(),i}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var c=r;r=function(){var m=Td(u);c.call(m)}}var u=c0(t,0,!1,null,null,!1,!1,"",Cx);return t._reactRootContainer=u,t[Vr]=u.current,To(t.nodeType===8?t.parentNode:t),Pa(function(){dm(e,u,n,r)}),u}function pm(t,e,n,r,a){var l=n._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var c=a;a=function(){var u=Td(i);c.call(u)}}dm(e,i,t,a)}else i=i3(n,e,t,a,r);return Td(i)}A_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eo(e.pendingLanes);n!==0&&(Pg(e,n|1),rn(e,et()),!(be&6)&&(Gl=et()+500,Bs()))}break;case 13:Pa(function(){var r=Hr(t,1);if(r!==null){var a=Bt();Hn(r,t,1,a)}}),u0(t,1)}};Ag=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=Bt();Hn(e,t,134217728,n)}u0(t,134217728)}};O_=function(t){if(t.tag===13){var e=Cs(t),n=Hr(t,e);if(n!==null){var r=Bt();Hn(n,t,e,r)}u0(t,e)}};M_=function(){return Pe};D_=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};ih=function(t,e,n){switch(e){case"input":if(eh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=sm(r);if(!a)throw Error(U(90));m_(r),eh(r,a)}}}break;case"textarea":p_(t,n);break;case"select":e=n.value,e!=null&&Il(t,!!n.multiple,e,!1)}};b_=a0;__=Pa;var o3={usingClientEntryPoint:!1,Events:[ac,xl,sm,E_,x_,a0]},Vi={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c3={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C_(t),t===null?null:t.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||l3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{em=ju.inject(c3),mr=ju}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o3;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(e))throw Error(U(200));return a3(t,e,null,n)};En.createRoot=function(t,e){if(!m0(t))throw Error(U(299));var n=!1,r="",a=rN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=c0(t,1,!1,null,null,n,!1,r,a),t[Vr]=e.current,To(t.nodeType===8?t.parentNode:t),new d0(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=C_(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Pa(t)};En.hydrate=function(t,e,n){if(!fm(e))throw Error(U(200));return pm(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!m0(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,a=!1,l="",i=rN;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=nN(e,null,t,1,n??null,a,!1,l,i),t[Vr]=e.current,To(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new mm(e)};En.render=function(t,e,n){if(!fm(e))throw Error(U(200));return pm(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!fm(t))throw Error(U(40));return t._reactRootContainer?(Pa(function(){pm(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};En.unstable_batchedUpdates=a0;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fm(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return pm(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function sN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sN)}catch(t){console.error(t)}}sN(),s_.exports=En;var u3=s_.exports,Sx=u3;Kp.createRoot=Sx.createRoot,Kp.hydrateRoot=Sx.hydrateRoot;var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw ai(e)},ai=function(t){return new Error("Firebase Database ("+aN.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},d3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],i=t[n++],c=t[n++],u=((a&7)<<18|(l&63)<<12|(i&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const l=t[n++],i=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|i&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],i=a+1<t.length,c=i?t[a+1]:0,u=a+2<t.length,m=u?t[a+2]:0,g=l>>2,h=(l&3)<<4|c>>4;let E=(c&15)<<2|m>>6,k=m&63;u||(k=64,i||(E=64)),r.push(n[g],n[h],n[E],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):d3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],c=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const h=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||c==null||m==null||h==null)throw new m3;const E=l<<2|c>>4;if(r.push(E),m!==64){const k=c<<4&240|m>>2;if(r.push(k),h!==64){const R=m<<6&192|h;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iN=function(t){const e=lN(t);return f0.encodeByteArray(e,!0)},Rd=function(t){return iN(t).replace(/\./g,"")},Pd=function(t){try{return f0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(t){return Uo(void 0,t)}function Uo(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!p3(n)||(t[n]=Uo(t[n],e[n]));return t}function p3(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=()=>oN().__FIREBASE_DEFAULTS__,g3=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pd(t[1]);return e&&JSON.parse(e)},p0=()=>{try{return h3()||g3()||v3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cN=()=>{var t;return(t=p0())===null||t===void 0?void 0:t.config},y3=t=>{var e;return(e=p0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rd(JSON.stringify(n)),Rd(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function uN(){var t;const e=(t=p0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x3(){return typeof window<"u"||dN()}function dN(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function b3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fN(){const t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _3(){return aN.NODE_ADMIN===!0}function Ad(){try{return typeof indexedDB=="object"}catch{return!1}}function w3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="FirebaseError";class sn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N3,Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wa.prototype.create)}}class Wa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],i=l?C3(l,r):"Error",c=`${this.serviceName}: ${i} (${a}).`;return new sn(a,c,r)}}function C3(t,e){return t.replace(S3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const S3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){return JSON.parse(t)}function ot(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=function(t){let e={},n={},r={},a="";try{const l=t.split(".");e=jo(Pd(l[0])||""),n=jo(Pd(l[1])||""),a=l[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:a}},k3=function(t){const e=pN(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},I3=function(t){const e=pN(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Aa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Od(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Md(t,e,n){const r={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=e.call(n,t[a],a,t));return r}function $h(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],i=e[a];if(Ix(l)&&Ix(i)){if(!$h(l,i))return!1}else if(l!==i)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function no(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const E=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(E<<1|E>>>31)&4294967295}let a=this.chain_[0],l=this.chain_[1],i=this.chain_[2],c=this.chain_[3],u=this.chain_[4],m,g;for(let h=0;h<80;h++){h<40?h<20?(m=c^l&(i^c),g=1518500249):(m=l^i^c,g=1859775393):h<60?(m=l&i|c&(l|i),g=2400959708):(m=l^i^c,g=3395469782);const E=(a<<5|a>>>27)+m+u+g+r[h]&4294967295;u=c,c=i,i=(l<<30|l>>>2)&4294967295,l=a,a=E}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+i&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let a=0;const l=this.buf_;let i=this.inbuf_;for(;a<n;){if(i===0)for(;a<=r;)this.compress_(e,a),a+=this.blockSize;if(typeof e=="string"){for(;a<n;)if(l[i]=e.charCodeAt(a),++i,++a,i===this.blockSize){this.compress_(l),i=0;break}}else for(;a<n;)if(l[i]=e[a],++i,++a,i===this.blockSize){this.compress_(l),i=0;break}}this.inbuf_=i,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let a=0;a<5;a++)for(let l=24;l>=0;l-=8)e[r]=this.chain_[a]>>l&255,++r;return e}}function hN(t,e){const n=new R3(t,e);return n.subscribe.bind(n)}class R3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");P3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Tp),a.error===void 0&&(a.error=Tp),a.complete===void 0&&(a.complete=Tp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie=function(t,e,n,r){let a;if(r<e?a="at least "+e:r>n&&(a=n===0?"none":"no more than "+n),a){const l=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+a+".";throw new Error(l)}};function an(t,e){return`${t} failed: ${e} argument `}function Et(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(an(t,e)+"must be a valid function.")}function Tx(t,e,n,r){if(n&&(typeof n!="object"||n===null))throw new Error(an(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);if(a>=55296&&a<=56319){const l=a-55296;r++,W(r<t.length,"Surrogate pair missing trail surrogate.");const i=t.charCodeAt(r)-56320;a=65536+(l<<10)+i}a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):a<65536?(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},gm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t){return t&&t._delegate?t._delegate:t}class On{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Xt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M3(e))try{this.getOrInitializeService({instanceIdentifier:ha})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ha){return this.instances.has(e)}getOptions(e=ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,i]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);r===c&&i.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const i=this.instances.get(a);return i&&e(i,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ha){return this.component?this.component.multipleInstances?e:ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O3(t){return t===ha?void 0:t}function M3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wh(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=[];var Re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Re||(Re={}));const gN={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},D3=Re.INFO,L3={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},F3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=L3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ic{constructor(e){this.name=e,this._logLevel=D3,this._logHandler=F3,this._userLogHandler=null,v0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}function U3(t){v0.forEach(e=>{e.setLogLevel(t)})}function j3(t,e){for(const n of v0){let r=null;e&&e.level&&(r=gN[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(a,l,...i)=>{const c=i.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");l>=(r??a.logLevel)&&t({level:Re[l].toLowerCase(),message:c,args:i,type:a.name})}}}const $3=(t,e)=>e.some(n=>t instanceof n);let Rx,Px;function W3(){return Rx||(Rx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z3(){return Px||(Px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vN=new WeakMap,zh=new WeakMap,yN=new WeakMap,Rp=new WeakMap,y0=new WeakMap;function B3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",i)},l=()=>{n(ks(t.result)),a()},i=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&vN.set(n,t)}).catch(()=>{}),y0.set(e,t),e}function V3(t){if(zh.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",i),t.removeEventListener("abort",i)},l=()=>{n(),a()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",i),t.addEventListener("abort",i)});zh.set(t,e)}let Bh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H3(t){Bh=t(Bh)}function G3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pp(this),e,...n);return yN.set(r,e.sort?e.sort():[e]),ks(r)}:z3().includes(t)?function(...e){return t.apply(Pp(this),e),ks(vN.get(this))}:function(...e){return ks(t.apply(Pp(this),e))}}function K3(t){return typeof t=="function"?G3(t):(t instanceof IDBTransaction&&V3(t),$3(t,W3())?new Proxy(t,Bh):t)}function ks(t){if(t instanceof IDBRequest)return B3(t);if(Rp.has(t))return Rp.get(t);const e=K3(t);return e!==t&&(Rp.set(t,e),y0.set(e,t)),e}const Pp=t=>y0.get(t);function q3(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const i=indexedDB.open(t,e),c=ks(i);return r&&i.addEventListener("upgradeneeded",u=>{r(ks(i.result),u.oldVersion,u.newVersion,ks(i.transaction),u)}),n&&i.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{l&&u.addEventListener("close",()=>l()),a&&u.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}const Y3=["get","getKey","getAll","getAllKeys","count"],Q3=["put","add","delete","clear"],Ap=new Map;function Ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Q3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Y3.includes(n)))return;const l=async function(i,...c){const u=this.transaction(i,a?"readwrite":"readonly");let m=u.store;return r&&(m=m.index(c.shift())),(await Promise.all([m[n](...c),a&&u.done]))[0]};return Ap.set(e,l),l}H3(t=>({...t,get:(e,n,r)=>Ax(e,n)||t.get(e,n,r),has:(e,n)=>!!Ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dd="@firebase/app",Vh="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new ic("@firebase/app"),Z3="@firebase/app-compat",eT="@firebase/analytics-compat",tT="@firebase/analytics",nT="@firebase/app-check-compat",rT="@firebase/app-check",sT="@firebase/auth",aT="@firebase/auth-compat",lT="@firebase/database",iT="@firebase/data-connect",oT="@firebase/database-compat",cT="@firebase/functions",uT="@firebase/functions-compat",dT="@firebase/installations",mT="@firebase/installations-compat",fT="@firebase/messaging",pT="@firebase/messaging-compat",hT="@firebase/performance",gT="@firebase/performance-compat",vT="@firebase/remote-config",yT="@firebase/remote-config-compat",ET="@firebase/storage",xT="@firebase/storage-compat",bT="@firebase/firestore",_T="@firebase/vertexai-preview",wT="@firebase/firestore-compat",NT="firebase",CT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]",ST={[Dd]:"fire-core",[Z3]:"fire-core-compat",[tT]:"fire-analytics",[eT]:"fire-analytics-compat",[rT]:"fire-app-check",[nT]:"fire-app-check-compat",[sT]:"fire-auth",[aT]:"fire-auth-compat",[lT]:"fire-rtdb",[iT]:"fire-data-connect",[oT]:"fire-rtdb-compat",[cT]:"fire-fn",[uT]:"fire-fn-compat",[dT]:"fire-iid",[mT]:"fire-iid-compat",[fT]:"fire-fcm",[pT]:"fire-fcm-compat",[hT]:"fire-perf",[gT]:"fire-perf-compat",[vT]:"fire-rc",[yT]:"fire-rc-compat",[ET]:"fire-gcs",[xT]:"fire-gcs-compat",[bT]:"fire-fst",[wT]:"fire-fst-compat",[_T]:"fire-vertex","fire-js":"fire-js",[NT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Map,Kl=new Map,ql=new Map;function $o(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function EN(t,e){t.container.addOrOverwriteComponent(e)}function Ds(t){const e=t.name;if(ql.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;ql.set(e,t);for(const n of Ms.values())$o(n,t);for(const n of Kl.values())$o(n,t);return!0}function xN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kT(t,e,n=Os){xN(t,e).clearInstance(n)}function bN(t){return t.options!==void 0}function Qe(t){return t.settings!==void 0}function IT(){ql.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rn=new Wa("app","Firebase",TT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _N=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends _N{constructor(e,n,r,a){const l=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,i={name:r,automaticDataCollectionEnabled:l};if(e.apiKey!==void 0)super(e,i,a);else{const c=e;super(c.options,i,a)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:l},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Gn(Dd,Vh,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){x0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Rn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=CT;function E0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Os,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Rn.create("bad-app-name",{appName:String(a)});if(n||(n=cN()),!n)throw Rn.create("no-options");const l=Ms.get(a);if(l){if($h(n,l.options)&&$h(r,l.config))return l;throw Rn.create("duplicate-app",{appName:a})}const i=new g0(a);for(const u of ql.values())i.addComponent(u);const c=new _N(n,r,i);return Ms.set(a,c),c}function PT(t,e){if(x3()&&!dN())throw Rn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;bN(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const a=m=>[...m].reduce((g,h)=>Math.imul(31,g)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Rn.create("finalization-registry-not-supported",{});const l=""+a(JSON.stringify(r)),i=Kl.get(l);if(i)return i.incRefCount(e.releaseOnDeref),i;const c=new g0(l);for(const m of ql.values())c.addComponent(m);const u=new RT(n,e,l,c);return Kl.set(l,u),u}function AT(t=Os){const e=Ms.get(t);if(!e&&t===Os&&cN())return E0();if(!e)throw Rn.create("no-app",{appName:t});return e}function OT(){return Array.from(Ms.values())}async function x0(t){let e=!1;const n=t.name;Ms.has(n)?(e=!0,Ms.delete(n)):Kl.has(n)&&t.decRefCount()<=0&&(Kl.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Gn(t,e,n){var r;let a=(r=ST[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),i=e.match(/\s|\//);if(l||i){const c=[`Unable to register library "${a}" with version "${e}":`];l&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&i&&c.push("and"),i&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(c.join(" "));return}Ds(new On(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}function wN(t,e){if(t!==null&&typeof t!="function")throw Rn.create("invalid-log-argument");j3(t,e)}function NN(t){U3(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firebase-heartbeat-database",DT=1,Wo="firebase-heartbeat-store";let Op=null;function CN(){return Op||(Op=q3(MT,DT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rn.create("idb-open",{originalErrorMessage:t.message})})),Op}async function LT(t){try{const n=(await CN()).transaction(Wo),r=await n.objectStore(Wo).get(SN(t));return await n.done,r}catch(e){if(e instanceof sn)Kr.warn(e.message);else{const n=Rn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(n.message)}}}async function Ox(t,e){try{const r=(await CN()).transaction(Wo,"readwrite");await r.objectStore(Wo).put(e,SN(t)),await r.done}catch(n){if(n instanceof sn)Kr.warn(n.message);else{const r=Rn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kr.warn(r.message)}}}function SN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=1024,UT=30*24*60*60*1e3;class jT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Mx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(i=>i.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const c=new Date(i.date).valueOf();return Date.now()-c<=UT}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Kr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mx(),{heartbeatsToSend:r,unsentEntries:a}=$T(this._heartbeatsCache.heartbeats),l=Rd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Kr.warn(n),""}}}function Mx(){return new Date().toISOString().substring(0,10)}function $T(t,e=FT){const n=[];let r=t.slice();for(const a of t){const l=n.find(i=>i.agent===a.agent);if(l){if(l.dates.push(a.date),Dx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Dx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ad()?w3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ox(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dx(t){return Rd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){Ds(new On("platform-logger",e=>new J3(e),"PRIVATE")),Ds(new On("heartbeat",e=>new jT(e),"PRIVATE")),Gn(Dd,Vh,t),Gn(Dd,Vh,"esm2017"),Gn("fire-js","")}zT("");const BT=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:sn,SDK_VERSION:Vs,_DEFAULT_ENTRY_NAME:Os,_addComponent:$o,_addOrOverwriteComponent:EN,_apps:Ms,_clearComponents:IT,_components:ql,_getProvider:xN,_isFirebaseApp:bN,_isFirebaseServerApp:Qe,_registerComponent:Ds,_removeServiceInstance:kT,_serverApps:Kl,deleteApp:x0,getApp:AT,getApps:OT,initializeApp:E0,initializeServerApp:PT,onLog:wN,registerVersion:Gn,setLogLevel:NN},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this._delegate=e,this.firebase=n,$o(e,new On("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),x0(this._delegate)))}_getService(e,n=Os){var r;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return!a.isInitialized()&&((r=a.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&a.initialize(),a.getImmediate({identifier:n})}_removeServiceInstance(e,n=Os){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){$o(this._delegate,e)}_addOrOverwriteComponent(e){EN(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Lx=new Wa("app-compat","Firebase",HT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(t){const e={},n={__esModule:!0,initializeApp:l,app:a,registerVersion:Gn,setLogLevel:NN,onLog:wN,apps:null,SDK_VERSION:Vs,INTERNAL:{registerComponent:c,removeApp:r,useAsService:u,modularAPIs:BT}};n.default=n,Object.defineProperty(n,"apps",{get:i});function r(m){delete e[m]}function a(m){if(m=m||Os,!vn(e,m))throw Lx.create("no-app",{appName:m});return e[m]}a.App=t;function l(m,g={}){const h=E0(m,g);if(vn(e,h.name))return e[h.name];const E=new t(h,n);return e[h.name]=E,E}function i(){return Object.keys(e).map(m=>e[m])}function c(m){const g=m.name,h=g.replace("-compat","");if(Ds(m)&&m.type==="PUBLIC"){const E=(k=a())=>{if(typeof k[h]!="function")throw Lx.create("invalid-app-argument",{appName:g});return k[h]()};m.serviceProps!==void 0&&Uo(E,m.serviceProps),n[h]=E,t.prototype[h]=function(...k){return this._getService.bind(this,g).apply(this,m.multipleInstances?k:[])}}return m.type==="PUBLIC"?n[h]:null}function u(m,g){return g==="serverAuth"?null:g}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){const t=GT(VT);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:kN,extendNamespace:e,createSubscribe:hN,ErrorFactory:Wa,deepExtend:Uo});function e(n){Uo(t,n)}return t}const KT=kN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new ic("@firebase/app-compat"),qT="@firebase/app-compat",YT="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){Gn(qT,YT,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=oN();if(t.firebase!==void 0){Fx.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Fx.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const un=KT;QT();var JT="firebase",XT="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.registerVersion(JT,XT,"app-compat");function b0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}const Hi={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},fl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function IN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eR=ZT,tR=IN,TN=new Wa("auth","Firebase",IN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new ic("@firebase/auth");function nR(t,...e){Ld.logLevel<=Re.WARN&&Ld.warn(`Auth (${Vs}): ${t}`,...e)}function nd(t,...e){Ld.logLevel<=Re.ERROR&&Ld.error(`Auth (${Vs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,...e){throw w0(t,...e)}function ut(t,...e){return w0(t,...e)}function _0(t,e,n){const r=Object.assign(Object.assign({},tR()),{[e]:n});return new Wa("auth","Firebase",r).create(e,{appName:t.name})}function wt(t){return _0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function li(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pt(t,"argument-error"),_0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TN.create(t,...e)}function j(t,e,...n){if(!t)throw w0(e,...n)}function dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nd(e),new Error(e)}function Yn(t,e){t||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function N0(){return Ux()==="http:"||Ux()==="https:"}function Ux(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N0()||mN()||"connection"in navigator)?navigator.onLine:!0}function sR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yn(n>e,"Short delay should be less than long delay!"),this.isMobile=h0()||hm()}get(){return rR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t,e){Yn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new oc(3e4,6e4);function Xe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ze(t,e,n,r,a={}){return PN(t,a,async()=>{let l={},i={};r&&(e==="GET"?i=r:l={body:JSON.stringify(r)});const c=za(Object.assign({key:t.config.apiKey},i)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:u},l);return b3()||(m.referrerPolicy="no-referrer"),RN.fetch()(AN(t,t.config.apiHost,n,c),m)})}async function PN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aR),e);try{const a=new oR(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const i=await l.json();if("needConfirmation"in i)throw ro(t,"account-exists-with-different-credential",i);if(l.ok&&!("errorMessage"in i))return i;{const c=l.ok?i.errorMessage:i.error.message,[u,m]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ro(t,"credential-already-in-use",i);if(u==="EMAIL_EXISTS")throw ro(t,"email-already-in-use",i);if(u==="USER_DISABLED")throw ro(t,"user-disabled",i);const g=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _0(t,g,m);Pt(t,g)}}catch(a){if(a instanceof sn)throw a;Pt(t,"network-request-failed",{message:String(a)})}}async function Jr(t,e,n,r,a={}){const l=await Ze(t,e,n,r,a);return"mfaPendingCredential"in l&&Pt(t,"multi-factor-auth-required",{_serverResponse:l}),l}function AN(t,e,n,r){const a=`${e}${n}?${r}`;return t.config.emulator?C0(t.config,a):`${t.config.apiScheme}://${a}`}function iR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ut(this.auth,"network-request-failed")),lR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ro(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ut(t,e,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){return t!==void 0&&t.getResponse!==void 0}function $x(t){return t!==void 0&&t.enterprise!==void 0}class cR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return iR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(t){return(await Ze(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function dR(t,e){return Ze(t,"GET","/v2/recaptchaConfig",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t,e){return Ze(t,"POST","/v1/accounts:delete",e)}async function fR(t,e){return Ze(t,"POST","/v1/accounts:update",e)}async function ON(t,e){return Ze(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pR(t,e=!1){const n=fe(t),r=await n.getIdToken(e),a=vm(r);j(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,i=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:po(Mp(a.auth_time)),issuedAtTime:po(Mp(a.iat)),expirationTime:po(Mp(a.exp)),signInProvider:i||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Mp(t){return Number(t)*1e3}function vm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{const a=Pd(n);return a?JSON.parse(a):(nd("Failed to decode base64 JWT payload"),null)}catch(a){return nd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Wx(t){const e=vm(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qr(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sn&&hR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=po(this.lastLoginAt),this.creationTime=po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t){var e;const n=t.auth,r=await t.getIdToken(),a=await qr(t,ON(n,{idToken:r}));j(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const i=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?MN(l.providerUserInfo):[],c=yR(t.providerData,i),u=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(c!=null&&c.length),g=u?m:!1,h={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Hh(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,h)}async function vR(t){const e=fe(t);await Bo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yR(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function MN(t){return t.map(e=>{var{providerId:n}=e,r=b0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(t,e){const n=await PN(t,{},async()=>{const r=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,i=AN(t,a,"/v1/token",`key=${l}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",RN.fetch()(i,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xR(t,e){return Ze(t,"POST","/v2/accounts:revokeToken",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");const n=Wx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await ER(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,i=new Ml;return r&&(j(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),a&&(j(typeof a=="string","internal-error",{appName:e}),i.accessToken=a),l&&(j(typeof l=="number","internal-error",{appName:e}),i.expirationTime=l),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=b0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Hh(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await qr(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pR(this,e)}reload(){return vR(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qe(this.auth.app))return Promise.reject(wt(this.auth));const e=await this.getIdToken();return await qr(this,mR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,i,c,u,m,g;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,k=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,R=(i=n.photoURL)!==null&&i!==void 0?i:void 0,F=(c=n.tenantId)!==null&&c!==void 0?c:void 0,oe=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(m=n.createdAt)!==null&&m!==void 0?m:void 0,_=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:S,emailVerified:L,isAnonymous:K,providerData:Y,stsTokenManager:J}=n;j(S&&J,e,"internal-error");const Z=Ml.fromJSON(this.name,J);j(typeof S=="string",e,"internal-error"),os(h,e.name),os(E,e.name),j(typeof L=="boolean",e,"internal-error"),j(typeof K=="boolean",e,"internal-error"),os(k,e.name),os(R,e.name),os(F,e.name),os(oe,e.name),os(C,e.name),os(_,e.name);const Ie=new Lr({uid:S,auth:e,email:E,emailVerified:L,displayName:h,isAnonymous:K,photoURL:R,phoneNumber:k,tenantId:F,stsTokenManager:Z,createdAt:C,lastLoginAt:_});return Y&&Array.isArray(Y)&&(Ie.providerData=Y.map(he=>Object.assign({},he))),oe&&(Ie._redirectEventId=oe),Ie}static async _fromIdTokenResponse(e,n,r=!1){const a=new Ml;a.updateFromServerResponse(n);const l=new Lr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Bo(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];j(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?MN(a.providerUserInfo):[],i=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),c=new Ml;c.updateFromIdToken(r);const u=new Lr({uid:a.localId,auth:e,stsTokenManager:c,isAnonymous:i}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Hh(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(u,m),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Map;function pn(t){Yn(t instanceof Function,"Expected a class definition");let e=zx.get(t);return e?(Yn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DN.type="NONE";const Yl=DN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t,e,n){return`firebase:${t}:${e}:${n}`}class Dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Na(this.userKey,a.apiKey,l),this.fullPersistenceKey=Na("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dl(pn(Yl),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||pn(Yl);const i=Na(r,e.config.apiKey,e.name);let c=null;for(const m of n)try{const g=await m._get(i);if(g){const h=Lr._fromJSON(e,g);m!==l&&(c=h),l=m;break}}catch{}const u=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!u.length?new Dl(l,e,r):(l=u[0],c&&await l._set(i,c.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(i)}catch{}})),new Dl(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($N(e))return"Blackberry";if(WN(e))return"Webos";if(FN(e))return"Safari";if((e.includes("chrome/")||UN(e))&&!e.includes("edge/"))return"Chrome";if(cc(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LN(t=dt()){return/firefox\//i.test(t)}function FN(t=dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UN(t=dt()){return/crios\//i.test(t)}function jN(t=dt()){return/iemobile/i.test(t)}function cc(t=dt()){return/android/i.test(t)}function $N(t=dt()){return/blackberry/i.test(t)}function WN(t=dt()){return/webos/i.test(t)}function uc(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bR(t=dt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function _R(t=dt()){var e;return uc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wR(){return fN()&&document.documentMode===10}function zN(t=dt()){return uc(t)||cc(t)||WN(t)||$N(t)||/windows phone/i.test(t)||jN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t,e=[]){let n;switch(t){case"Browser":n=Bx(dt());break;case"Worker":n=`${Bx(dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((i,c)=>{try{const u=e(l);i(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e={}){return Ze(t,"GET","/v2/passwordPolicy",Xe(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=6;class kR{constructor(e){var n,r,a,l;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=i.minPasswordLength)!==null&&n!==void 0?n:SR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,i,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsLowercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsUppercaseLetter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(i=u.containsNumericCharacter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vx(this),this.idTokenSubscription=new Vx(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pn(n)),this._initializationPromise=this.queue(async()=>{var r,a;if(!this._deleted&&(this.persistenceManager=await Dl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ON(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Qe(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=a==null?void 0:a._redirectEventId,u=await this.tryRedirectSignIn(e);(!i||i===c)&&(u!=null&&u.user)&&(a=u.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(i){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qe(this.app))return Promise.reject(wt(this));const n=e?fe(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qe(this.app)?Promise.reject(wt(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qe(this.app)?Promise.reject(wt(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CR(this),n=new kR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pn(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let i=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(c,this,"internal-error"),c.then(()=>{i||l(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,a);return()=>{i=!0,u()}}else{const u=e.addObserver(n);return()=>{i=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Je(t){return fe(t)}class Vx{constructor(e){this.auth=e,this.observer=null,this.addObserver=hN(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(t){dc=t}function S0(t){return dc.loadJS(t)}function RR(){return dc.recaptchaV2Script}function PR(){return dc.recaptchaEnterpriseScript}function AR(){return dc.gapiScript}function VN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OR="recaptcha-enterprise",MR="NO_RECAPTCHA";class DR{constructor(e){this.type=OR,this.auth=Je(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(i,c)=>{dR(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const m=new cR(u);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,i(m.siteKey)}}).catch(u=>{c(u)})})}function a(l,i,c){const u=window.grecaptcha;$x(u)?u.enterprise.ready(()=>{u.enterprise.execute(l,{action:e}).then(m=>{i(m)}).catch(()=>{i(MR)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,i)=>{r(this.auth).then(c=>{if(!n&&$x(window.grecaptcha))a(c,l,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let u=PR();u.length!==0&&(u+=c),S0(u).then(()=>{a(c,l,i)}).catch(m=>{i(m)})}}).catch(c=>{i(c)})})}}async function Hx(t,e,n,r=!1){const a=new DR(t);let l;try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:l}):Object.assign(i,{captchaResponse:l}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function Vo(t,e,n,r){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Hx(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Hx(t,e,n,n==="getOobCode");return r(t,i)}else return Promise.reject(l)})}function LR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FR(t,e,n){const r=Je(t);j(r._canInitEmulator,r,"emulator-config-failed"),j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!!(n!=null&&n.disableWarnings),l=HN(e),{host:i,port:c}=UR(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${l}//${i}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||jR()}function HN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UR(t){const e=HN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Gx(r.substr(l.length+1))}}else{const[l,i]=r.split(":");return{host:l,port:Gx(i)}}}function Gx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e){return Ze(t,"POST","/v1/accounts:resetPassword",Xe(t,e))}async function $R(t,e){return Ze(t,"POST","/v1/accounts:update",e)}async function WR(t,e){return Ze(t,"POST","/v1/accounts:signUp",e)}async function zR(t,e){return Ze(t,"POST","/v1/accounts:update",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e){return Jr(t,"POST","/v1/accounts:signInWithPassword",Xe(t,e))}async function ym(t,e){return Ze(t,"POST","/v1/accounts:sendOobCode",Xe(t,e))}async function VR(t,e){return ym(t,e)}async function HR(t,e){return ym(t,e)}async function GR(t,e){return ym(t,e)}async function KR(t,e){return ym(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e){return Jr(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))}async function YR(t,e){return Jr(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho extends ii{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ho(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ho(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vo(e,n,"signInWithPassword",BR);case"emailLink":return qR(e,{email:this._email,oobCode:this._password});default:Pt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vo(e,r,"signUpPassword",WR);case"emailLink":return YR(e,{idToken:n,email:this._email,oobCode:this._password});default:Pt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wr(t,e){return Jr(t,"POST","/v1/accounts:signInWithIdp",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="http://localhost";class hr extends ii{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=b0(n,["providerId","signInMethod"]);if(!r||!a)return null;const i=new hr(r,a);return i.idToken=l.idToken||void 0,i.accessToken=l.accessToken||void 0,i.secret=l.secret,i.nonce=l.nonce,i.pendingToken=l.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Wr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wr(e,n)}buildRequest(){const e={requestUri:QR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(t,e){return Ze(t,"POST","/v1/accounts:sendVerificationCode",Xe(t,e))}async function XR(t,e){return Jr(t,"POST","/v1/accounts:signInWithPhoneNumber",Xe(t,e))}async function ZR(t,e){const n=await Jr(t,"POST","/v1/accounts:signInWithPhoneNumber",Xe(t,e));if(n.temporaryProof)throw ro(t,"account-exists-with-different-credential",n);return n}const eP={USER_NOT_FOUND:"user-not-found"};async function tP(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Jr(t,"POST","/v1/accounts:signInWithPhoneNumber",Xe(t,n),eP)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends ii{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ca({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ca({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return XR(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return ZR(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return tP(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:a}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:a,temporaryProof:l}=e;return!r&&!n&&!a&&!l?null:new Ca({verificationId:n,verificationCode:r,phoneNumber:a,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rP(t){const e=kl(no(t)).link,n=e?kl(no(e)).deep_link_id:null,r=kl(no(t)).deep_link_id;return(r?kl(no(r)).link:null)||r||n||e||t}class Em{constructor(e){var n,r,a,l,i,c;const u=kl(no(e)),m=(n=u.apiKey)!==null&&n!==void 0?n:null,g=(r=u.oobCode)!==null&&r!==void 0?r:null,h=nP((a=u.mode)!==null&&a!==void 0?a:null);j(m&&g&&h,"argument-error"),this.apiKey=m,this.operation=h,this.code=g,this.continueUrl=(l=u.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(i=u.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=rP(e);try{return new Em(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.providerId=Hs.PROVIDER_ID}static credential(e,n){return Ho._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Em.parseLink(n);return j(r,"argument-error"),Ho._fromEmailAndCode(e,r.code,r.tenantId)}}Hs.PROVIDER_ID="password";Hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Xr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ll extends oi{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return j("providerId"in n&&"signInMethod"in n,"argument-error"),hr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return j(e.idToken||e.accessToken,"argument-error"),hr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ll.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ll.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:a,pendingToken:l,nonce:i,providerId:c}=e;if(!r&&!a&&!n&&!l||!c)return null;try{return new Ll(c)._credential({idToken:n,accessToken:r,nonce:i,pendingToken:l})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends oi{constructor(){super("facebook.com")}static credential(e){return hr._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends oi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hr._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends oi{constructor(){super("github.com")}static credential(e){return hr._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="http://localhost";class Ql extends ii{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Wr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,pendingToken:l}=n;return!r||!a||!l||r!==a?null:new Ql(r,l)}static _create(e,n){return new Ql(e,n)}buildRequest(){return{requestUri:sP,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="saml.";class Fd extends Xr{constructor(e){j(e.startsWith(aP),"argument-error"),super(e)}static credentialFromResult(e){return Fd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Fd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ql.fromJSON(e);return j(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ql._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends oi{constructor(){super("twitter.com")}static credential(e,n){return hr._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){return Jr(t,"POST","/v1/accounts:signUp",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Lr._fromIdTokenResponse(e,r,a),i=Kx(r);return new Mn({user:l,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Kx(r);return new Mn({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Kx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(t){var e;if(Qe(t.app))return Promise.reject(wt(t));const n=Je(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Mn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await KN(n,{returnSecureToken:!0}),a=await Mn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends sn{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Ud(e,n,r,a)}}function qN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(t,l,e,r):l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(t,e){const n=fe(t);await xm(!0,n,e);const{providerUserInfo:r}=await fR(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),a=YN(r||[]);return n.providerData=n.providerData.filter(l=>a.has(l.providerId)),a.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function k0(t,e,n=!1){const r=await qr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Mn._forOperation(t,"link",r)}async function xm(t,e,n){await Bo(e);const r=YN(e.providerData),a=t===!1?"provider-already-linked":"no-such-provider";j(r.has(n)===t,e.auth,a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e,n=!1){const{auth:r}=t;if(Qe(r.app))return Promise.reject(wt(r));const a="reauthenticate";try{const l=await qr(t,qN(r,a,e,t),n);j(l.idToken,r,"internal-error");const i=vm(l.idToken);j(i,r,"internal-error");const{sub:c}=i;return j(t.uid===c,r,"user-mismatch"),Mn._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Pt(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e,n=!1){if(Qe(t.app))return Promise.reject(wt(t));const r="signIn",a=await qN(t,r,e),l=await Mn._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function bm(t,e){return JN(Je(t),e)}async function XN(t,e){const n=fe(t);return await xm(!1,n,e.providerId),k0(n,e)}async function ZN(t,e){return QN(fe(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(t,e){return Jr(t,"POST","/v1/accounts:signInWithCustomToken",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e){if(Qe(t.app))return Promise.reject(wt(t));const n=Je(t),r=await oP(n,{token:e,returnSecureToken:!0}),a=await Mn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?I0._fromServerResponse(e,n):"totpInfo"in n?T0._fromServerResponse(e,n):Pt(e,"internal-error")}}class I0 extends mc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new I0(n)}}class T0 extends mc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new T0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(t){const e=Je(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uP(t,e,n){const r=Je(t),a={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&_m(r,a,n),await Vo(r,a,"getOobCode",HR)}async function dP(t,e,n){await GN(fe(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R0(t),r})}async function mP(t,e){await zR(fe(t),{oobCode:e})}async function e1(t,e){const n=fe(t),r=await GN(n,{oobCode:e}),a=r.requestType;switch(j(a,n,"internal-error"),a){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":j(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":j(r.mfaInfo,n,"internal-error");default:j(r.email,n,"internal-error")}let l=null;return r.mfaInfo&&(l=mc._fromServerResponse(Je(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:a}}async function fP(t,e){const{data:n}=await e1(fe(t),e);return n.email}async function pP(t,e,n){if(Qe(t.app))return Promise.reject(wt(t));const r=Je(t),i=await Vo(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&R0(t),u}),c=await Mn._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(c.user),c}function hP(t,e,n){return Qe(t.app)?Promise.reject(wt(t)):bm(fe(t),Hs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&R0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e,n){const r=Je(t),a={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(i,c){j(c.handleCodeInApp,r,"argument-error"),c&&_m(r,i,c)}l(a,n),await Vo(r,a,"getOobCode",GR)}function vP(t,e){const n=Em.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function yP(t,e,n){if(Qe(t.app))return Promise.reject(wt(t));const r=fe(t),a=Hs.credentialWithLink(e,n||zo());return j(a._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),bm(r,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(t,e){return Ze(t,"POST","/v1/accounts:createAuthUri",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e){const n=N0()?zo():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:a}=await EP(fe(t),r);return a||[]}async function bP(t,e){const n=fe(t),a={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&_m(n.auth,a,e);const{email:l}=await VR(n.auth,a);l!==t.email&&await t.reload()}async function _P(t,e,n){const r=fe(t),l={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&_m(r.auth,l,n);const{email:i}=await KR(r.auth,l);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(t,e){return Ze(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=fe(t),l={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},i=await qr(r,wP(r.auth,l));r.displayName=i.displayName||null,r.photoURL=i.photoUrl||null;const c=r.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(i)}function CP(t,e){const n=fe(t);return Qe(n.auth.app)?Promise.reject(wt(n.auth)):t1(n,e,null)}function SP(t,e){return t1(fe(t),null,e)}async function t1(t,e,n){const{auth:r}=t,l={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(l.email=e),n&&(l.password=n);const i=await qr(t,$R(r,l));await t._updateTokensIfNecessary(i,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){var e,n;if(!t)return null;const{providerId:r}=t,a=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},l=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const i=(n=(e=vm(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(i){const c=i!=="anonymous"&&i!=="custom"?i:null;return new Fl(l,c)}}if(!r)return null;switch(r){case"facebook.com":return new IP(l,a);case"github.com":return new TP(l,a);case"google.com":return new RP(l,a);case"twitter.com":return new PP(l,a,t.screenName||null);case"custom":case"anonymous":return new Fl(l,null);default:return new Fl(l,r,a)}}class Fl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class n1 extends Fl{constructor(e,n,r,a){super(e,n,r),this.username=a}}class IP extends Fl{constructor(e,n){super(e,"facebook.com",n)}}class TP extends n1{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class RP extends Fl{constructor(e,n){super(e,"google.com",n)}}class PP extends n1{constructor(e,n,r){super(e,"twitter.com",n,r)}}function AP(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:kP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new xa("enroll",e,n)}static _fromMfaPendingCredential(e){return new xa("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return xa._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return xa._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Je(e),a=n.customData._serverResponse,l=(a.mfaInfo||[]).map(c=>mc._fromServerResponse(r,c));j(a.mfaPendingCredential,r,"internal-error");const i=xa._fromMfaPendingCredential(a.mfaPendingCredential);return new P0(i,l,async c=>{const u=await c._process(r,i);delete a.mfaInfo,delete a.mfaPendingCredential;const m=Object.assign(Object.assign({},a),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const g=await Mn._fromIdTokenResponse(r,n.operationType,m);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return j(n.user,r,"internal-error"),Mn._forOperation(n.user,n.operationType,m);default:Pt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function OP(t,e){var n;const r=fe(t),a=e;return j(e.customData.operationType,r,"argument-error"),j((n=a.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),P0._fromError(r,a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e){return Ze(t,"POST","/v2/accounts/mfaEnrollment:start",Xe(t,e))}function DP(t,e){return Ze(t,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(t,e))}function LP(t,e){return Ze(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(t,e))}class A0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>mc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new A0(e)}async getSession(){return xa._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,a=await this.getSession(),l=await qr(this.user,r._process(this.user.auth,a,n));return await this.user._updateTokensIfNecessary(l),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const a=await qr(this.user,LP(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:l})=>l!==n),await this.user._updateTokensIfNecessary(a),await this.user.reload()}catch(a){throw a}}}const Dp=new WeakMap;function FP(t){const e=fe(t);return Dp.has(e)||Dp.set(e,A0._fromUser(e)),Dp.get(e)}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=1e3,jP=10;class s1 extends r1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,c,u)=>{this.notifyListeners(i,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},l=this.storage.getItem(r);wR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,jP):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s1.type="LOCAL";const O0=s1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends r1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a1.type="SESSION";const Oa=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new wm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,i=this.handlersMap[a];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const c=Array.from(i).map(async m=>m(n.origin,l)),u=await $P(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,i;return new Promise((c,u)=>{const m=fc("",20);a.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},r);i={messageChannel:a,onMessage(h){const E=h;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(E.data.response);break;default:clearTimeout(g),clearTimeout(l),u(new Error("invalid_response"));break}}},this.handlers.add(i),a.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(){return window}function zP(t){st().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return typeof st().WorkerGlobalScope<"u"&&typeof st().importScripts=="function"}async function BP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HP(){return M0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebaseLocalStorageDb",GP=1,$d="firebaseLocalStorage",i1="fbase_key";class pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nm(t,e){return t.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function KP(){const t=indexedDB.deleteDatabase(l1);return new pc(t).toPromise()}function Gh(){const t=indexedDB.open(l1,GP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($d,{keyPath:i1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($d)?e(r):(r.close(),await KP(),e(await Gh()))})})}async function qx(t,e,n){const r=Nm(t,!0).put({[i1]:e,value:n});return new pc(r).toPromise()}async function qP(t,e){const n=Nm(t,!1).get(e),r=await new pc(n).toPromise();return r===void 0?null:r.value}function Yx(t,e){const n=Nm(t,!0).delete(e);return new pc(n).toPromise()}const YP=800,QP=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wm._getInstance(HP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BP(),!this.activeServiceWorker)return;this.sender=new WP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gh();return await qx(e,jd,"1"),await Yx(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nm(a,!1).getAll();return new pc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const Go=o1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){return Ze(t,"POST","/v2/accounts/mfaSignIn:start",Xe(t,e))}function XP(t,e){return Ze(t,"POST","/v2/accounts/mfaSignIn:finalize",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=500,e4=6e4,$u=1e12;class t4{constructor(e){this.auth=e,this.counter=$u,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new n4(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||$u;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||$u;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||$u;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class n4{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;j(a,"argument-error",{appName:n}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=r4(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},e4)},ZP))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function r4(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=VN("rcb"),s4=new oc(3e4,6e4);class a4{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=st().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return j(l4(n),e,"argument-error"),this.shouldResolveImmediately(n)&&jx(st().grecaptcha)?Promise.resolve(st().grecaptcha):new Promise((r,a)=>{const l=st().setTimeout(()=>{a(ut(e,"network-request-failed"))},s4.get());st()[Lp]=()=>{st().clearTimeout(l),delete st()[Lp];const c=st().grecaptcha;if(!c||!jx(c)){a(ut(e,"internal-error"));return}const u=c.render;c.render=(m,g)=>{const h=u(m,g);return this.counter++,h},this.hostLanguage=n,r(c)};const i=`${RR()}?${za({onload:Lp,render:"explicit",hl:n})}`;S0(i).catch(()=>{clearTimeout(l),a(ut(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=st().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function l4(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class i4{async load(e){return new t4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="recaptcha",o4={theme:"light",type:"image"};let c4=class{constructor(e,n,r=Object.assign({},o4)){this.parameters=r,this.type=c1,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Je(e),this.isInvisible=this.parameters.size==="invisible",j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof n=="string"?document.getElementById(n):n;j(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new i4:new a4,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(a=>{const l=i=>{i&&(this.tokenChangeListeners.delete(l),a(i))};this.tokenChangeListeners.add(l),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){j(!this.parameters.sitekey,this.auth,"argument-error"),j(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),j(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=st()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){j(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){j(N0()&&!M0(),this.auth,"internal-error"),await u4(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await uR(this.auth);j(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return j(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function u4(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ca._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function d4(t,e,n){if(Qe(t.app))return Promise.reject(wt(t));const r=Je(t),a=await Cm(r,e,fe(n));return new D0(a,l=>bm(r,l))}async function m4(t,e,n){const r=fe(t);await xm(!1,r,"phone");const a=await Cm(r.auth,e,fe(n));return new D0(a,l=>XN(r,l))}async function f4(t,e,n){const r=fe(t);if(Qe(r.auth.app))return Promise.reject(wt(r.auth));const a=await Cm(r.auth,e,fe(n));return new D0(a,l=>ZN(r,l))}async function Cm(t,e,n){var r;const a=await n.verify();try{j(typeof a=="string",t,"argument-error"),j(n.type===c1,t,"argument-error");let l;if(typeof e=="string"?l={phoneNumber:e}:l=e,"session"in l){const i=l.session;if("phoneNumber"in l)return j(i.type==="enroll",t,"internal-error"),(await MP(t,{idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:a}})).phoneSessionInfo.sessionInfo;{j(i.type==="signin",t,"internal-error");const c=((r=l.multiFactorHint)===null||r===void 0?void 0:r.uid)||l.multiFactorUid;return j(c,t,"missing-multi-factor-info"),(await JP(t,{mfaPendingCredential:i.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:i}=await JR(t,{phoneNumber:l.phoneNumber,recaptchaToken:a});return i}}finally{n._reset()}}async function p4(t,e){const n=fe(t);if(Qe(n.auth.app))return Promise.reject(wt(n.auth));await k0(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma=class rd{constructor(e){this.providerId=rd.PROVIDER_ID,this.auth=Je(e)}verifyPhoneNumber(e,n){return Cm(this.auth,e,fe(n))}static credential(e,n){return Ca._fromVerification(e,n)}static credentialFromResult(e){const n=e;return rd.credentialFromTaggedObject(n)}static credentialFromError(e){return rd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Ca._fromTokenResponse(n,r):null}};Ma.PROVIDER_ID="phone";Ma.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){return e?pn(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0 extends ii{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h4(t){return JN(t.auth,new L0(t),t.bypassAuthState)}function g4(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),QN(n,new L0(t),t.bypassAuthState)}async function v4(t){const{auth:e,user:n}=t;return j(n,e,"internal-error"),k0(n,new L0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:i,type:c}=e;if(i){this.reject(i);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h4;case"linkViaPopup":case"linkViaRedirect":return v4;case"reauthViaPopup":case"reauthViaRedirect":return g4;default:Pt(this.auth,"internal-error")}}resolve(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new oc(2e3,1e4);async function E4(t,e,n){if(Qe(t.app))return Promise.reject(ut(t,"operation-not-supported-in-this-environment"));const r=Je(t);li(t,e,Xr);const a=Ba(r,n);return new Fr(r,"signInViaPopup",e,a).executeNotNull()}async function x4(t,e,n){const r=fe(t);if(Qe(r.auth.app))return Promise.reject(ut(r.auth,"operation-not-supported-in-this-environment"));li(r.auth,e,Xr);const a=Ba(r.auth,n);return new Fr(r.auth,"reauthViaPopup",e,a,r).executeNotNull()}async function b4(t,e,n){const r=fe(t);li(r.auth,e,Xr);const a=Ba(r.auth,n);return new Fr(r.auth,"linkViaPopup",e,a,r).executeNotNull()}class Fr extends u1{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Fr.currentPopupAction&&Fr.currentPopupAction.cancel(),Fr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return j(e,this.auth,"internal-error"),e}async onExecution(){Yn(this.filter.length===1,"Popup operations only handle one event");const e=fc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ut(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y4.get())};e()}}Fr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="pendingRedirect",ho=new Map;class w4 extends u1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ho.get(this.auth._key());if(!e){try{const r=await N4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ho.set(this.auth._key(),e)}return this.bypassAuthState||ho.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N4(t,e){const n=m1(e),r=d1(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}async function F0(t,e){return d1(t)._set(m1(e),"true")}function C4(){ho.clear()}function U0(t,e){ho.set(t._key(),e)}function d1(t){return pn(t._redirectPersistence)}function m1(t){return Na(_4,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e,n){return k4(t,e,n)}async function k4(t,e,n){if(Qe(t.app))return Promise.reject(wt(t));const r=Je(t);li(t,e,Xr),await r._initializationPromise;const a=Ba(r,n);return await F0(a,r),a._openRedirect(r,e,"signInViaRedirect")}function I4(t,e,n){return T4(t,e,n)}async function T4(t,e,n){const r=fe(t);if(li(r.auth,e,Xr),Qe(r.auth.app))return Promise.reject(wt(r.auth));await r.auth._initializationPromise;const a=Ba(r.auth,n);await F0(a,r.auth);const l=await f1(r);return a._openRedirect(r.auth,e,"reauthViaRedirect",l)}function R4(t,e,n){return P4(t,e,n)}async function P4(t,e,n){const r=fe(t);li(r.auth,e,Xr),await r.auth._initializationPromise;const a=Ba(r.auth,n);await xm(!1,r,e.providerId),await F0(a,r.auth);const l=await f1(r);return a._openRedirect(r.auth,e,"linkViaRedirect",l)}async function A4(t,e){return await Je(t)._initializationPromise,Sm(t,e,!1)}async function Sm(t,e,n=!1){if(Qe(t.app))return Promise.reject(wt(t));const r=Je(t),a=Ba(r,e),i=await new w4(r,a,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}async function f1(t){const e=fc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=10*60*1e3;class p1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!h1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ut(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qx(e))}saveEventToCache(e){this.cachedEventUids.add(Qx(e)),this.lastProcessedEventTime=Date.now()}}function Qx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function h1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return h1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t,e={}){return Ze(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L4=/^https?/;async function F4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g1(t);for(const n of e)try{if(U4(n))return}catch{}Pt(t,"unauthorized-domain")}function U4(t){const e=zo(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!L4.test(n))return!1;if(D4.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new oc(3e4,6e4);function Jx(){const t=st().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $4(t){return new Promise((e,n)=>{var r,a,l;function i(){Jx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jx(),n(ut(t,"network-request-failed"))},timeout:j4.get()})}if(!((a=(r=st().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=st().gapi)===null||l===void 0)&&l.load)i();else{const c=VN("iframefcb");return st()[c]=()=>{gapi.load?i():n(ut(t,"network-request-failed"))},S0(`${AR()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw sd=null,e})}let sd=null;function W4(t){return sd=sd||$4(t),sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new oc(5e3,15e3),B4="__/auth/iframe",V4="emulator/auth/iframe",H4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K4(t){const e=t.config;j(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?C0(e,V4):`https://${t.config.authDomain}/${B4}`,r={apiKey:e.apiKey,appName:t.name,v:Vs},a=G4.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${za(r).slice(1)}`}async function q4(t){const e=await W4(t),n=st().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:K4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H4,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const i=ut(t,"network-request-failed"),c=st().setTimeout(()=>{l(i)},z4.get());function u(){st().clearTimeout(c),a(r)}r.ping(u).then(u,()=>{l(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q4=500,J4=600,X4="_blank",Z4="http://localhost";class Xx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eA(t,e,n,r=Q4,a=J4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Y4),{width:r.toString(),height:a.toString(),top:l,left:i}),m=dt().toLowerCase();n&&(c=UN(m)?X4:n),LN(m)&&(e=e||Z4,u.scrollbars="yes");const g=Object.entries(u).reduce((E,[k,R])=>`${E}${k}=${R},`,"");if(_R(m)&&c!=="_self")return tA(e||"",c),new Xx(null);const h=window.open(e||"",c,g);j(h,t,"popup-blocked");try{h.focus()}catch{}return new Xx(h)}function tA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="__/auth/handler",rA="emulator/auth/handler",sA=encodeURIComponent("fac");async function Kh(t,e,n,r,a,l){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vs,eventId:a};if(e instanceof Xr){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",Od(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,h]of Object.entries(l||{}))i[g]=h}if(e instanceof oi){const g=e.getScopes().filter(h=>h!=="");g.length>0&&(i.scopes=g.join(","))}t.tenantId&&(i.tid=t.tenantId);const c=i;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const u=await t._getAppCheckToken(),m=u?`#${sA}=${encodeURIComponent(u)}`:"";return`${aA(t)}?${za(c).slice(1)}${m}`}function aA({config:t}){return t.emulator?C0(t,rA):`https://${t.authDomain}/${nA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class lA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oa,this._completeRedirectFn=Sm,this._overrideRedirectResult=U0}async _openPopup(e,n,r,a){var l;Yn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const i=await Kh(e,n,r,zo(),a);return eA(e,i,fc())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await Kh(e,n,r,zo(),a);return zP(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Yn(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await q4(e),r=new p1(e);return n.register("authEvent",a=>(j(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},a=>{var l;const i=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Fp];i!==void 0&&n(!!i),Pt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zN()||FN()||uc()}}const iA=lA;class oA{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return dr("unexpected MultiFactorSessionType")}}}class j0 extends oA{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new j0(e)}_finalizeEnroll(e,n,r){return DP(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return XP(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class v1{constructor(){}static assertion(e){return j0._fromCredential(e)}}v1.FACTOR_ID="phone";var Zx="@firebase/auth",eb="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dA(t){Ds(new On("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:i,authDomain:c}=r.options;j(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:i,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BN(t)},m=new IR(r,a,l,u);return LR(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ds(new On("auth-internal",e=>{const n=Je(e.getProvider("auth").getImmediate());return(r=>new cA(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(Zx,eb,uA(t)),Gn(Zx,eb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=5*60;y3("authIdTokenMaxAge");function fA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}TR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=ut("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",fA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dA("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=2e3;async function hA(t,e,n){var r;const{BuildInfo:a}=Da();Yn(e.sessionId,"AuthEvent did not contain a session ID");const l=await xA(e.sessionId),i={};return uc()?i.ibi=a.packageName:cc()?i.apn=a.packageName:Pt(t,"operation-not-supported-in-this-environment"),a.displayName&&(i.appDisplayName=a.displayName),i.sessionId=l,Kh(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,i)}async function gA(t){const{BuildInfo:e}=Da(),n={};uc()?n.iosBundleId=e.packageName:cc()?n.androidPackageName=e.packageName:Pt(t,"operation-not-supported-in-this-environment"),await g1(t,n)}function vA(t){const{cordova:e}=Da();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let a=null;r?e.plugins.browsertab.openUrl(t):a=e.InAppBrowser.open(t,bR()?"_blank":"_system","location=yes"),n(a)})})}async function yA(t,e,n){const{cordova:r}=Da();let a=()=>{};try{await new Promise((l,i)=>{let c=null;function u(){var h;l();const E=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof E=="function"&&E(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function m(){c||(c=window.setTimeout(()=>{i(ut(t,"redirect-cancelled-by-user"))},pA))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&m()}e.addPassiveListener(u),document.addEventListener("resume",m,!1),cc()&&document.addEventListener("visibilitychange",g,!1),a=()=>{e.removePassiveListener(u),document.removeEventListener("resume",m,!1),document.removeEventListener("visibilitychange",g,!1),c&&window.clearTimeout(c)}})}finally{a()}}function EA(t){var e,n,r,a,l,i,c,u,m,g;const h=Da();j(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),j(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),j(typeof((l=(a=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((u=(c=(i=h==null?void 0:h.cordova)===null||i===void 0?void 0:i.plugins)===null||c===void 0?void 0:c.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),j(typeof((g=(m=h==null?void 0:h.cordova)===null||m===void 0?void 0:m.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function xA(t){const e=bA(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(a=>a.toString(16).padStart(2,"0")).join("")}function bA(t){if(Yn(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=20;class wA extends p1{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function NA(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:kA(),postBody:null,tenantId:t.tenantId,error:ut(t,"no-auth-event")}}function CA(t,e){return qh()._set(Yh(t),e)}async function tb(t){const e=await qh()._get(Yh(t));return e&&await qh()._remove(Yh(t)),e}function SA(t,e){var n,r;const a=TA(e);if(a.includes("/__/auth/callback")){const l=ad(a),i=l.firebaseError?IA(decodeURIComponent(l.firebaseError)):null,c=(r=(n=i==null?void 0:i.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=c?ut(c):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:a,postBody:null}}return null}function kA(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<_A;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function qh(){return pn(O0)}function Yh(t){return Na("authEvent",t.config.apiKey,t.name)}function IA(t){try{return JSON.parse(t)}catch{return null}}function TA(t){const e=ad(t),n=e.link?decodeURIComponent(e.link):void 0,r=ad(n).link,a=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ad(a).link||a||r||n||t}function ad(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return kl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=500;class PA{constructor(){this._redirectPersistence=Oa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sm,this._overrideRedirectResult=U0}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new wA(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Pt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,a){EA(e);const l=await this._initialize(e);await l.initialized(),l.resetRedirect(),C4(),await this._originValidation(e);const i=NA(e,r,a);await CA(e,i);const c=await hA(e,i,n),u=await vA(c);return yA(e,l,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gA(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:a,BuildInfo:l}=Da(),i=setTimeout(async()=>{await tb(e),n.onEvent(nb())},RA),c=async g=>{clearTimeout(i);const h=await tb(e);let E=null;h&&(g!=null&&g.url)&&(E=SA(h,g.url)),n.onEvent(E||nb())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const u=a,m=`${l.packageName.toLowerCase()}://`;Da().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(m)&&c({url:g}),typeof u=="function")try{u(g)}catch(h){console.error(h)}}}}const AA=PA;function nb(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ut("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e){Je(t)._logFramework(e)}var MA="@firebase/auth-compat",DA="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=1e3;function go(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function FA(){return go()==="http:"||go()==="https:"}function y1(t=dt()){return!!((go()==="file:"||go()==="ionic:"||go()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function UA(){return hm()||uN()}function jA(){return fN()&&(document==null?void 0:document.documentMode)===11}function $A(t=dt()){return/Edge\/\d+/.test(t)}function WA(t=dt()){return jA()||$A(t)}function E1(){try{const t=self.localStorage,e=fc();if(t)return t.setItem(e,"1"),t.removeItem(e),WA()?Ad():!0}catch{return $0()&&Ad()}return!1}function $0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Up(){return(FA()||mN()||y1())&&!UA()&&E1()&&!$0()}function x1(){return y1()&&typeof document<"u"}async function zA(){return x1()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},LA);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function BA(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn={LOCAL:"local",NONE:"none",SESSION:"session"},Gi=j,b1="persistence";function VA(t,e){if(Gi(Object.values(dn).includes(e),t,"invalid-persistence-type"),hm()){Gi(e!==dn.SESSION,t,"unsupported-persistence-type");return}if(uN()){Gi(e===dn.NONE,t,"unsupported-persistence-type");return}if($0()){Gi(e===dn.NONE||e===dn.LOCAL&&Ad(),t,"unsupported-persistence-type");return}Gi(e===dn.NONE||E1(),t,"unsupported-persistence-type")}async function Qh(t){await t._initializationPromise;const e=_1(),n=Na(b1,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function HA(t,e){const n=_1();if(!n)return[];const r=Na(b1,t,e);switch(n.getItem(r)){case dn.NONE:return[Yl];case dn.LOCAL:return[Go,Oa];case dn.SESSION:return[Oa];default:return[]}}function _1(){var t;try{return((t=BA())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=j;class gs{constructor(){this.browserResolver=pn(iA),this.cordovaResolver=pn(AA),this.underlyingResolver=null,this._redirectPersistence=Oa,this._completeRedirectFn=Sm,this._overrideRedirectResult=U0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,a)}async _openRedirect(e,n,r,a){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,a)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return x1()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return GA(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await zA();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){return t.unwrap()}function KA(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){return N1(t)}function YA(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const a=e;a.resolver=new QA(t,OP(t,e))}else if(r){const a=N1(e),l=e;a&&(l.credential=a,l.tenantId=r.tenantId||void 0,l.email=r.email||void 0,l.phoneNumber=r.phoneNumber||void 0)}}function N1(t){const{_tokenResponse:e}=t instanceof sn?t.customData:t;if(!e)return null;if(!(t instanceof sn)&&"temporaryProof"in e&&"phoneNumber"in e)return Ma.credentialFromResult(t);const n=e.providerId;if(!n||n===Hi.PASSWORD)return null;let r;switch(n){case Hi.GOOGLE:r=or;break;case Hi.FACEBOOK:r=ir;break;case Hi.GITHUB:r=cr;break;case Hi.TWITTER:r=ur;break;default:const{oauthIdToken:a,oauthAccessToken:l,oauthTokenSecret:i,pendingToken:c,nonce:u}=e;return!l&&!i&&!a&&!c?null:c?n.startsWith("saml.")?Ql._create(n,c):hr._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:a,accessToken:l}):new Ll(n).credential({idToken:a,accessToken:l,rawNonce:u})}return t instanceof sn?r.credentialFromError(t):r.credentialFromResult(t)}function Qt(t,e){return e.catch(n=>{throw n instanceof sn&&YA(t,n),n}).then(n=>{const r=n.operationType,a=n.user;return{operationType:r,credential:qA(n),additionalUserInfo:AP(n),user:Ur.getOrCreate(a)}})}async function Jh(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Qt(t,n.confirm(r))}}class QA{constructor(e,n){this.resolver=n,this.auth=KA(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Qt(w1(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._delegate=e,this.multiFactor=FP(e)}static getOrCreate(e){return Ur.USER_MAP.has(e)||Ur.USER_MAP.set(e,new Ur(e)),Ur.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Qt(this.auth,XN(this._delegate,e))}async linkWithPhoneNumber(e,n){return Jh(this.auth,m4(this._delegate,e,n))}async linkWithPopup(e){return Qt(this.auth,b4(this._delegate,e,gs))}async linkWithRedirect(e){return await Qh(Je(this.auth)),R4(this._delegate,e,gs)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Qt(this.auth,ZN(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Jh(this.auth,f4(this._delegate,e,n))}reauthenticateWithPopup(e){return Qt(this.auth,x4(this._delegate,e,gs))}async reauthenticateWithRedirect(e){return await Qh(Je(this.auth)),I4(this._delegate,e,gs)}sendEmailVerification(e){return bP(this._delegate,e)}async unlink(e){return await iP(this._delegate,e),this}updateEmail(e){return CP(this._delegate,e)}updatePassword(e){return SP(this._delegate,e)}updatePhoneNumber(e){return p4(this._delegate,e)}updateProfile(e){return NP(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return _P(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ur.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=j;class Xh{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Ki(r,"invalid-api-key",{appName:e.name}),Ki(r,"invalid-api-key",{appName:e.name});const a=typeof window<"u"?gs:void 0;this._delegate=n.initialize({options:{persistence:JA(r,e.name),popupRedirectResolver:a}}),this._delegate._updateErrorMap(eR),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ur.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){FR(this._delegate,e,n)}applyActionCode(e){return mP(this._delegate,e)}checkActionCode(e){return e1(this._delegate,e)}confirmPasswordReset(e,n){return dP(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Qt(this._delegate,pP(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return xP(this._delegate,e)}isSignInWithEmailLink(e){return vP(this._delegate,e)}async getRedirectResult(){Ki(Up(),this._delegate,"operation-not-supported-in-this-environment");const e=await A4(this._delegate,gs);return e?Qt(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){OA(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:a,error:l,complete:i}=rb(e,n,r);return this._delegate.onAuthStateChanged(a,l,i)}onIdTokenChanged(e,n,r){const{next:a,error:l,complete:i}=rb(e,n,r);return this._delegate.onIdTokenChanged(a,l,i)}sendSignInLinkToEmail(e,n){return gP(this._delegate,e,n)}sendPasswordResetEmail(e,n){return uP(this._delegate,e,n||void 0)}async setPersistence(e){VA(this._delegate,e);let n;switch(e){case dn.SESSION:n=Oa;break;case dn.LOCAL:n=await pn(Go)._isAvailable()?Go:O0;break;case dn.NONE:n=Yl;break;default:return Pt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Qt(this._delegate,lP(this._delegate))}signInWithCredential(e){return Qt(this._delegate,bm(this._delegate,e))}signInWithCustomToken(e){return Qt(this._delegate,cP(this._delegate,e))}signInWithEmailAndPassword(e,n){return Qt(this._delegate,hP(this._delegate,e,n))}signInWithEmailLink(e,n){return Qt(this._delegate,yP(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Jh(this._delegate,d4(this._delegate,e,n))}async signInWithPopup(e){return Ki(Up(),this._delegate,"operation-not-supported-in-this-environment"),Qt(this._delegate,E4(this._delegate,e,gs))}async signInWithRedirect(e){return Ki(Up(),this._delegate,"operation-not-supported-in-this-environment"),await Qh(this._delegate),S4(this._delegate,e,gs)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return fP(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Xh.Persistence=dn;function rb(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const a=r;return{next:i=>a(i&&Ur.getOrCreate(i)),error:e,complete:n}}function JA(t,e){const n=HA(t,e);if(typeof self<"u"&&!n.includes(Go)&&n.push(Go),typeof window<"u")for(const r of[O0,Oa])n.includes(r)||n.push(r);return n.includes(Yl)||n.push(Yl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.providerId="phone",this._delegate=new Ma(w1(un.auth()))}static credential(e,n){return Ma.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}W0.PHONE_SIGN_IN_METHOD=Ma.PHONE_SIGN_IN_METHOD;W0.PROVIDER_ID=Ma.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=j;class ZA{constructor(e,n,r=un.app()){var a;XA((a=r.options)===null||a===void 0?void 0:a.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new c4(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5="auth-compat";function t5(t){t.INTERNAL.registerComponent(new On(e5,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Xh(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fl.EMAIL_SIGNIN,PASSWORD_RESET:fl.PASSWORD_RESET,RECOVER_EMAIL:fl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:fl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:fl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:fl.VERIFY_EMAIL}},EmailAuthProvider:Hs,FacebookAuthProvider:ir,GithubAuthProvider:cr,GoogleAuthProvider:or,OAuthProvider:Ll,SAMLAuthProvider:Fd,PhoneAuthProvider:W0,PhoneMultiFactorGenerator:v1,RecaptchaVerifier:ZA,TwitterAuthProvider:ur,Auth:Xh,AuthCredential:ii,Error:sn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(MA,DA)}t5(un);var sb={};const ab="@firebase/database",lb="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C1="";function S1(t){C1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ot(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:jo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new n5(e)}}catch{}return new r5},ba=k1("localStorage"),Zh=k1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=new ic("@firebase/database"),I1=function(){let t=1;return function(){return t++}}(),T1=function(t){const e=A3(t),n=new T3;n.update(e);const r=n.digest();return f0.encodeByteArray(r)},hc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hc.apply(null,r):typeof r=="object"?e+=ot(r):e+=r,e+=" "}return e};let Sa=null,ib=!0;const R1=function(t,e){W(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ul.logLevel=Re.VERBOSE,Sa=Ul.log.bind(Ul),e&&Zh.set("logging_enabled",!0)):typeof t=="function"?Sa=t:(Sa=null,Zh.remove("logging_enabled"))},bt=function(...t){if(ib===!0&&(ib=!1,Sa===null&&Zh.get("logging_enabled")===!0&&R1(!0)),Sa){const e=hc.apply(null,t);Sa(e)}},gc=function(t){return function(...e){bt(t,...e)}},eg=function(...t){const e="FIREBASE INTERNAL ERROR: "+hc(...t);Ul.error(e)},gr=function(...t){const e=`FIREBASE FATAL ERROR: ${hc(...t)}`;throw Ul.error(e),new Error(e)},Ft=function(...t){const e="FIREBASE WARNING: "+hc(...t);Ul.warn(e)},s5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},km=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},a5=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ls="[MIN_NAME]",Yr="[MAX_NAME]",Va=function(t,e){if(t===e)return 0;if(t===Ls||e===Yr)return-1;if(e===Ls||t===Yr)return 1;{const n=ob(t),r=ob(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},l5=function(t,e){return t===e?0:t<e?-1:1},qi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ot(e))},z0=function(t){if(typeof t!="object"||t===null)return ot(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ot(e[r]),n+=":",n+=z0(t[e[r]]);return n+="}",n},P1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let a=0;a<n;a+=e)a+e>n?r.push(t.substring(a,n)):r.push(t.substring(a,a+e));return r};function Nt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const A1=function(t){W(!km(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let a,l,i,c,u;t===0?(l=0,i=0,a=1/t===-1/0?1:0):(a=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),l=c+r,i=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(l=0,i=Math.round(t/Math.pow(2,1-r-n))));const m=[];for(u=n;u;u-=1)m.push(i%2?1:0),i=Math.floor(i/2);for(u=e;u;u-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(a?1:0),m.reverse();const g=m.join("");let h="";for(u=0;u<64;u+=8){let E=parseInt(g.substr(u,8),2).toString(16);E.length===1&&(E="0"+E),h=h+E}return h.toLowerCase()},i5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},o5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function c5(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const u5=new RegExp("^-?(0*)\\d{1,10}$"),d5=-2147483648,m5=2147483647,ob=function(t){if(u5.test(t)){const e=Number(t);if(e>=d5&&e<=m5)return e}return null},ci=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ft("Exception was thrown by user callback.",n),e},Math.floor(0))}},f5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},vo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ft(e)}}class jl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="5",O1="v",M1="s",D1="r",L1="f",F1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,U1="ls",j1="p",tg="ac",$1="websocket",W1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,a,l=!1,i="",c=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=l,this.persistenceKey=i,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ba.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ba.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function g5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function B1(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let r;if(e===$1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===W1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);g5(t)&&(n.ns=t.namespace);const a=[];return Nt(n,(l,i)=>{a.push(l+"="+i)}),r+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.counters_={}}incrementCounter(e,n=1){vn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return f3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp={},$p={};function V0(t){const e=t.toString();return jp[e]||(jp[e]=new v5),jp[e]}function y5(t,e){const n=t.toString();return $p[n]||($p[n]=e()),$p[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&ci(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="start",x5="close",b5="pLPCommand",_5="pRTLPCB",V1="id",H1="pw",G1="ser",w5="cb",N5="seg",C5="ts",S5="d",k5="dframe",K1=1870,q1=30,I5=K1-q1,T5=25e3,R5=3e4;class vs{constructor(e,n,r,a,l,i,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=a,this.authToken=l,this.transportSessionId=i,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gc(e),this.stats_=V0(n),this.urlFn=u=>(this.appCheckToken&&(u[tg]=this.appCheckToken),B1(n,W1,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new E5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(R5)),a5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new H0((...l)=>{const[i,c,u,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,i===cb)this.id=c,this.password=u;else if(i===x5)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+i)},(...l)=>{const[i,c]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(i,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[cb]="t",r[G1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[w5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[O1]=B0,this.transportSessionId&&(r[M1]=this.transportSessionId),this.lastSessionId&&(r[U1]=this.lastSessionId),this.applicationId&&(r[j1]=this.applicationId),this.appCheckToken&&(r[tg]=this.appCheckToken),typeof location<"u"&&location.hostname&&F1.test(location.hostname)&&(r[D1]=L1);const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vs.forceAllow_=!0}static forceDisallow(){vs.forceDisallow_=!0}static isAvailable(){return vs.forceAllow_?!0:!vs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!i5()&&!o5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=iN(n),a=P1(r,I5);for(let l=0;l<a.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[k5]="t",r[V1]=e,r[H1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=ot(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class H0{constructor(e,n,r,a){this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=I1(),window[b5+this.uniqueCallbackIdentifier]=e,window[_5+this.uniqueCallbackIdentifier]=n,this.myIFrame=H0.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const i="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(c){bt("frame writing exception"),c.stack&&bt(c.stack),bt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||bt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[V1]=this.myID,e[H1]=this.myPW,e[G1]=this.currentSerial;let n=this.urlFn(e),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+q1+r.length<=K1;){const i=this.pendingSegs.shift();r=r+"&"+N5+a+"="+i.seg+"&"+C5+a+"="+i.ts+"&"+S5+a+"="+i.d,a++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},a=setTimeout(r,Math.floor(T5)),l=()=>{clearTimeout(a),r()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||a==="loaded"||a==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{bt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5=16384,A5=45e3;let Wd=null;typeof MozWebSocket<"u"?Wd=MozWebSocket:typeof WebSocket<"u"&&(Wd=WebSocket);class Cn{constructor(e,n,r,a,l,i,c){this.connId=e,this.applicationId=r,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gc(this.connId),this.stats_=V0(n),this.connURL=Cn.connectionURL_(n,i,c,a,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,a,l){const i={};return i[O1]=B0,typeof location<"u"&&location.hostname&&F1.test(location.hostname)&&(i[D1]=L1),n&&(i[M1]=n),r&&(i[U1]=r),a&&(i[tg]=a),l&&(i[j1]=l),B1(e,$1,i)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ba.set("previous_websocket_failure",!0);try{let r;_3(),this.mySock=new Wd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const a=r.message||r.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){Cn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wd!==null&&!Cn.forceDisallow_}static previouslyFailed(){return ba.isInMemoryStorage||ba.get("previous_websocket_failure")===!0}markConnectionHealthy(){ba.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=jo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=ot(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=P1(n,P5);r.length>1&&this.sendString_(String(r.length));for(let a=0;a<r.length;a++)this.sendString_(r[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(A5))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cn.responsesRequiredToBeHealthy=2;Cn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[vs,Cn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Cn&&Cn.isAvailable();let r=n&&!Cn.previouslyFailed();if(e.webSocketOnly&&(n||Ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cn];else{const a=this.transports_=[];for(const l of Jl.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);Jl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=6e4,M5=5e3,D5=10*1024,L5=100*1024,Wp="t",ub="d",F5="s",db="r",U5="e",mb="o",fb="a",pb="n",hb="p",j5="h";class $5{constructor(e,n,r,a,l,i,c,u,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=l,this.onMessage_=i,this.onReady_=c,this.onDisconnect_=u,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gc("c:"+this.id+":"),this.transportManager_=new Jl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const a=e.healthyTimeout||0;a>0&&(this.healthyTimeout_=vo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>L5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>D5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wp in e){const n=e[Wp];n===fb?this.upgradeIfSecondaryHealthy_():n===db?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qi("t",e),r=qi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qi("t",e),r=qi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qi(Wp,e);if(ub in e){const r=e[ub];if(n===j5){const a=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(n===pb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===F5?this.onConnectionShutdown_(r):n===db?this.onReset_(r):n===U5?eg("Server Error: "+r):n===mb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):eg("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,a=e.h;this.sessionId=e.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),B0!==r&&Ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(O5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(M5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ba.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{put(e,n,r,a){}merge(e,n,r,a){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const a=this.getInitialEvent(e);a&&n.apply(r,a)}off(e,n,r){this.validateEventType_(e);const a=this.listeners_[e]||[];for(let l=0;l<a.length;l++)if(a[l].callback===n&&(!r||r===a[l].context)){a.splice(l,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Q1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!h0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zd}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=32,vb=768;class ke{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new ke("")}function ge(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Fs(t){return t.pieces_.length-t.pieceNum_}function Oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ke(t.pieces_,e)}function G0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function W5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ko(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function J1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ke(e,0)}function We(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&n.push(r[a])}return new ke(n,0)}function ve(t){return t.pieceNum_>=t.pieces_.length}function zt(t,e){const n=ge(t),r=ge(e);if(n===null)return e;if(n===r)return zt(Oe(t),Oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function z5(t,e){const n=Ko(t,0),r=Ko(e,0);for(let a=0;a<n.length&&a<r.length;a++){const l=Va(n[a],r[a]);if(l!==0)return l}return n.length===r.length?0:n.length<r.length?-1:1}function K0(t,e){if(Fs(t)!==Fs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function kn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Fs(t)>Fs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class B5{constructor(e,n){this.errorPrefix_=n,this.parts_=Ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gm(this.parts_[r]);X1(this)}}function V5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gm(e),X1(t)}function H5(t){const e=t.parts_.pop();t.byteLength_-=gm(e),t.parts_.length>0&&(t.byteLength_-=1)}function X1(t){if(t.byteLength_>vb)throw new Error(t.errorPrefix_+"has a key path longer than "+vb+" bytes ("+t.byteLength_+").");if(t.parts_.length>gb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gb+") or object contains a cycle "+ga(t))}function ga(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends Q1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new q0}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=1e3,G5=60*5*1e3,yb=30*1e3,K5=1.3,q5=3e4,Y5="server_kill",Eb=3;class zr extends Y1{constructor(e,n,r,a,l,i,c,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=i,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=zr.nextPersistentConnectionId_++,this.log_=gc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yi,this.maxReconnectDelay_=G5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");q0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const a=++this.requestNumber_,l={r:a,a:e,b:n};this.log_(ot(l)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[a]=r)}get(e){this.initConnection_();const n=new Xt,a={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:i=>{const c=i.d;i.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,r,a){this.initConnection_();const l=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+l),this.listens.has(i)||this.listens.set(i,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(i).has(l),"listen() called twice for same path/queryId.");const c={onComplete:a,hashFn:n,query:e,tag:r};this.listens.get(i).set(l,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),a=n._queryIdentifier;this.log_("Listen on "+r+" for "+a);const l={p:r},i="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(i,l,c=>{const u=c.d,m=c.s;zr.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(a))===e&&(this.log_("listen response",c),m!=="ok"&&this.removeListen_(r,a),e.onComplete&&e.onComplete(m,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vn(e,"w")){const r=Aa(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const a='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();Ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||I3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=yb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=k3(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,a=>{const l=a.s,i=a.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+a),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,a)&&this.connected_&&this.sendUnlisten_(r,a,e._queryObject,n)}sendUnlisten_(e,n,r,a){this.log_("Unlisten on "+e+" for "+n);const l={p:e},i="n";a&&(l.q=r,l.t=a),this.sendRequest(i,l)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,a){const l={p:n,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,i=>{a&&setTimeout(()=>{a(i.s,i.d)},Math.floor(0))})}put(e,n,r,a){this.putInternal("p",e,n,r,a)}merge(e,n,r,a){this.putInternal("m",e,n,r,a)}putInternal(e,n,r,a,l){this.initConnection_();const i={p:n,d:r};l!==void 0&&(i.h=l),this.outstandingPuts_.push({action:e,request:i,onComplete:a}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const l=r.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ot(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):eg("Unrecognized action received from server: "+ot(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>q5&&(this.reconnectDelay_=Yi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*K5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+zr.nextConnectionId_++,l=this.lastSessionId;let i=!1,c=null;const u=function(){c?c.close():(i=!0,r())},m=function(h){W(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:u,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,E]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);i?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=E&&E.token,c=new $5(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,k=>{Ft(k+" ("+this.repoInfo_.toString()+")"),this.interrupt(Y5)},l))}catch(h){this.log_("Failed to get token: "+h),i||(this.repoInfo_.nodeAdmin&&Ft(h),u())}}}interrupt(e){bt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){bt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Od(this.interruptReasons_)&&(this.reconnectDelay_=Yi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(l=>z0(l)).join("$"):r="default";const a=this.removeListen_(e,r);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,n){const r=new ke(e).toString();let a;if(this.listens.has(r)){const l=this.listens.get(r);a=l.get(n),l.delete(n),l.size===0&&this.listens.delete(r)}else a=void 0;return a}onAuthRevoked_(e,n){bt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Eb&&(this.reconnectDelay_=yb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){bt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Eb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+C1.replace(/\./g,"-")]=1,h0()?e["framework.cordova"]=1:hm()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zd.getInstance().currentlyOnline();return Od(this.interruptReasons_)&&e}}zr.nextPersistentConnectionId_=0;zr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ye(Ls,e),a=new ye(Ls,n);return this.compare(r,a)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;class Z1 extends Im{static get __EMPTY_NODE(){return Wu}static set __EMPTY_NODE(e){Wu=e}compare(e,n){return Va(e.name,n.name)}isDefinedOn(e){throw ai("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Yr,Wu)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,Wu)}toString(){return".key"}}const pr=new Z1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r,a,l=null){this.isReverse_=a,this.resultGenerator_=l,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(e=e,i=n?r(e.key,n):1,a&&(i*=-1),i<0)this.isReverse_?e=e.left:e=e.right;else if(i===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class xt{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??xt.RED,this.left=a??en.EMPTY_NODE,this.right=l??en.EMPTY_NODE}copy(e,n,r,a,l){return new xt(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return l<0?a=a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a=a.copy(null,n,null,null,null):a=a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,a;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return en.EMPTY_NODE;a=r.right.min_(),r=r.copy(a.key,a.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}xt.RED=!0;xt.BLACK=!1;class Q5{copy(e,n,r,a,l){return this}insert(e,n,r){return new xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,n=en.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new en(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xt.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,a=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(a=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new zu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new zu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new zu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new zu(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new Q5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(t,e){return Va(t.name,e.name)}function Y0(t,e){return Va(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng;function X5(t){ng=t}const eC=function(t){return typeof t=="number"?"number:"+A1(t):"string:"+t},tC=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vn(e,".sv"),"Priority must be a string or number.")}else W(t===ng||t.isEmpty(),"priority of unexpected type.");W(t===ng||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xb;class vt{constructor(e,n=vt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tC(this.priorityNode_)}static set __childrenNodeConstructor(e){xb=e}static get __childrenNodeConstructor(){return xb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new vt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:vt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ve(e)?this:ge(e)===".priority"?this.priorityNode_:vt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:vt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ge(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(W(r!==".priority"||Fs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,vt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+eC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=A1(this.value_):e+=this.value_,this.lazyHash_=T1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===vt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof vt.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,a=vt.VALUE_TYPE_ORDER.indexOf(n),l=vt.VALUE_TYPE_ORDER.indexOf(r);return W(a>=0,"Unknown leaf type: "+n),W(l>=0,"Unknown leaf type: "+r),a===l?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}vt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nC,rC;function Z5(t){nC=t}function eO(t){rC=t}class tO extends Im{compare(e,n){const r=e.node.getPriority(),a=n.node.getPriority(),l=r.compareTo(a);return l===0?Va(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Yr,new vt("[PRIORITY-POST]",rC))}makePost(e,n){const r=nC(e);return new ye(n,new vt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new tO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=Math.log(2);class rO{constructor(e){const n=l=>parseInt(Math.log(l)/nO,10),r=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const a=r(this.count);this.bits_=e+1&a}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bd=function(t,e,n,r){t.sort(e);const a=function(u,m){const g=m-u;let h,E;if(g===0)return null;if(g===1)return h=t[u],E=n?n(h):h,new xt(E,h.node,xt.BLACK,null,null);{const k=parseInt(g/2,10)+u,R=a(u,k),F=a(k+1,m);return h=t[k],E=n?n(h):h,new xt(E,h.node,xt.BLACK,R,F)}},l=function(u){let m=null,g=null,h=t.length;const E=function(R,F){const oe=h-R,C=h;h-=R;const _=a(oe+1,C),S=t[oe],L=n?n(S):S;k(new xt(L,S.node,F,null,_))},k=function(R){m?(m.left=R,m=R):(g=R,m=R)};for(let R=0;R<u.count;++R){const F=u.nextBitIsOne(),oe=Math.pow(2,u.count-(R+1));F?E(oe,xt.BLACK):(E(oe,xt.BLACK),E(oe,xt.RED))}return g},i=new rO(t.length),c=l(i);return new en(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp;const pl={};class jr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return W(pl&&Fe,"ChildrenNode.ts has not been loaded"),zp=zp||new jr({".priority":pl},{".priority":Fe}),zp}get(e){const n=Aa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof en?n:null}hasIndex(e){return vn(this.indexSet_,e.toString())}addIndex(e,n){W(e!==pr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const l=n.getIterator(ye.Wrap);let i=l.getNext();for(;i;)a=a||e.isDefinedOn(i.node),r.push(i),i=l.getNext();let c;a?c=Bd(r,e.getCompare()):c=pl;const u=e.toString(),m=Object.assign({},this.indexSet_);m[u]=e;const g=Object.assign({},this.indexes_);return g[u]=c,new jr(g,m)}addToIndexes(e,n){const r=Md(this.indexes_,(a,l)=>{const i=Aa(this.indexSet_,l);if(W(i,"Missing index implementation for "+l),a===pl)if(i.isDefinedOn(e.node)){const c=[],u=n.getIterator(ye.Wrap);let m=u.getNext();for(;m;)m.name!==e.name&&c.push(m),m=u.getNext();return c.push(e),Bd(c,i.getCompare())}else return pl;else{const c=n.get(e.name);let u=a;return c&&(u=u.remove(new ye(e.name,c))),u.insert(e,e.node)}});return new jr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Md(this.indexes_,a=>{if(a===pl)return a;{const l=n.get(e.name);return l?a.remove(new ye(e.name,l)):a}});return new jr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qi;class ae{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tC(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qi||(Qi=new ae(new en(Y0),null,jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qi}updatePriority(e){return this.children_.isEmpty()?this:new ae(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qi:n}}getChild(e){const n=ge(e);return n===null?this:this.getImmediateChild(n).getChild(Oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ye(e,n);let a,l;n.isEmpty()?(a=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(a=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(r,this.children_));const i=a.isEmpty()?Qi:this.priorityNode_;return new ae(a,i,l)}}updateChild(e,n){const r=ge(e);if(r===null)return n;{W(ge(e)!==".priority"||Fs(e)===1,".priority must be the last token in a path");const a=this.getImmediateChild(r).updateChild(Oe(e),n);return this.updateImmediateChild(r,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,a=0,l=!0;if(this.forEachChild(Fe,(i,c)=>{n[i]=c.val(e),r++,l&&ae.INTEGER_REGEXP_.test(i)?a=Math.max(a,Number(i)):l=!1}),!e&&l&&a<2*r){const i=[];for(const c in n)i[c]=n[c];return i}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+eC(this.getPriority().val())+":"),this.forEachChild(Fe,(n,r)=>{const a=r.hash();a!==""&&(e+=":"+n+":"+a)}),this.lazyHash_=e===""?"":T1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const a=this.resolveIndex_(r);if(a){const l=a.getPredecessorKey(new ye(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(a=>n(a.name,a.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,ye.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let l=a.peek();for(;l!=null&&n.compare(l,e)>0;)a.getNext(),l=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vc?-1:0}withIndex(e){if(e===pr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ae(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===pr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Fe),a=n.getIterator(Fe);let l=r.getNext(),i=a.getNext();for(;l&&i;){if(l.name!==i.name||!l.node.equals(i.node))return!1;l=r.getNext(),i=a.getNext()}return l===null&&i===null}else return!1;else return!1}}resolveIndex_(e){return e===pr?null:this.indexMap_.get(e.toString())}}ae.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class sO extends ae{constructor(){super(new en(Y0),ae.EMPTY_NODE,jr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ae.EMPTY_NODE}isEmpty(){return!1}}const vc=new sO;Object.defineProperties(ye,{MIN:{value:new ye(Ls,ae.EMPTY_NODE)},MAX:{value:new ye(Yr,vc)}});Z1.__EMPTY_NODE=ae.EMPTY_NODE;vt.__childrenNodeConstructor=ae;X5(vc);eO(vc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=!0;function He(t,e=null){if(t===null)return ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new vt(n,He(e))}if(!(t instanceof Array)&&aO){const n=[];let r=!1;if(Nt(t,(i,c)=>{if(i.substring(0,1)!=="."){const u=He(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ye(i,u)))}}),n.length===0)return ae.EMPTY_NODE;const l=Bd(n,J5,i=>i.name,Y0);if(r){const i=Bd(n,Fe.getCompare());return new ae(l,He(e),new jr({".priority":i},{".priority":Fe}))}else return new ae(l,He(e),jr.Default)}else{let n=ae.EMPTY_NODE;return Nt(t,(r,a)=>{if(vn(t,r)&&r.substring(0,1)!=="."){const l=He(a);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(r,l))}}),n.updatePriority(He(e))}}Z5(He);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends Im{constructor(e){super(),this.indexPath_=e,W(!ve(e)&&ge(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),a=this.extractChild(n.node),l=r.compareTo(a);return l===0?Va(e.name,n.name):l}makePost(e,n){const r=He(e),a=ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new ye(n,a)}maxPost(){const e=ae.EMPTY_NODE.updateChild(this.indexPath_,vc);return new ye(Yr,e)}toString(){return Ko(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO extends Im{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Va(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const r=He(e);return new ye(n,r)}toString(){return".value"}}const J0=new lO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){return{type:"value",snapshotNode:t}}function Xl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function qo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Yo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function iO(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.index_=e}updateChild(e,n,r,a,l,i){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(a).equals(r.getChild(a))&&c.isEmpty()===r.isEmpty()||(i!=null&&(r.isEmpty()?e.hasChild(n)?i.trackChildChange(qo(n,c)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?i.trackChildChange(Xl(n,r)):i.trackChildChange(Yo(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Fe,(a,l)=>{n.hasChild(a)||r.trackChildChange(qo(a,l))}),n.isLeafNode()||n.forEachChild(Fe,(a,l)=>{if(e.hasChild(a)){const i=e.getImmediateChild(a);i.equals(l)||r.trackChildChange(Yo(a,l,i))}else r.trackChildChange(Xl(a,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ae.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.indexedFilter_=new X0(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qo.getStartPost_(e),this.endPost_=Qo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,a,l,i){return this.matches(new ye(n,r))||(r=ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,a,l,i)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ae.EMPTY_NODE);let a=n.withIndex(this.index_);a=a.updatePriority(ae.EMPTY_NODE);const l=this;return n.forEachChild(Fe,(i,c)=>{l.matches(new ye(i,c))||(a=a.updateImmediateChild(i,ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,a,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,a,l,i){return this.rangedFilter_.matches(new ye(n,r))||(r=ae.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,a,l,i):this.fullLimitUpdateChild_(e,n,r,l,i)}updateFullNode(e,n,r){let a;if(n.isLeafNode()||n.isEmpty())a=ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){a=ae.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let i=0;for(;l.hasNext()&&i<this.limit_;){const c=l.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))a=a.updateImmediateChild(c.name,c.node),i++;else break;else continue}}else{a=n.withIndex(this.index_),a=a.updatePriority(ae.EMPTY_NODE);let l;this.reverse_?l=a.getReverseIterator(this.index_):l=a.getIterator(this.index_);let i=0;for(;l.hasNext();){const c=l.getNext();i<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?i++:a=a.updateImmediateChild(c.name,ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,a,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,a,l){let i;if(this.reverse_){const h=this.index_.getCompare();i=(E,k)=>h(k,E)}else i=this.index_.getCompare();const c=e;W(c.numChildren()===this.limit_,"");const u=new ye(n,r),m=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(u);if(c.hasChild(n)){const h=c.getImmediateChild(n);let E=a.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===n||c.hasChild(E.name));)E=a.getChildAfterChild(this.index_,E,this.reverse_);const k=E==null?1:i(E,u);if(g&&!r.isEmpty()&&k>=0)return l!=null&&l.trackChildChange(Yo(n,r,h)),c.updateImmediateChild(n,r);{l!=null&&l.trackChildChange(qo(n,h));const F=c.updateImmediateChild(n,ae.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(l!=null&&l.trackChildChange(Xl(E.name,E.node)),F.updateImmediateChild(E.name,E.node)):F}}else return r.isEmpty()?e:g&&i(m,u)>=0?(l!=null&&(l.trackChildChange(qo(m.name,m.node)),l.trackChildChange(Xl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(m.name,ae.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ls}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const e=new Tm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cO(t){return t.loadsAllData()?new X0(t.getIndex()):t.hasLimit()?new oO(t):new Qo(t)}function uO(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function dO(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function rg(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function mO(t,e,n){let r;return t.index_===pr||n?r=rg(t,e,n):r=rg(t,e,Yr),r.startAfterSet_=!0,r}function sg(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function fO(t,e,n){let r;return t.index_===pr||n?r=sg(t,e,n):r=sg(t,e,Ls),r.endBeforeSet_=!0,r}function Rm(t,e){const n=t.copy();return n.index_=e,n}function bb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Fe?n="$priority":t.index_===J0?n="$value":t.index_===pr?n="$key":(W(t.index_ instanceof Q0,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ot(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=ot(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ot(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ot(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ot(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function _b(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Fe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends Y1{constructor(e,n,r,a){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=gc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,a){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const i=Vd.getListenId_(e,r),c={};this.listens_[i]=c;const u=bb(e._queryParams);this.restRequest_(l+".json",u,(m,g)=>{let h=g;if(m===404&&(h=null,m=null),m===null&&this.onDataUpdate_(l,h,!1,r),Aa(this.listens_,i)===c){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",a(E,null)}})}unlisten(e,n){const r=Vd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=bb(e._queryParams),r=e._path.toString(),a=new Xt;return this.restRequest_(r+".json",n,(l,i)=>{let c=i;l===404&&(c=null,l=null),l===null?(this.onDataUpdate_(r,c,!1,null),a.resolve(c)):a.reject(new Error(c))}),a.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,l])=>{a&&a.accessToken&&(n.auth=a.accessToken),l&&l.token&&(n.ac=l.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+za(n);this.log_("Sending REST request for "+i);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+i+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=jo(c.responseText)}catch{Ft("Failed to parse JSON response for "+i+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&Ft("Got unsuccessful REST response for "+i+" Status: "+c.status),r(c.status);r=null}},c.open("GET",i,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.rootNode_=ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){return{value:null,children:new Map}}function ui(t,e,n){if(ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ge(e);t.children.has(r)||t.children.set(r,Hd());const a=t.children.get(r);e=Oe(e),ui(a,e,n)}}function ag(t,e){if(ve(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(Fe,(r,a)=>{ui(t,new ke(r),a)}),ag(t,e)}}else if(t.children.size>0){const n=ge(e);return e=Oe(e),t.children.has(n)&&ag(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function lg(t,e,n){t.value!==null?n(e,t.value):hO(t,(r,a)=>{const l=new ke(e.toString()+"/"+r);lg(a,l,n)})}function hO(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Nt(this.last_,(r,a)=>{n[r]=n[r]-a}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=10*1e3,vO=30*1e3,yO=5*60*1e3;class EO{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gO(e);const r=wb+(vO-wb)*Math.random();vo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Nt(e,(a,l)=>{l>0&&vn(this.statsToReport_,a)&&(n[a]=l,r=!0)}),r&&this.server_.reportStats(n),vo(this.reportStats_.bind(this),Math.floor(Math.random()*2*yO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Bn||(Bn={}));function Z0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ev(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Bn.ACK_USER_WRITE,this.source=Z0()}operationForChild(e){if(ve(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ke(e));return new Gd(we(),n,this.revert)}}else return W(ge(this.path)===e,"operationForChild called for unrelated child."),new Gd(Oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.source=e,this.path=n,this.type=Bn.LISTEN_COMPLETE}operationForChild(e){return ve(this.path)?new Jo(this.source,we()):new Jo(this.source,Oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Bn.OVERWRITE}operationForChild(e){return ve(this.path)?new La(this.source,we(),this.snap.getImmediateChild(e)):new La(this.source,Oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Bn.MERGE}operationForChild(e){if(ve(this.path)){const n=this.children.subtree(new ke(e));return n.isEmpty()?null:n.value?new La(this.source,we(),n.value):new Zl(this.source,we(),n)}else return W(ge(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Zl(this.source,Oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=ge(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bO(t,e,n,r){const a=[],l=[];return e.forEach(i=>{i.type==="child_changed"&&t.index_.indexedValueChanged(i.oldSnap,i.snapshotNode)&&l.push(iO(i.childName,i.snapshotNode))}),Ji(t,a,"child_removed",e,r,n),Ji(t,a,"child_added",e,r,n),Ji(t,a,"child_moved",l,r,n),Ji(t,a,"child_changed",e,r,n),Ji(t,a,"value",e,r,n),a}function Ji(t,e,n,r,a,l){const i=r.filter(c=>c.type===n);i.sort((c,u)=>wO(t,c,u)),i.forEach(c=>{const u=_O(t,c,l);a.forEach(m=>{m.respondsTo(c.type)&&e.push(m.createEvent(u,t.query_))})})}function _O(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wO(t,e,n){if(e.childName==null||n.childName==null)throw ai("Should only compare child_ events.");const r=new ye(e.childName,e.snapshotNode),a=new ye(n.childName,n.snapshotNode);return t.index_.compare(r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){return{eventCache:t,serverCache:e}}function yo(t,e,n,r){return Pm(new Us(e,n,r),t.serverCache)}function aC(t,e,n,r){return Pm(t.eventCache,new Us(e,n,r))}function Kd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Fa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp;const NO=()=>(Bp||(Bp=new en(l5)),Bp);class De{constructor(e,n=NO()){this.value=e,this.children=n}static fromObject(e){let n=new De(null);return Nt(e,(r,a)=>{n=n.set(new ke(r),a)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(ve(e))return null;{const r=ge(e),a=this.children.get(r);if(a!==null){const l=a.findRootMostMatchingPathAndValue(Oe(e),n);return l!=null?{path:We(new ke(r),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const n=ge(e),r=this.children.get(n);return r!==null?r.subtree(Oe(e)):new De(null)}}set(e,n){if(ve(e))return new De(n,this.children);{const r=ge(e),l=(this.children.get(r)||new De(null)).set(Oe(e),n),i=this.children.insert(r,l);return new De(this.value,i)}}remove(e){if(ve(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=ge(e),r=this.children.get(n);if(r){const a=r.remove(Oe(e));let l;return a.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,a),this.value===null&&l.isEmpty()?new De(null):new De(this.value,l)}else return this}}get(e){if(ve(e))return this.value;{const n=ge(e),r=this.children.get(n);return r?r.get(Oe(e)):null}}setTree(e,n){if(ve(e))return n;{const r=ge(e),l=(this.children.get(r)||new De(null)).setTree(Oe(e),n);let i;return l.isEmpty()?i=this.children.remove(r):i=this.children.insert(r,l),new De(this.value,i)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((a,l)=>{r[a]=l.fold_(We(e,a),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,r){const a=this.value?r(n,this.value):!1;if(a)return a;if(ve(e))return null;{const l=ge(e),i=this.children.get(l);return i?i.findOnPath_(Oe(e),We(n,l),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,r){if(ve(e))return this;{this.value&&r(n,this.value);const a=ge(e),l=this.children.get(a);return l?l.foreachOnPath_(Oe(e),We(n,a),r):new De(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((r,a)=>{a.foreach_(We(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.writeTree_=e}static empty(){return new Kn(new De(null))}}function Eo(t,e,n){if(ve(e))return new Kn(new De(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const a=r.path;let l=r.value;const i=zt(a,e);return l=l.updateChild(i,n),new Kn(t.writeTree_.set(a,l))}else{const a=new De(n),l=t.writeTree_.setTree(e,a);return new Kn(l)}}}function ig(t,e,n){let r=t;return Nt(n,(a,l)=>{r=Eo(r,We(e,a),l)}),r}function Nb(t,e){if(ve(e))return Kn.empty();{const n=t.writeTree_.setTree(e,new De(null));return new Kn(n)}}function og(t,e){return Ha(t,e)!=null}function Ha(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(zt(n.path,e)):null}function Cb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fe,(r,a)=>{e.push(new ye(r,a))}):t.writeTree_.children.inorderTraversal((r,a)=>{a.value!=null&&e.push(new ye(r,a.value))}),e}function Is(t,e){if(ve(e))return t;{const n=Ha(t,e);return n!=null?new Kn(new De(n)):new Kn(t.writeTree_.subtree(e))}}function cg(t){return t.writeTree_.isEmpty()}function ei(t,e){return lC(we(),t.writeTree_,e)}function lC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((a,l)=>{a===".priority"?(W(l.value!==null,"Priority writes must always be leaf nodes"),r=l.value):n=lC(We(t,a),l,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(We(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){return uC(e,t)}function CO(t,e,n,r,a){W(r>t.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:a}),a&&(t.visibleWrites=Eo(t.visibleWrites,e,n)),t.lastWriteId=r}function SO(t,e,n,r){W(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=ig(t.visibleWrites,e,n),t.lastWriteId=r}function kO(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function IO(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let a=r.visible,l=!1,i=t.allWrites.length-1;for(;a&&i>=0;){const c=t.allWrites[i];c.visible&&(i>=n&&TO(c,r.path)?a=!1:kn(r.path,c.path)&&(l=!0)),i--}if(a){if(l)return RO(t),!0;if(r.snap)t.visibleWrites=Nb(t.visibleWrites,r.path);else{const c=r.children;Nt(c,u=>{t.visibleWrites=Nb(t.visibleWrites,We(r.path,u))})}return!0}else return!1}function TO(t,e){if(t.snap)return kn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&kn(We(t.path,n),e))return!0;return!1}function RO(t){t.visibleWrites=iC(t.allWrites,PO,we()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function PO(t){return t.visible}function iC(t,e,n){let r=Kn.empty();for(let a=0;a<t.length;++a){const l=t[a];if(e(l)){const i=l.path;let c;if(l.snap)kn(n,i)?(c=zt(n,i),r=Eo(r,c,l.snap)):kn(i,n)&&(c=zt(i,n),r=Eo(r,we(),l.snap.getChild(c)));else if(l.children){if(kn(n,i))c=zt(n,i),r=ig(r,c,l.children);else if(kn(i,n))if(c=zt(i,n),ve(c))r=ig(r,we(),l.children);else{const u=Aa(l.children,ge(c));if(u){const m=u.getChild(Oe(c));r=Eo(r,we(),m)}}}else throw ai("WriteRecord should have .snap or .children")}}return r}function oC(t,e,n,r,a){if(!r&&!a){const l=Ha(t.visibleWrites,e);if(l!=null)return l;{const i=Is(t.visibleWrites,e);if(cg(i))return n;if(n==null&&!og(i,we()))return null;{const c=n||ae.EMPTY_NODE;return ei(i,c)}}}else{const l=Is(t.visibleWrites,e);if(!a&&cg(l))return n;if(!a&&n==null&&!og(l,we()))return null;{const i=function(m){return(m.visible||a)&&(!r||!~r.indexOf(m.writeId))&&(kn(m.path,e)||kn(e,m.path))},c=iC(t.allWrites,i,e),u=n||ae.EMPTY_NODE;return ei(c,u)}}}function AO(t,e,n){let r=ae.EMPTY_NODE;const a=Ha(t.visibleWrites,e);if(a)return a.isLeafNode()||a.forEachChild(Fe,(l,i)=>{r=r.updateImmediateChild(l,i)}),r;if(n){const l=Is(t.visibleWrites,e);return n.forEachChild(Fe,(i,c)=>{const u=ei(Is(l,new ke(i)),c);r=r.updateImmediateChild(i,u)}),Cb(l).forEach(i=>{r=r.updateImmediateChild(i.name,i.node)}),r}else{const l=Is(t.visibleWrites,e);return Cb(l).forEach(i=>{r=r.updateImmediateChild(i.name,i.node)}),r}}function OO(t,e,n,r,a){W(r||a,"Either existingEventSnap or existingServerSnap must exist");const l=We(e,n);if(og(t.visibleWrites,l))return null;{const i=Is(t.visibleWrites,l);return cg(i)?a.getChild(n):ei(i,a.getChild(n))}}function MO(t,e,n,r){const a=We(e,n),l=Ha(t.visibleWrites,a);if(l!=null)return l;if(r.isCompleteForChild(n)){const i=Is(t.visibleWrites,a);return ei(i,r.getNode().getImmediateChild(n))}else return null}function DO(t,e){return Ha(t.visibleWrites,e)}function LO(t,e,n,r,a,l,i){let c;const u=Is(t.visibleWrites,e),m=Ha(u,we());if(m!=null)c=m;else if(n!=null)c=ei(u,n);else return[];if(c=c.withIndex(i),!c.isEmpty()&&!c.isLeafNode()){const g=[],h=i.getCompare(),E=l?c.getReverseIteratorFrom(r,i):c.getIteratorFrom(r,i);let k=E.getNext();for(;k&&g.length<a;)h(k,r)!==0&&g.push(k),k=E.getNext();return g}else return[]}function FO(){return{visibleWrites:Kn.empty(),allWrites:[],lastWriteId:-1}}function qd(t,e,n,r){return oC(t.writeTree,t.treePath,e,n,r)}function nv(t,e){return AO(t.writeTree,t.treePath,e)}function Sb(t,e,n,r){return OO(t.writeTree,t.treePath,e,n,r)}function Yd(t,e){return DO(t.writeTree,We(t.treePath,e))}function UO(t,e,n,r,a,l){return LO(t.writeTree,t.treePath,e,n,r,a,l)}function rv(t,e,n){return MO(t.writeTree,t.treePath,e,n)}function cC(t,e){return uC(We(t.treePath,e),t.writeTree)}function uC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(r!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const l=a.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(r,Yo(r,e.snapshotNode,a.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(r,qo(r,a.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(r,Xl(r,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(r,Yo(r,e.snapshotNode,a.oldSnap));else throw ai("Illegal combination of changes: "+e+" occurred after "+a)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const dC=new $O;class sv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Fa(this.viewCache_),l=UO(this.writes_,a,n,1,r,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){return{filter:t}}function zO(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function BO(t,e,n,r,a){const l=new jO;let i,c;if(n.type===Bn.OVERWRITE){const m=n;m.source.fromUser?i=ug(t,e,m.path,m.snap,r,a,l):(W(m.source.fromServer,"Unknown source."),c=m.source.tagged||e.serverCache.isFiltered()&&!ve(m.path),i=Qd(t,e,m.path,m.snap,r,a,c,l))}else if(n.type===Bn.MERGE){const m=n;m.source.fromUser?i=HO(t,e,m.path,m.children,r,a,l):(W(m.source.fromServer,"Unknown source."),c=m.source.tagged||e.serverCache.isFiltered(),i=dg(t,e,m.path,m.children,r,a,c,l))}else if(n.type===Bn.ACK_USER_WRITE){const m=n;m.revert?i=qO(t,e,m.path,r,a,l):i=GO(t,e,m.path,m.affectedTree,r,a,l)}else if(n.type===Bn.LISTEN_COMPLETE)i=KO(t,e,n.path,r,l);else throw ai("Unknown operation type: "+n.type);const u=l.getChanges();return VO(e,i,u),{viewCache:i,changes:u}}function VO(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),l=Kd(t);(n.length>0||!t.eventCache.isFullyInitialized()||a&&!r.getNode().equals(l)||!r.getNode().getPriority().equals(l.getPriority()))&&n.push(sC(Kd(e)))}}function mC(t,e,n,r,a,l){const i=e.eventCache;if(Yd(r,n)!=null)return e;{let c,u;if(ve(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Fa(e),g=m instanceof ae?m:ae.EMPTY_NODE,h=nv(r,g);c=t.filter.updateFullNode(e.eventCache.getNode(),h,l)}else{const m=qd(r,Fa(e));c=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=ge(n);if(m===".priority"){W(Fs(n)===1,"Can't have a priority with additional path components");const g=i.getNode();u=e.serverCache.getNode();const h=Sb(r,n,g,u);h!=null?c=t.filter.updatePriority(g,h):c=i.getNode()}else{const g=Oe(n);let h;if(i.isCompleteForChild(m)){u=e.serverCache.getNode();const E=Sb(r,n,i.getNode(),u);E!=null?h=i.getNode().getImmediateChild(m).updateChild(g,E):h=i.getNode().getImmediateChild(m)}else h=rv(r,m,e.serverCache);h!=null?c=t.filter.updateChild(i.getNode(),m,h,g,a,l):c=i.getNode()}}return yo(e,c,i.isFullyInitialized()||ve(n),t.filter.filtersNodes())}}function Qd(t,e,n,r,a,l,i,c){const u=e.serverCache;let m;const g=i?t.filter:t.filter.getIndexedFilter();if(ve(n))m=g.updateFullNode(u.getNode(),r,null);else if(g.filtersNodes()&&!u.isFiltered()){const k=u.getNode().updateChild(n,r);m=g.updateFullNode(u.getNode(),k,null)}else{const k=ge(n);if(!u.isCompleteForPath(n)&&Fs(n)>1)return e;const R=Oe(n),oe=u.getNode().getImmediateChild(k).updateChild(R,r);k===".priority"?m=g.updatePriority(u.getNode(),oe):m=g.updateChild(u.getNode(),k,oe,R,dC,null)}const h=aC(e,m,u.isFullyInitialized()||ve(n),g.filtersNodes()),E=new sv(a,h,l);return mC(t,h,n,a,E,c)}function ug(t,e,n,r,a,l,i){const c=e.eventCache;let u,m;const g=new sv(a,e,l);if(ve(n))m=t.filter.updateFullNode(e.eventCache.getNode(),r,i),u=yo(e,m,!0,t.filter.filtersNodes());else{const h=ge(n);if(h===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),r),u=yo(e,m,c.isFullyInitialized(),c.isFiltered());else{const E=Oe(n),k=c.getNode().getImmediateChild(h);let R;if(ve(E))R=r;else{const F=g.getCompleteChild(h);F!=null?G0(E)===".priority"&&F.getChild(J1(E)).isEmpty()?R=F:R=F.updateChild(E,r):R=ae.EMPTY_NODE}if(k.equals(R))u=e;else{const F=t.filter.updateChild(c.getNode(),h,R,E,g,i);u=yo(e,F,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function kb(t,e){return t.eventCache.isCompleteForChild(e)}function HO(t,e,n,r,a,l,i){let c=e;return r.foreach((u,m)=>{const g=We(n,u);kb(e,ge(g))&&(c=ug(t,c,g,m,a,l,i))}),r.foreach((u,m)=>{const g=We(n,u);kb(e,ge(g))||(c=ug(t,c,g,m,a,l,i))}),c}function Ib(t,e,n){return n.foreach((r,a)=>{e=e.updateChild(r,a)}),e}function dg(t,e,n,r,a,l,i,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,m;ve(n)?m=r:m=new De(null).setTree(n,r);const g=e.serverCache.getNode();return m.children.inorderTraversal((h,E)=>{if(g.hasChild(h)){const k=e.serverCache.getNode().getImmediateChild(h),R=Ib(t,k,E);u=Qd(t,u,new ke(h),R,a,l,i,c)}}),m.children.inorderTraversal((h,E)=>{const k=!e.serverCache.isCompleteForChild(h)&&E.value===null;if(!g.hasChild(h)&&!k){const R=e.serverCache.getNode().getImmediateChild(h),F=Ib(t,R,E);u=Qd(t,u,new ke(h),F,a,l,i,c)}}),u}function GO(t,e,n,r,a,l,i){if(Yd(a,n)!=null)return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(ve(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Qd(t,e,n,u.getNode().getChild(n),a,l,c,i);if(ve(n)){let m=new De(null);return u.getNode().forEachChild(pr,(g,h)=>{m=m.set(new ke(g),h)}),dg(t,e,n,m,a,l,c,i)}else return e}else{let m=new De(null);return r.foreach((g,h)=>{const E=We(n,g);u.isCompleteForPath(E)&&(m=m.set(g,u.getNode().getChild(E)))}),dg(t,e,n,m,a,l,c,i)}}function KO(t,e,n,r,a){const l=e.serverCache,i=aC(e,l.getNode(),l.isFullyInitialized()||ve(n),l.isFiltered());return mC(t,i,n,r,dC,a)}function qO(t,e,n,r,a,l){let i;if(Yd(r,n)!=null)return e;{const c=new sv(r,e,a),u=e.eventCache.getNode();let m;if(ve(n)||ge(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=qd(r,Fa(e));else{const h=e.serverCache.getNode();W(h instanceof ae,"serverChildren would be complete if leaf node"),g=nv(r,h)}g=g,m=t.filter.updateFullNode(u,g,l)}else{const g=ge(n);let h=rv(r,g,e.serverCache);h==null&&e.serverCache.isCompleteForChild(g)&&(h=u.getImmediateChild(g)),h!=null?m=t.filter.updateChild(u,g,h,Oe(n),c,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(u,g,ae.EMPTY_NODE,Oe(n),c,l):m=u,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(i=qd(r,Fa(e)),i.isLeafNode()&&(m=t.filter.updateFullNode(m,i,l)))}return i=e.serverCache.isFullyInitialized()||Yd(r,we())!=null,yo(e,m,i,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new X0(r.getIndex()),l=cO(r);this.processor_=WO(l);const i=n.serverCache,c=n.eventCache,u=a.updateFullNode(ae.EMPTY_NODE,i.getNode(),null),m=l.updateFullNode(ae.EMPTY_NODE,c.getNode(),null),g=new Us(u,i.isFullyInitialized(),a.filtersNodes()),h=new Us(m,c.isFullyInitialized(),l.filtersNodes());this.viewCache_=Pm(h,g),this.eventGenerator_=new xO(this.query_)}get query(){return this.query_}}function QO(t){return t.viewCache_.serverCache.getNode()}function JO(t){return Kd(t.viewCache_)}function XO(t,e){const n=Fa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ve(e)&&!n.getImmediateChild(ge(e)).isEmpty())?n.getChild(e):null}function Tb(t){return t.eventRegistrations_.length===0}function ZO(t,e){t.eventRegistrations_.push(e)}function Rb(t,e,n){const r=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(l=>{const i=l.createCancelEvent(n,a);i&&r.push(i)})}if(e){let a=[];for(let l=0;l<t.eventRegistrations_.length;++l){const i=t.eventRegistrations_[l];if(!i.matches(e))a.push(i);else if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Pb(t,e,n,r){e.type===Bn.MERGE&&e.source.queryId!==null&&(W(Fa(t.viewCache_),"We should always have a full cache before handling merges"),W(Kd(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,l=BO(t.processor_,a,e,n,r);return zO(t.processor_,l.viewCache),W(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,fC(t,l.changes,l.viewCache.eventCache.getNode(),null)}function eM(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Fe,(l,i)=>{r.push(Xl(l,i))}),n.isFullyInitialized()&&r.push(sC(n.getNode())),fC(t,r,n.getNode(),e)}function fC(t,e,n,r){const a=r?[r]:t.eventRegistrations_;return bO(t.eventGenerator_,e,n,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd;class pC{constructor(){this.views=new Map}}function tM(t){W(!Jd,"__referenceConstructor has already been defined"),Jd=t}function nM(){return W(Jd,"Reference.ts has not been loaded"),Jd}function rM(t){return t.views.size===0}function av(t,e,n,r){const a=e.source.queryId;if(a!==null){const l=t.views.get(a);return W(l!=null,"SyncTree gave us an op for an invalid query."),Pb(l,e,n,r)}else{let l=[];for(const i of t.views.values())l=l.concat(Pb(i,e,n,r));return l}}function hC(t,e,n,r,a){const l=e._queryIdentifier,i=t.views.get(l);if(!i){let c=qd(n,a?r:null),u=!1;c?u=!0:r instanceof ae?(c=nv(n,r),u=!1):(c=ae.EMPTY_NODE,u=!1);const m=Pm(new Us(c,u,!1),new Us(r,a,!1));return new YO(e,m)}return i}function sM(t,e,n,r,a,l){const i=hC(t,e,r,a,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,i),ZO(i,n),eM(i,n)}function aM(t,e,n,r){const a=e._queryIdentifier,l=[];let i=[];const c=js(t);if(a==="default")for(const[u,m]of t.views.entries())i=i.concat(Rb(m,n,r)),Tb(m)&&(t.views.delete(u),m.query._queryParams.loadsAllData()||l.push(m.query));else{const u=t.views.get(a);u&&(i=i.concat(Rb(u,n,r)),Tb(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||l.push(u.query)))}return c&&!js(t)&&l.push(new(nM())(e._repo,e._path)),{removed:l,events:i}}function gC(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ts(t,e){let n=null;for(const r of t.views.values())n=n||XO(r,e);return n}function vC(t,e){if(e._queryParams.loadsAllData())return Om(t);{const r=e._queryIdentifier;return t.views.get(r)}}function yC(t,e){return vC(t,e)!=null}function js(t){return Om(t)!=null}function Om(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd;function lM(t){W(!Xd,"__referenceConstructor has already been defined"),Xd=t}function iM(){return W(Xd,"Reference.ts has not been loaded"),Xd}let oM=1;class Ab{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=FO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lv(t,e,n,r,a){return CO(t.pendingWriteTree_,e,n,r,a),a?di(t,new La(Z0(),e,n)):[]}function cM(t,e,n,r){SO(t.pendingWriteTree_,e,n,r);const a=De.fromObject(n);return di(t,new Zl(Z0(),e,a))}function ys(t,e,n=!1){const r=kO(t.pendingWriteTree_,e);if(IO(t.pendingWriteTree_,e)){let l=new De(null);return r.snap!=null?l=l.set(we(),!0):Nt(r.children,i=>{l=l.set(new ke(i),!0)}),di(t,new Gd(r.path,l,n))}else return[]}function yc(t,e,n){return di(t,new La(ev(),e,n))}function uM(t,e,n){const r=De.fromObject(n);return di(t,new Zl(ev(),e,r))}function dM(t,e){return di(t,new Jo(ev(),e))}function mM(t,e,n){const r=iv(t,n);if(r){const a=ov(r),l=a.path,i=a.queryId,c=zt(l,e),u=new Jo(tv(i),c);return cv(t,l,u)}else return[]}function Zd(t,e,n,r,a=!1){const l=e._path,i=t.syncPointTree_.get(l);let c=[];if(i&&(e._queryIdentifier==="default"||yC(i,e))){const u=aM(i,e,n,r);rM(i)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=u.removed;if(c=u.events,!a){const g=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(l,(E,k)=>js(k));if(g&&!h){const E=t.syncPointTree_.subtree(l);if(!E.isEmpty()){const k=hM(E);for(let R=0;R<k.length;++R){const F=k[R],oe=F.query,C=_C(t,F);t.listenProvider_.startListening(xo(oe),Xo(t,oe),C.hashFn,C.onComplete)}}}!h&&m.length>0&&!r&&(g?t.listenProvider_.stopListening(xo(e),null):m.forEach(E=>{const k=t.queryToTagMap.get(Dm(E));t.listenProvider_.stopListening(xo(E),k)}))}gM(t,m)}return c}function EC(t,e,n,r){const a=iv(t,r);if(a!=null){const l=ov(a),i=l.path,c=l.queryId,u=zt(i,e),m=new La(tv(c),u,n);return cv(t,i,m)}else return[]}function fM(t,e,n,r){const a=iv(t,r);if(a){const l=ov(a),i=l.path,c=l.queryId,u=zt(i,e),m=De.fromObject(n),g=new Zl(tv(c),u,m);return cv(t,i,g)}else return[]}function mg(t,e,n,r=!1){const a=e._path;let l=null,i=!1;t.syncPointTree_.foreachOnPath(a,(E,k)=>{const R=zt(E,a);l=l||Ts(k,R),i=i||js(k)});let c=t.syncPointTree_.get(a);c?(i=i||js(c),l=l||Ts(c,we())):(c=new pC,t.syncPointTree_=t.syncPointTree_.set(a,c));let u;l!=null?u=!0:(u=!1,l=ae.EMPTY_NODE,t.syncPointTree_.subtree(a).foreachChild((k,R)=>{const F=Ts(R,we());F&&(l=l.updateImmediateChild(k,F))}));const m=yC(c,e);if(!m&&!e._queryParams.loadsAllData()){const E=Dm(e);W(!t.queryToTagMap.has(E),"View does not exist, but we have a tag");const k=vM();t.queryToTagMap.set(E,k),t.tagToQueryMap.set(k,E)}const g=Am(t.pendingWriteTree_,a);let h=sM(c,e,n,g,l,u);if(!m&&!i&&!r){const E=vC(c,e);h=h.concat(yM(t,e,E))}return h}function Mm(t,e,n){const a=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(i,c)=>{const u=zt(i,e),m=Ts(c,u);if(m)return m});return oC(a,e,l,n,!0)}function pM(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(m,g)=>{const h=zt(m,n);r=r||Ts(g,h)});let a=t.syncPointTree_.get(n);a?r=r||Ts(a,we()):(a=new pC,t.syncPointTree_=t.syncPointTree_.set(n,a));const l=r!=null,i=l?new Us(r,!0,!1):null,c=Am(t.pendingWriteTree_,e._path),u=hC(a,e,c,l?i.getNode():ae.EMPTY_NODE,l);return JO(u)}function di(t,e){return xC(e,t.syncPointTree_,null,Am(t.pendingWriteTree_,we()))}function xC(t,e,n,r){if(ve(t.path))return bC(t,e,n,r);{const a=e.get(we());n==null&&a!=null&&(n=Ts(a,we()));let l=[];const i=ge(t.path),c=t.operationForChild(i),u=e.children.get(i);if(u&&c){const m=n?n.getImmediateChild(i):null,g=cC(r,i);l=l.concat(xC(c,u,m,g))}return a&&(l=l.concat(av(a,t,r,n))),l}}function bC(t,e,n,r){const a=e.get(we());n==null&&a!=null&&(n=Ts(a,we()));let l=[];return e.children.inorderTraversal((i,c)=>{const u=n?n.getImmediateChild(i):null,m=cC(r,i),g=t.operationForChild(i);g&&(l=l.concat(bC(g,c,u,m)))}),a&&(l=l.concat(av(a,t,r,n))),l}function _C(t,e){const n=e.query,r=Xo(t,n);return{hashFn:()=>(QO(e)||ae.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return r?mM(t,n._path,r):dM(t,n._path);{const l=c5(a,n);return Zd(t,n,null,l)}}}}function Xo(t,e){const n=Dm(e);return t.queryToTagMap.get(n)}function Dm(t){return t._path.toString()+"$"+t._queryIdentifier}function iv(t,e){return t.tagToQueryMap.get(e)}function ov(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ke(t.substr(0,e))}}function cv(t,e,n){const r=t.syncPointTree_.get(e);W(r,"Missing sync point for query tag that we're tracking");const a=Am(t.pendingWriteTree_,e);return av(r,n,a,null)}function hM(t){return t.fold((e,n,r)=>{if(n&&js(n))return[Om(n)];{let a=[];return n&&(a=gC(n)),Nt(r,(l,i)=>{a=a.concat(i)}),a}})}function xo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(iM())(t._repo,t._path):t}function gM(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const a=Dm(r),l=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(l)}}}function vM(){return oM++}function yM(t,e,n){const r=e._path,a=Xo(t,e),l=_C(t,n),i=t.listenProvider_.startListening(xo(e),a,l.hashFn,l.onComplete),c=t.syncPointTree_.subtree(r);if(a)W(!js(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((m,g,h)=>{if(!ve(m)&&g&&js(g))return[Om(g).query];{let E=[];return g&&(E=E.concat(gC(g).map(k=>k.query))),Nt(h,(k,R)=>{E=E.concat(R)}),E}});for(let m=0;m<u.length;++m){const g=u[m];t.listenProvider_.stopListening(xo(g),Xo(t,g))}}return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new uv(n)}node(){return this.node_}}class dv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new dv(this.syncTree_,n)}node(){return Mm(this.syncTree_,this.path_)}}const EM=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Ob=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xM(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bM(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xM=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},bM=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&W(!1,"Unexpected increment value: "+r);const a=e.node();if(W(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const i=a.getValue();return typeof i!="number"?r:i+r},wC=function(t,e,n,r){return fv(e,new dv(n,t),r)},mv=function(t,e,n){return fv(t,new uv(e),n)};function fv(t,e,n){const r=t.getPriority().val(),a=Ob(r,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const i=t,c=Ob(i.getValue(),e,n);return c!==i.getValue()||a!==i.getPriority().val()?new vt(c,He(a)):t}else{const i=t;return l=i,a!==i.getPriority().val()&&(l=l.updatePriority(new vt(a))),i.forEachChild(Fe,(c,u)=>{const m=fv(u,e.getImmediateChild(c),n);m!==u&&(l=l.updateImmediateChild(c,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Lm(t,e){let n=e instanceof ke?e:new ke(e),r=t,a=ge(n);for(;a!==null;){const l=Aa(r.node.children,a)||{children:{},childCount:0};r=new pv(a,r,l),n=Oe(n),a=ge(n)}return r}function Ga(t){return t.node.value}function hv(t,e){t.node.value=e,fg(t)}function NC(t){return t.node.childCount>0}function _M(t){return Ga(t)===void 0&&!NC(t)}function Fm(t,e){Nt(t.node.children,(n,r)=>{e(new pv(n,t,r))})}function CC(t,e,n,r){n&&e(t),Fm(t,a=>{CC(a,e,!0)})}function wM(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ec(t){return new ke(t.parent===null?t.name:Ec(t.parent)+"/"+t.name)}function fg(t){t.parent!==null&&NM(t.parent,t.name,t)}function NM(t,e,n){const r=_M(n),a=vn(t.node.children,e);r&&a?(delete t.node.children[e],t.node.childCount--,fg(t)):!r&&!a&&(t.node.children[e]=n.node,t.node.childCount++,fg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/[\[\].#$\/\u0000-\u001F\u007F]/,SM=/[\[\].#$\u0000-\u001F\u007F]/,Vp=10*1024*1024,Um=function(t){return typeof t=="string"&&t.length!==0&&!CM.test(t)},SC=function(t){return typeof t=="string"&&t.length!==0&&!SM.test(t)},kM=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),SC(t)},Zo=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!km(t)||t&&typeof t=="object"&&vn(t,".sv")},vr=function(t,e,n,r){r&&e===void 0||xc(an(t,"value"),e,n)},xc=function(t,e,n){const r=n instanceof ke?new B5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ga(r));if(typeof e=="function")throw new Error(t+"contains a function "+ga(r)+" with contents = "+e.toString());if(km(e))throw new Error(t+"contains "+e.toString()+" "+ga(r));if(typeof e=="string"&&e.length>Vp/3&&gm(e)>Vp)throw new Error(t+"contains a string greater than "+Vp+" utf8 bytes "+ga(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let a=!1,l=!1;if(Nt(e,(i,c)=>{if(i===".value")a=!0;else if(i!==".priority"&&i!==".sv"&&(l=!0,!Um(i)))throw new Error(t+" contains an invalid key ("+i+") "+ga(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);V5(r,i),xc(t,c,r),H5(r)}),a&&l)throw new Error(t+' contains ".value" child '+ga(r)+" in addition to actual children.")}},IM=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const l=Ko(r);for(let i=0;i<l.length;i++)if(!(l[i]===".priority"&&i===l.length-1)){if(!Um(l[i]))throw new Error(t+"contains an invalid key ("+l[i]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(z5);let a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&kn(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},kC=function(t,e,n,r){const a=an(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(a+" must be an object containing the children to replace.");const l=[];Nt(e,(i,c)=>{const u=new ke(i);if(xc(a,c,We(n,u)),G0(u)===".priority"&&!Zo(c))throw new Error(a+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(u)}),IM(a,l)},gv=function(t,e,n){if(km(e))throw new Error(an(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zo(e))throw new Error(an(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},bc=function(t,e,n,r){if(n!==void 0&&!Um(n))throw new Error(an(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},ec=function(t,e,n,r){if(!SC(n))throw new Error(an(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},TM=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ec(t,e,n)},In=function(t,e){if(ge(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},IC=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Um(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!kM(n))throw new Error(an(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jm(t,e){let n=null;for(let r=0;r<e.length;r++){const a=e[r],l=a.getPath();n!==null&&!K0(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(a)}n&&t.eventLists_.push(n)}function TC(t,e,n){jm(t,n),RC(t,r=>K0(r,e))}function yn(t,e,n){jm(t,n),RC(t,r=>kn(r,e)||kn(e,r))}function RC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const a=t.eventLists_[r];if(a){const l=a.path;e(l)?(PM(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function PM(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Sa&&bt("event: "+n.toString()),ci(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="repo_interrupt",AM=25;class OM{constructor(e,n,r,a){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hd(),this.transactionQueueTree_=new pv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function MM(t,e,n){if(t.stats_=V0(t.repoInfo_),t.forceRestClient_||f5())t.server_=new Vd(t.repoInfo_,(r,a,l,i)=>{Mb(t,r,a,l,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Db(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ot(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new zr(t.repoInfo_,e,(r,a,l,i)=>{Mb(t,r,a,l,i)},r=>{Db(t,r)},r=>{DM(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=y5(t.repoInfo_,()=>new EO(t.stats_,t.server_)),t.infoData_=new pO,t.infoSyncTree_=new Ab({startListening:(r,a,l,i)=>{let c=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(c=yc(t.infoSyncTree_,r._path,u),setTimeout(()=>{i("ok")},0)),c},stopListening:()=>{}}),vv(t,"connected",!1),t.serverSyncTree_=new Ab({startListening:(r,a,l,i)=>(t.server_.listen(r,l,a,(c,u)=>{const m=i(c,u);yn(t.eventQueue_,r._path,m)}),[]),stopListening:(r,a)=>{t.server_.unlisten(r,a)}})}function AC(t){const n=t.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _c(t){return EM({timestamp:AC(t)})}function Mb(t,e,n,r,a){t.dataUpdateCount++;const l=new ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let i=[];if(a)if(r){const u=Md(n,m=>He(m));i=fM(t.serverSyncTree_,l,u,a)}else{const u=He(n);i=EC(t.serverSyncTree_,l,u,a)}else if(r){const u=Md(n,m=>He(m));i=uM(t.serverSyncTree_,l,u)}else{const u=He(n);i=yc(t.serverSyncTree_,l,u)}let c=l;i.length>0&&(c=ti(t,l)),yn(t.eventQueue_,c,i)}function Db(t,e){vv(t,"connected",e),e===!1&&UM(t)}function DM(t,e){Nt(e,(n,r)=>{vv(t,n,r)})}function vv(t,e,n){const r=new ke("/.info/"+e),a=He(n);t.infoData_.updateSnapshot(r,a);const l=yc(t.infoSyncTree_,r,a);yn(t.eventQueue_,r,l)}function $m(t){return t.nextWriteId_++}function LM(t,e,n){const r=pM(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(a=>{const l=He(a).withIndex(e._queryParams.getIndex());mg(t.serverSyncTree_,e,n,!0);let i;if(e._queryParams.loadsAllData())i=yc(t.serverSyncTree_,e._path,l);else{const c=Xo(t.serverSyncTree_,e);i=EC(t.serverSyncTree_,e._path,l,c)}return yn(t.eventQueue_,e._path,i),Zd(t.serverSyncTree_,e,n,null,!0),l},a=>(mi(t,"get for query "+ot(e)+" failed: "+a),Promise.reject(new Error(a))))}function yv(t,e,n,r,a){mi(t,"set",{path:e.toString(),value:n,priority:r});const l=_c(t),i=He(n,r),c=Mm(t.serverSyncTree_,e),u=mv(i,c,l),m=$m(t),g=lv(t.serverSyncTree_,e,u,m,!0);jm(t.eventQueue_,g),t.server_.put(e.toString(),i.val(!0),(E,k)=>{const R=E==="ok";R||Ft("set at "+e+" failed: "+E);const F=ys(t.serverSyncTree_,m,!R);yn(t.eventQueue_,e,F),$s(t,a,E,k)});const h=xv(t,e);ti(t,h),yn(t.eventQueue_,h,[])}function FM(t,e,n,r){mi(t,"update",{path:e.toString(),value:n});let a=!0;const l=_c(t),i={};if(Nt(n,(c,u)=>{a=!1,i[c]=wC(We(e,c),He(u),t.serverSyncTree_,l)}),a)bt("update() called with empty data.  Don't do anything."),$s(t,r,"ok",void 0);else{const c=$m(t),u=cM(t.serverSyncTree_,e,i,c);jm(t.eventQueue_,u),t.server_.merge(e.toString(),n,(m,g)=>{const h=m==="ok";h||Ft("update at "+e+" failed: "+m);const E=ys(t.serverSyncTree_,c,!h),k=E.length>0?ti(t,e):e;yn(t.eventQueue_,k,E),$s(t,r,m,g)}),Nt(n,m=>{const g=xv(t,We(e,m));ti(t,g)}),yn(t.eventQueue_,e,[])}}function UM(t){mi(t,"onDisconnectEvents");const e=_c(t),n=Hd();lg(t.onDisconnect_,we(),(a,l)=>{const i=wC(a,l,t.serverSyncTree_,e);ui(n,a,i)});let r=[];lg(n,we(),(a,l)=>{r=r.concat(yc(t.serverSyncTree_,a,l));const i=xv(t,a);ti(t,i)}),t.onDisconnect_=Hd(),yn(t.eventQueue_,we(),r)}function jM(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,a)=>{r==="ok"&&ag(t.onDisconnect_,e),$s(t,n,r,a)})}function Lb(t,e,n,r){const a=He(n);t.server_.onDisconnectPut(e.toString(),a.val(!0),(l,i)=>{l==="ok"&&ui(t.onDisconnect_,e,a),$s(t,r,l,i)})}function $M(t,e,n,r,a){const l=He(n,r);t.server_.onDisconnectPut(e.toString(),l.val(!0),(i,c)=>{i==="ok"&&ui(t.onDisconnect_,e,l),$s(t,a,i,c)})}function WM(t,e,n,r){if(Od(n)){bt("onDisconnect().update() called with empty data.  Don't do anything."),$s(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(a,l)=>{a==="ok"&&Nt(n,(i,c)=>{const u=He(c);ui(t.onDisconnect_,We(e,i),u)}),$s(t,r,a,l)})}function zM(t,e,n){let r;ge(e._path)===".info"?r=mg(t.infoSyncTree_,e,n):r=mg(t.serverSyncTree_,e,n),TC(t.eventQueue_,e._path,r)}function pg(t,e,n){let r;ge(e._path)===".info"?r=Zd(t.infoSyncTree_,e,n):r=Zd(t.serverSyncTree_,e,n),TC(t.eventQueue_,e._path,r)}function OC(t){t.persistentConnection_&&t.persistentConnection_.interrupt(PC)}function BM(t){t.persistentConnection_&&t.persistentConnection_.resume(PC)}function mi(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),bt(n,...e)}function $s(t,e,n,r){e&&ci(()=>{if(n==="ok")e(null);else{const a=(n||"error").toUpperCase();let l=a;r&&(l+=": "+r);const i=new Error(l);i.code=a,e(i)}})}function VM(t,e,n,r,a,l){mi(t,"transaction on "+e);const i={path:e,update:n,onComplete:r,status:null,order:I1(),applyLocally:l,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Ev(t,e,void 0);i.currentInputSnapshot=c;const u=i.update(c.val());if(u===void 0)i.unwatcher(),i.currentOutputSnapshotRaw=null,i.currentOutputSnapshotResolved=null,i.onComplete&&i.onComplete(null,!1,i.currentInputSnapshot);else{xc("transaction failed: Data returned ",u,i.path),i.status=0;const m=Lm(t.transactionQueueTree_,e),g=Ga(m)||[];g.push(i),hv(m,g);let h;typeof u=="object"&&u!==null&&vn(u,".priority")?(h=Aa(u,".priority"),W(Zo(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Mm(t.serverSyncTree_,e)||ae.EMPTY_NODE).getPriority().val();const E=_c(t),k=He(u,h),R=mv(k,c,E);i.currentOutputSnapshotRaw=k,i.currentOutputSnapshotResolved=R,i.currentWriteId=$m(t);const F=lv(t.serverSyncTree_,e,R,i.currentWriteId,i.applyLocally);yn(t.eventQueue_,e,F),Wm(t,t.transactionQueueTree_)}}function Ev(t,e,n){return Mm(t.serverSyncTree_,e,n)||ae.EMPTY_NODE}function Wm(t,e=t.transactionQueueTree_){if(e||zm(t,e),Ga(e)){const n=DC(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(a=>a.status===0)&&HM(t,Ec(e),n)}else NC(e)&&Fm(e,n=>{Wm(t,n)})}function HM(t,e,n){const r=n.map(m=>m.currentWriteId),a=Ev(t,e,r);let l=a;const i=a.hash();for(let m=0;m<n.length;m++){const g=n[m];W(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const h=zt(e,g.path);l=l.updateChild(h,g.currentOutputSnapshotRaw)}const c=l.val(!0),u=e;t.server_.put(u.toString(),c,m=>{mi(t,"transaction put response",{path:u.toString(),status:m});let g=[];if(m==="ok"){const h=[];for(let E=0;E<n.length;E++)n[E].status=2,g=g.concat(ys(t.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&h.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();zm(t,Lm(t.transactionQueueTree_,e)),Wm(t,t.transactionQueueTree_),yn(t.eventQueue_,e,g);for(let E=0;E<h.length;E++)ci(h[E])}else{if(m==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ft("transaction at "+u.toString()+" failed: "+m);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=m}ti(t,e)}},i)}function ti(t,e){const n=MC(t,e),r=Ec(n),a=DC(t,n);return GM(t,a,r),r}function GM(t,e,n){if(e.length===0)return;const r=[];let a=[];const i=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],m=zt(n,u.path);let g=!1,h;if(W(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)g=!0,h=u.abortReason,a=a.concat(ys(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=AM)g=!0,h="maxretry",a=a.concat(ys(t.serverSyncTree_,u.currentWriteId,!0));else{const E=Ev(t,u.path,i);u.currentInputSnapshot=E;const k=e[c].update(E.val());if(k!==void 0){xc("transaction failed: Data returned ",k,u.path);let R=He(k);typeof k=="object"&&k!=null&&vn(k,".priority")||(R=R.updatePriority(E.getPriority()));const oe=u.currentWriteId,C=_c(t),_=mv(R,E,C);u.currentOutputSnapshotRaw=R,u.currentOutputSnapshotResolved=_,u.currentWriteId=$m(t),i.splice(i.indexOf(oe),1),a=a.concat(lv(t.serverSyncTree_,u.path,_,u.currentWriteId,u.applyLocally)),a=a.concat(ys(t.serverSyncTree_,oe,!0))}else g=!0,h="nodata",a=a.concat(ys(t.serverSyncTree_,u.currentWriteId,!0))}yn(t.eventQueue_,n,a),a=[],g&&(e[c].status=2,function(E){setTimeout(E,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(h==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(h),!1,null))))}zm(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)ci(r[c]);Wm(t,t.transactionQueueTree_)}function MC(t,e){let n,r=t.transactionQueueTree_;for(n=ge(e);n!==null&&Ga(r)===void 0;)r=Lm(r,n),e=Oe(e),n=ge(e);return r}function DC(t,e){const n=[];return LC(t,e,n),n.sort((r,a)=>r.order-a.order),n}function LC(t,e,n){const r=Ga(e);if(r)for(let a=0;a<r.length;a++)n.push(r[a]);Fm(e,a=>{LC(t,a,n)})}function zm(t,e){const n=Ga(e);if(n){let r=0;for(let a=0;a<n.length;a++)n[a].status!==2&&(n[r]=n[a],r++);n.length=r,hv(e,n.length>0?n:void 0)}Fm(e,r=>{zm(t,r)})}function xv(t,e){const n=Ec(MC(t,e)),r=Lm(t.transactionQueueTree_,e);return wM(r,a=>{Hp(t,a)}),Hp(t,r),CC(r,a=>{Hp(t,a)}),n}function Hp(t,e){const n=Ga(e);if(n){const r=[];let a=[],l=-1;for(let i=0;i<n.length;i++)n[i].status===3||(n[i].status===1?(W(l===i-1,"All SENT items should be at beginning of queue."),l=i,n[i].status=3,n[i].abortReason="set"):(W(n[i].status===0,"Unexpected transaction status in abort"),n[i].unwatcher(),a=a.concat(ys(t.serverSyncTree_,n[i].currentWriteId,!0)),n[i].onComplete&&r.push(n[i].onComplete.bind(null,new Error("set"),!1,null))));l===-1?hv(e,void 0):n.length=l+1,yn(t.eventQueue_,Ec(e),a);for(let i=0;i<r.length;i++)ci(r[i])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let a=n[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}e+="/"+a}return e}function qM(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ft(`Invalid query segment '${n}' in query '${t}'`)}return e}const hg=function(t,e){const n=YM(t),r=n.namespace;n.domain==="firebase.com"&&gr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&gr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||s5();const a=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new z1(n.host,n.secure,r,a,e,"",r!==n.subdomain),path:new ke(n.pathString)}},YM=function(t){let e="",n="",r="",a="",l="",i=!0,c="https",u=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(c=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(g,h)),g<h&&(a=KM(t.substring(g,h)));const E=qM(t.substring(Math.min(t.length,h)));m=e.indexOf(":"),m>=0?(i=c==="https"||c==="wss",u=parseInt(e.substring(m+1),10)):m=e.length;const k=e.slice(0,m);if(k.toLowerCase()==="localhost")n="localhost";else if(k.split(".").length<=2)n=k;else{const R=e.indexOf(".");r=e.substring(0,R).toLowerCase(),n=e.substring(R+1),l=r}"ns"in E&&(l=E.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:i,scheme:c,pathString:a,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QM=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let a;const l=new Array(8);for(a=7;a>=0;a--)l[a]=Fb.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");let i=l.join("");if(r){for(a=11;a>=0&&e[a]===63;a--)e[a]=0;e[a]++}else for(a=0;a<12;a++)e[a]=Math.floor(Math.random()*64);for(a=0;a<12;a++)i+=Fb.charAt(e[a]);return W(i.length===20,"nextPushId: Length should be 20."),i}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,r,a){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=a}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ot(this.snapshot.exportVal())}}class UC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JM=class{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Xt;return jM(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){In("OnDisconnect.remove",this._path);const e=new Xt;return Lb(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){In("OnDisconnect.set",this._path),vr("OnDisconnect.set",e,this._path,!1);const n=new Xt;return Lb(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){In("OnDisconnect.setWithPriority",this._path),vr("OnDisconnect.setWithPriority",e,this._path,!1),gv("OnDisconnect.setWithPriority",n);const r=new Xt;return $M(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){In("OnDisconnect.update",this._path),kC("OnDisconnect.update",e,this._path);const n=new Xt;return WM(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,a){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=a}get key(){return ve(this._path)?null:G0(this._path)}get ref(){return new Dn(this._repo,this._path)}get _queryIdentifier(){const e=_b(this._queryParams),n=z0(e);return n==="{}"?"default":n}get _queryObject(){return _b(this._queryParams)}isEqual(e){if(e=fe(e),!(e instanceof ln))return!1;const n=this._repo===e._repo,r=K0(this._path,e._path),a=this._queryIdentifier===e._queryIdentifier;return n&&r&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+W5(this._path)}}function Bm(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Gs(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===pr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ls)throw new Error(r);if(typeof e!="string")throw new Error(a)}if(t.hasEnd()){if(t.getIndexEndName()!==Yr)throw new Error(r);if(typeof n!="string")throw new Error(a)}}else if(t.getIndex()===Fe){if(e!=null&&!Zo(e)||n!=null&&!Zo(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof Q0||t.getIndex()===J0,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vm(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dn extends ln{constructor(e,n){super(e,n,new Tm,!1)}get parent(){const e=J1(this._path);return e===null?null:new Dn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}let Hm=class gg{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ke(e),r=Ua(this.ref,e);return new gg(this._node.getChild(n),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,a)=>e(new gg(a,Ua(this.ref,r),Fe)))}hasChild(e){const n=new ke(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function jC(t,e){return t=fe(t),t._checkNotDeleted("ref"),e!==void 0?Ua(t._root,e):t._root}function Ub(t,e){t=fe(t),t._checkNotDeleted("refFromURL");const n=hg(e,t._repo.repoInfo_.nodeAdmin);IC("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&gr("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),jC(t,n.path.toString())}function Ua(t,e){return t=fe(t),ge(t._path)===null?TM("child","path",e):ec("child","path",e),new Dn(t._repo,We(t._path,e))}function XM(t,e){t=fe(t),In("push",t._path),vr("push",e,t._path,!0);const n=AC(t._repo),r=QM(n),a=Ua(t,r),l=Ua(t,r);let i;return e!=null?i=_v(l,e).then(()=>l):i=Promise.resolve(l),a.then=i.then.bind(i),a.catch=i.then.bind(i,void 0),a}function ZM(t){return In("remove",t._path),_v(t,null)}function _v(t,e){t=fe(t),In("set",t._path),vr("set",e,t._path,!1);const n=new Xt;return yv(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function eD(t,e){t=fe(t),In("setPriority",t._path),gv("setPriority",e);const n=new Xt;return yv(t._repo,We(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function tD(t,e,n){if(In("setWithPriority",t._path),vr("setWithPriority",e,t._path,!1),gv("setWithPriority",n),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Xt;return yv(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function nD(t,e){kC("update",e,t._path);const n=new Xt;return FM(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function rD(t){t=fe(t);const e=new bv(()=>{}),n=new wc(e);return LM(t._repo,t,n).then(r=>new Hm(r,new Dn(t._repo,t._path),t._queryParams.getIndex()))}class wc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new FC("value",this,new Hm(e.snapshotNode,new Dn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new UC(this,e,n):null}matches(e){return e instanceof wc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Gm{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new UC(this,e,n):null}createEvent(e,n){W(e.childName!=null,"Child events should have a childName.");const r=Ua(new Dn(n._repo,n._path),e.childName),a=n._queryParams.getIndex();return new FC(e.type,this,new Hm(e.snapshotNode,r,a),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Gm?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Nc(t,e,n,r,a){let l;if(typeof r=="object"&&(l=void 0,a=r),typeof r=="function"&&(l=r),a&&a.onlyOnce){const u=n,m=(g,h)=>{pg(t._repo,t,c),u(g,h)};m.userCallback=n.userCallback,m.context=n.context,n=m}const i=new bv(n,l||void 0),c=e==="value"?new wc(i):new Gm(e,i);return zM(t._repo,t,c),()=>pg(t._repo,t,c)}function vg(t,e,n,r){return Nc(t,"value",e,n,r)}function jb(t,e,n,r){return Nc(t,"child_added",e,n,r)}function $b(t,e,n,r){return Nc(t,"child_changed",e,n,r)}function Wb(t,e,n,r){return Nc(t,"child_moved",e,n,r)}function zb(t,e,n,r){return Nc(t,"child_removed",e,n,r)}function Bb(t,e,n){let r=null;const a=n?new bv(n):null;e==="value"?r=new wc(a):e&&(r=new Gm(e,a)),pg(t._repo,t,r)}class Qn{}class $C extends Qn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){vr("endAt",this._value,e._path,!0);const n=sg(e._queryParams,this._value,this._key);if(Vm(n),Gs(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ln(e._repo,e._path,n,e._orderByCalled)}}function sD(t,e){return bc("endAt","key",e),new $C(t,e)}class aD extends Qn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){vr("endBefore",this._value,e._path,!1);const n=fO(e._queryParams,this._value,this._key);if(Vm(n),Gs(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ln(e._repo,e._path,n,e._orderByCalled)}}function lD(t,e){return bc("endBefore","key",e),new aD(t,e)}class WC extends Qn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){vr("startAt",this._value,e._path,!0);const n=rg(e._queryParams,this._value,this._key);if(Vm(n),Gs(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ln(e._repo,e._path,n,e._orderByCalled)}}function iD(t=null,e){return bc("startAt","key",e),new WC(t,e)}class oD extends Qn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){vr("startAfter",this._value,e._path,!1);const n=mO(e._queryParams,this._value,this._key);if(Vm(n),Gs(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ln(e._repo,e._path,n,e._orderByCalled)}}function cD(t,e){return bc("startAfter","key",e),new oD(t,e)}class uD extends Qn{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ln(e._repo,e._path,uO(e._queryParams,this._limit),e._orderByCalled)}}function dD(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new uD(t)}class mD extends Qn{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ln(e._repo,e._path,dO(e._queryParams,this._limit),e._orderByCalled)}}function fD(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new mD(t)}class pD extends Qn{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){Bm(e,"orderByChild");const n=new ke(this._path);if(ve(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Q0(n),a=Rm(e._queryParams,r);return Gs(a),new ln(e._repo,e._path,a,!0)}}function hD(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ec("orderByChild","path",t),new pD(t)}class gD extends Qn{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){Bm(e,"orderByKey");const n=Rm(e._queryParams,pr);return Gs(n),new ln(e._repo,e._path,n,!0)}}function vD(){return new gD}class yD extends Qn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){Bm(e,"orderByPriority");const n=Rm(e._queryParams,Fe);return Gs(n),new ln(e._repo,e._path,n,!0)}}function ED(){return new yD}class xD extends Qn{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){Bm(e,"orderByValue");const n=Rm(e._queryParams,J0);return Gs(n),new ln(e._repo,e._path,n,!0)}}function bD(){return new xD}class _D extends Qn{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(vr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $C(this._value,this._key)._apply(new WC(this._value,this._key)._apply(e))}}function wD(t,e){return bc("equalTo","key",e),new _D(t,e)}function jn(t,...e){let n=fe(t);for(const r of e)n=r._apply(n);return n}tM(Dn);lM(Dn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="FIREBASE_DATABASE_EMULATOR_HOST",yg={};let CD=!1;function SD(t,e,n,r){t.repoInfo_=new z1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function zC(t,e,n,r,a){let l=r||t.options.databaseURL;l===void 0&&(t.options.projectId||gr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let i=hg(l,a),c=i.repoInfo,u,m;typeof process<"u"&&sb&&(m=sb[ND]),m?(u=!0,l=`http://${m}?ns=${c.namespace}`,i=hg(l,a),c=i.repoInfo):u=!i.repoInfo.secure;const g=a&&u?new jl(jl.OWNER):new h5(t.name,t.options,e);IC("Invalid Firebase Database URL",i),ve(i.path)||gr("Database URL must point to the root of a Firebase Database (not including a child path).");const h=ID(c,t,g,new p5(t.name,n));return new TD(h,t)}function kD(t,e){const n=yg[e];(!n||n[t.key]!==t)&&gr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),OC(t),delete n[t.key]}function ID(t,e,n,r){let a=yg[e.name];a||(a={},yg[e.name]=a);let l=a[t.toURLString()];return l&&gr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new OM(t,CD,n,r),a[t.toURLString()]=l,l}let TD=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(MM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dn(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gr("Cannot call "+e+" on a deleted database.")}};function BC(){Jl.IS_TRANSPORT_INITIALIZED&&Ft("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function RD(){BC(),vs.forceDisallow()}function PD(){BC(),Cn.forceDisallow(),vs.forceAllow()}function AD(t,e,n,r={}){t=fe(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&gr("Cannot call useEmulator() after instance has already been initialized.");const a=t._repoInternal;let l;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&gr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new jl(jl.OWNER);else if(r.mockUserToken){const i=typeof r.mockUserToken=="string"?r.mockUserToken:E3(r.mockUserToken,t.app.options.projectId);l=new jl(i)}SD(a,e,n,l)}function OD(t){t=fe(t),t._checkNotDeleted("goOffline"),OC(t._repo)}function MD(t){t=fe(t),t._checkNotDeleted("goOnline"),BM(t._repo)}function DD(t,e){R1(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){S1(Vs),Ds(new On("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return zC(r,a,l,n)},"PUBLIC").setMultipleInstances(!0)),Gn(ab,lb,t),Gn(ab,lb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={".sv":"timestamp"};function UD(){return FD}function jD(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $D=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function WD(t,e,n){var r;if(t=fe(t),In("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const a=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,l=new Xt,i=(u,m,g)=>{let h=null;u?l.reject(u):(h=new Hm(g,new Dn(t._repo,t._path),Fe),l.resolve(new $D(m,h)))},c=vg(t,()=>{});return VM(t._repo,t._path,e,i,c,a),l.promise}zr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};LD();const zD="@firebase/database-compat",BD="1.0.8";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new ic("@firebase/database-compat"),VC=function(t){const e="FIREBASE WARNING: "+t;VD.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=function(t,e,n,r){if(n!==void 0&&typeof n!="boolean")throw new Error(an(t,e)+"must be a boolean.")},GD=function(t,e,n){if(e!==void 0)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(an(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this._delegate=e}cancel(e){ie("OnDisconnect.cancel",0,1,arguments.length),Et("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){ie("OnDisconnect.remove",0,1,arguments.length),Et("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){ie("OnDisconnect.set",1,2,arguments.length),Et("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),a=>n(a)),r}setWithPriority(e,n,r){ie("OnDisconnect.setWithPriority",2,3,arguments.length),Et("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(e,n);return r&&a.then(()=>r(null),l=>r(l)),a}update(e,n){if(ie("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const a={};for(let l=0;l<e.length;++l)a[""+l]=e[l];e=a,VC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Et("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),a=>n(a)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return ie("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this._database=e,this._delegate=n}val(){return ie("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return ie("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return ie("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return ie("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return ie("DataSnapshot.child",0,1,arguments.length),e=String(e),ec("DataSnapshot.child","path",e),new Rs(this._database,this._delegate.child(e))}hasChild(e){return ie("DataSnapshot.hasChild",1,1,arguments.length),ec("DataSnapshot.hasChild","path",e),this._delegate.hasChild(e)}getPriority(){return ie("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return ie("DataSnapshot.forEach",1,1,arguments.length),Et("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new Rs(this._database,n)))}hasChildren(){return ie("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return ie("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return ie("DataSnapshot.ref",0,0,arguments.length),new mn(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class kt{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,a){var l;ie("Query.on",2,4,arguments.length),Et("Query.on","callback",n,!1);const i=kt.getCancelAndContextArgs_("Query.on",r,a),c=(m,g)=>{n.call(i.context,new Rs(this.database,m),g)};c.userCallback=n,c.context=i.context;const u=(l=i.cancel)===null||l===void 0?void 0:l.bind(i.context);switch(e){case"value":return vg(this._delegate,c,u),n;case"child_added":return jb(this._delegate,c,u),n;case"child_removed":return zb(this._delegate,c,u),n;case"child_changed":return $b(this._delegate,c,u),n;case"child_moved":return Wb(this._delegate,c,u),n;default:throw new Error(an("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(ie("Query.off",0,3,arguments.length),GD("Query.off",e),Et("Query.off","callback",n,!0),Tx("Query.off","context",r),n){const a=()=>{};a.userCallback=n,a.context=r,Bb(this._delegate,e,a)}else Bb(this._delegate,e)}get(){return rD(this._delegate).then(e=>new Rs(this.database,e))}once(e,n,r,a){ie("Query.once",1,4,arguments.length),Et("Query.once","callback",n,!0);const l=kt.getCancelAndContextArgs_("Query.once",r,a),i=new Xt,c=(m,g)=>{const h=new Rs(this.database,m);n&&n.call(l.context,h,g),i.resolve(h)};c.userCallback=n,c.context=l.context;const u=m=>{l.cancel&&l.cancel.call(l.context,m),i.reject(m)};switch(e){case"value":vg(this._delegate,c,u,{onlyOnce:!0});break;case"child_added":jb(this._delegate,c,u,{onlyOnce:!0});break;case"child_removed":zb(this._delegate,c,u,{onlyOnce:!0});break;case"child_changed":$b(this._delegate,c,u,{onlyOnce:!0});break;case"child_moved":Wb(this._delegate,c,u,{onlyOnce:!0});break;default:throw new Error(an("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return i.promise}limitToFirst(e){return ie("Query.limitToFirst",1,1,arguments.length),new kt(this.database,jn(this._delegate,dD(e)))}limitToLast(e){return ie("Query.limitToLast",1,1,arguments.length),new kt(this.database,jn(this._delegate,fD(e)))}orderByChild(e){return ie("Query.orderByChild",1,1,arguments.length),new kt(this.database,jn(this._delegate,hD(e)))}orderByKey(){return ie("Query.orderByKey",0,0,arguments.length),new kt(this.database,jn(this._delegate,vD()))}orderByPriority(){return ie("Query.orderByPriority",0,0,arguments.length),new kt(this.database,jn(this._delegate,ED()))}orderByValue(){return ie("Query.orderByValue",0,0,arguments.length),new kt(this.database,jn(this._delegate,bD()))}startAt(e=null,n){return ie("Query.startAt",0,2,arguments.length),new kt(this.database,jn(this._delegate,iD(e,n)))}startAfter(e=null,n){return ie("Query.startAfter",0,2,arguments.length),new kt(this.database,jn(this._delegate,cD(e,n)))}endAt(e=null,n){return ie("Query.endAt",0,2,arguments.length),new kt(this.database,jn(this._delegate,sD(e,n)))}endBefore(e=null,n){return ie("Query.endBefore",0,2,arguments.length),new kt(this.database,jn(this._delegate,lD(e,n)))}equalTo(e,n){return ie("Query.equalTo",1,2,arguments.length),new kt(this.database,jn(this._delegate,wD(e,n)))}toString(){return ie("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return ie("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(ie("Query.isEqual",1,1,arguments.length),!(e instanceof kt)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const a={cancel:void 0,context:void 0};if(n&&r)a.cancel=n,Et(e,"cancel",a.cancel,!0),a.context=r,Tx(e,"context",a.context);else if(n)if(typeof n=="object"&&n!==null)a.context=n;else if(typeof n=="function")a.cancel=n;else throw new Error(an(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return a}get ref(){return new mn(this.database,new Dn(this._delegate._repo,this._delegate._path))}}class mn extends kt{constructor(e,n){super(e,new ln(n._repo,n._path,new Tm,!1)),this.database=e,this._delegate=n}getKey(){return ie("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return ie("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new mn(this.database,Ua(this._delegate,e))}getParent(){ie("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new mn(this.database,e):null}getRoot(){return ie("Reference.root",0,0,arguments.length),new mn(this.database,this._delegate.root)}set(e,n){ie("Reference.set",1,2,arguments.length),Et("Reference.set","onComplete",n,!0);const r=_v(this._delegate,e);return n&&r.then(()=>n(null),a=>n(a)),r}update(e,n){if(ie("Reference.update",1,2,arguments.length),Array.isArray(e)){const a={};for(let l=0;l<e.length;++l)a[""+l]=e[l];e=a,VC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}In("Reference.update",this._delegate._path),Et("Reference.update","onComplete",n,!0);const r=nD(this._delegate,e);return n&&r.then(()=>n(null),a=>n(a)),r}setWithPriority(e,n,r){ie("Reference.setWithPriority",2,3,arguments.length),Et("Reference.setWithPriority","onComplete",r,!0);const a=tD(this._delegate,e,n);return r&&a.then(()=>r(null),l=>r(l)),a}remove(e){ie("Reference.remove",0,1,arguments.length),Et("Reference.remove","onComplete",e,!0);const n=ZM(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){ie("Reference.transaction",1,3,arguments.length),Et("Reference.transaction","transactionUpdate",e,!1),Et("Reference.transaction","onComplete",n,!0),HD("Reference.transaction","applyLocally",r);const a=WD(this._delegate,e,{applyLocally:r}).then(l=>new qD(l.committed,new Rs(this.database,l.snapshot)));return n&&a.then(l=>n(null,l.committed,l.snapshot),l=>n(l,!1,null)),a}setPriority(e,n){ie("Reference.setPriority",1,2,arguments.length),Et("Reference.setPriority","onComplete",n,!0);const r=eD(this._delegate,e);return n&&r.then(()=>n(null),a=>n(a)),r}push(e,n){ie("Reference.push",0,2,arguments.length),Et("Reference.push","onComplete",n,!0);const r=XM(this._delegate,e),a=r.then(i=>new mn(this.database,i));n&&a.then(()=>n(null),i=>n(i));const l=new mn(this.database,r);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l}onDisconnect(){return In("Reference.onDisconnect",this._delegate._path),new KD(new JM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:RD,forceLongPolling:PD}}useEmulator(e,n,r={}){AD(this._delegate,e,n,r)}ref(e){if(ie("database.ref",0,1,arguments.length),e instanceof mn){const n=Ub(this._delegate,e.toString());return new mn(this,n)}else{const n=jC(this._delegate,e);return new mn(this,n)}}refFromURL(e){ie("database.refFromURL",1,1,arguments.length);const r=Ub(this._delegate,e);return new mn(this,r)}goOffline(){return ie("database.goOffline",0,0,arguments.length),OD(this._delegate)}goOnline(){return ie("database.goOnline",0,0,arguments.length),MD(this._delegate)}}tc.ServerValue={TIMESTAMP:UD(),increment:t=>jD(t)};function YD({app:t,url:e,version:n,customAuthImpl:r,customAppCheckImpl:a,namespace:l,nodeAdmin:i=!1}){S1(n);const c=new g0("database-standalone"),u=new Wh("auth-internal",c);u.setComponent(new On("auth-internal",()=>r,"PRIVATE"));let m;return a&&(m=new Wh("app-check-internal",c),m.setComponent(new On("app-check-internal",()=>a,"PRIVATE"))),{instance:new tc(zC(t,u,m,e,i),t),namespace:l}}var QD=Object.freeze({__proto__:null,initStandalone:YD});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=tc.ServerValue;function XD(t){t.INTERNAL.registerComponent(new On("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),a=e.getProvider("database").getImmediate({identifier:n});return new tc(a,r)},"PUBLIC").setServiceProps({Reference:mn,Query:kt,Database:tc,DataSnapshot:Rs,enableLogging:DD,INTERNAL:QD,ServerValue:JD}).setMultipleInstances(!0)),t.registerVersion(zD,BD)}XD(un);const ZD={apiKey:"AIzaSyBRrxkXnyGd3HKXFKEUB2o15sY8U2N2Mic",authDomain:"beancraft-sales-team.firebaseapp.com",databaseURL:"https://beancraft-sales-team-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"beancraft-sales-team",storageBucket:"beancraft-sales-team.firebasestorage.app",messagingSenderId:"803745881200",appId:"1:803745881200:web:fb430162f761e3ecdba8b5"};un.initializeApp(ZD);const se=un.database(),Vb=["  ,     .","       .","        ."," .    .","       .","  ,      .","     .  .","  .  ,     .","    .","      .","   .     .","   .    .","1%  ,   .","          .","   .    .","   ,  .","      .","      .","  ,   .","   ,   .",' "NO" " "  ,   .',"       .","     ,   .","    .","  ,    .","        .","   .","      .","      .","     .","   .   .","      .","      .   .","  .    .","       .","      .","     .","     .","     ,    .","       .","      .","  .     .","       .","  .   .","  .    .","        .","  ,     .","    .  .","     .","   .    .","     .","       .","     .  .","     ?","  .    .","  .    .","       .","      .","     .  .","     ."," 3  .    .","     .","   .  .","      .","      .","       .","      .","     .","    .","    ,    .","  .   .","    .   .","      .","      .","   ,     .","  ,   .","      ."," .     .","    .   .","   ,     .","      .  .","   ."," .    .","    .   .","  ,    .","  .   .","      .","     ."," .     .","      .","     .","     .","    .   .","  .   .","      .","     .  .","     .","      .","      .","    .   .","      .","    ,    .","      .","        .","          .","        .","   .  .","   .    .","        .","      .",'" "      .',"    .","    .","      .","       .","      .","  ,      .","       .","   .   .","      .","      .","   .    .","     .","   ,     .","           .","    .","   ,     .","      .","  10     .","   ,    .","        .","    .","     .  ."," .    .","         .","  .  .","    ,     .","    .","      .","    .","  ,    .","      .","       .","  .    .","     .","  .     .","       .","    .","     .","        ,   .","  .     .","   .","   ,   .","     .","       .","     .","     .","       .",'  "   "   .',"     .","     .","       ."," . ()   .","  .    ."," ,    .","       .","     .","      .","      .","''     ''   .","     .","       .","     .","     .","  .    .","       .","    ."," .     .","     .","     .","    .","     ,    .","  ,    .","  .    .","       .","   .","    .","     .","     .","       .","   ,   .","      .","      .","     .","    .","       .","       .","    .","   .      ."],Hb=[".     .","''   ,      .","   .  .","     ,   .","   .     ."," .       .","        .","   ,    .","   .     .","      ."," ,    ''  .","   ,     .","   ,    .","         .","       .",".       .","  .    .","  ,    .","   VIP      .","         .","   .  .","  DB     .","      .","        .","  ,   .","    .   .","       ."," ,    .","       ."," .    .","    .      .","      .","   ,    .","     ."," ,   .","    .","   ,    .","       .","          .","     .","  .    .","  ,   .","       ."," .     .","   ,  ?",'"."     .',"     .","    .  .",".      .","  .   .","    .  ."," ,  .  .","     .","    ,    .","      .","     .","       .","   1    .","    ,  ."," .    .","  .  .","     .","    ,    .","     .","  . ."," ?    .","   .","     .","      .","     .","  .    .","    .    .","     .","   .   .","       .","      .","    ,   .","       .","  .   .","      .","       .","     .","   ,     .",".    .","     .","  .    ."," ''  ''   .","  .  ,  .","  ,   .","  . ."," , ,   .","       .","     .","   ,    .","      .","   ,    .","      ."," .     ."," .   .",".    .","       .","   ,   .","       .","        .","      .","    .","    .","      .","       .","        ."," .    .","  .  .","        .","    .","    .","        .","      .","  .   ?","   ."," ,     .","     .","      .","         .","     .","    .  .","        .","      .","    .","    .","      .","    .","        .","   .   .","    .","  ,   .","     ."," ,    .","    .","   ,     ."," ,  . .","      .","      .","      .","  .   .","  ,   .","     .","      .","     'YES'.","     .","    .","     .","      .","    .","       .","   .   .","     .","   ,   .","         .","    .","  ,   .","  .    .","     .","      .","    ,   .","    .","   .","        .","     ."," .     .","    .","      .","     .","       .","  ,   .","      .","       .","    ."," ,   .","        .","      .","     .","    ,     .","    .","   ,    .","     .","  .  .","   ,   .","    .","    .","  ,   .","     .","      .","    .","     .","      .","     .","    .","   .  .",".    .","  .  .",".        ."],gt={negative:{bg:"#9ca3af",label:""},neutral:{bg:"#f97316",label:""},positive:{bg:"#22c55e",label:""},special:{bg:"#ef4444",label:"",blink:!0},missed:{bg:"#eab308",label:""}},cs=()=>new Date().toLocaleDateString("sv-SE",{timeZone:"Asia/Seoul"}),Gp=()=>{const t=new Date,n=new Intl.DateTimeFormat("ko-KR",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(t),r=a=>{var l;return((l=n.find(i=>i.type===a))==null?void 0:l.value)||"0"};return{year:parseInt(r("year")),month:parseInt(r("month"))-1,day:parseInt(r("day")),hour:parseInt(r("hour")),minute:parseInt(r("minute")),dayOfWeek:new Date(parseInt(r("year")),parseInt(r("month"))-1,parseInt(r("day"))).getDay()}},Gb=["","","",""],eL="AIzaSyDcz5e1qre9QMbrKmUSjT9nEsajSnhIhAI",tL=["","","","","","","","","","","","","","","","","","",""],Kb=t=>t.split("").map(e=>{const n=e.charCodeAt(0)-44032;return n>=0&&n<=11171?tL[Math.floor(n/588)]:e}).join(""),nL=(t,e)=>{if(!e)return!0;const n=t.toLowerCase(),r=e.toLowerCase();return n.includes(r)?!0:Kb(t).includes(Kb(e))},qb=t=>{if(!t)return"";const e=t.split(" ");return e.length>=2?e.slice(-2).join(" "):t},Bu=[{id:1,name:"",color:"#3b82f6",username:"sm001",password:"1234",promo:{:0,:0,:0,:0}},{id:2,name:"",color:"#10b981",username:"sm002",password:"1234",promo:{:0,:0,:0,:0}}],rL=()=>{var By,Vy,Hy,Gy,Ky,qy,Yy,Qy,Jy,Xy,Zy,eE,tE,nE,rE,sE,aE,lE,iE,oE,cE,uE,dE,mE,fE,pE,hE,gE;const[t,e]=x.useState(!1),[n,r]=x.useState(null),[a,l]=x.useState(""),[i,c]=x.useState(""),[u,m]=x.useState(!1),[g,h]=x.useState("admin"),[E]=x.useState(()=>Vb[Math.floor(Math.random()*Vb.length)]),[k,R]=x.useState("quote"),[F,oe]=x.useState(!1),C=localStorage.getItem("bc_current_tab")||"map",[_,S]=x.useState(C),[L,K]=x.useState(null),[Y,J]=x.useState("basic"),[Z,Ie]=x.useState([]),[he,jt]=x.useState(0),[yr,Jn]=x.useState("single"),[Ka,Cc]=x.useState(""),[Er,Ks]=x.useState(""),[B,de]=x.useState(null),[me,Me]=x.useState(!1),[ze,qs]=x.useState(null),[mt,tt]=x.useState(null),[Ct,Ys]=x.useState(null),[wv,Km]=x.useState(null),[Sc,qm]=x.useState(""),[Ym,Nv]=x.useState([]),[HC,qa]=x.useState(!1),[Gt,Qm]=x.useState(null),[At,Xn]=x.useState({name:"",content:"",type:"broker",memo:""}),[kc,Cv]=x.useState([]),[GC,Ic]=x.useState(!1),[xr,KC]=x.useState(null),[fi,Jm]=x.useState(""),[Sv,kv]=x.useState(""),[Zr,Tc]=x.useState("theme"),[Xm,Iv]=x.useState(!1),[Rc,Tv]=x.useState("analysis"),[Qs,Rv]=x.useState(""),[qe,Pv]=x.useState(null),[Js,Av]=x.useState(!1),[Pc,Ya]=x.useState(!1),[Qa,Zn]=x.useState(""),[Ov,pi]=x.useState(60),[Mv,Ac]=x.useState(Date.now()),[Oc,Dv]=x.useState(null),[qC,Mc]=x.useState(!1),[_e,Lv]=x.useState({seats:20,price:5e3,turnover:3,occupancy:40,rent:300,labor:250,materialRate:32,otherCost:100}),[Fv,YC]=x.useState([]),[QC,JC]=x.useState(""),[Zm,Dc]=x.useState(null),[Uv,Ja]=x.useState(null),[br,ef]=x.useState(null),[aL,XC]=x.useState(()=>{const o=localStorage.getItem("bc_team_feedback");return o?JSON.parse(o):[]}),[tf,jv]=x.useState(""),[nf,$v]=x.useState(""),[Lc,rf]=x.useState(null),[hi,Wv]=x.useState([]),[lL,iL]=x.useState("");x.useEffect(()=>(se.ref("teamFeedback").orderByChild("timestamp").limitToLast(100).on("value",o=>{const d=o.val();if(d){const f=Object.values(d).sort((p,v)=>new Date(v.timestamp)-new Date(p.timestamp));XC(f)}}),()=>se.ref("teamFeedback").off()),[]),x.useEffect(()=>{if(!Xm||Pc)return;const o=()=>{Ac(Date.now()),pi(60)};window.addEventListener("touchstart",o),window.addEventListener("click",o),window.addEventListener("keydown",o),window.addEventListener("scroll",o);const d=setInterval(()=>{const f=Math.floor((Date.now()-Mv)/1e3),p=Math.max(0,60-f);pi(p),p===0&&(Ya(!0),Zn(""))},1e3);return()=>{window.removeEventListener("touchstart",o),window.removeEventListener("click",o),window.removeEventListener("keydown",o),window.removeEventListener("scroll",o),clearInterval(d)}},[Xm,Pc,Mv]);const sf="AIzaSyAl0PfvfKlD-nZxtAJOC6qhME-A-V_u2L8",zv=`    /.

[]
-        
-         
-  :    

[ ]
- :   ( )
- :  (  ,      )
- :  ( 6,900~1.3,   )
-  : / ,   , / 

[]
- /    
-     
-    
-       

[ ]
-         
-   /   
-    
-     
-  `,[Kt,gi]=x.useState(null),[Fc,es]=x.useState(!1),[Xa,oL]=x.useState(null),[cL,uL]=x.useState(!1),af=async(o,d=0)=>{var y,b,w,N,O;es(!0),tt(null);const f=new Date().toLocaleString("ko-KR"),p=Math.floor(Math.random()*1e3),v=zv+`


    ( : `+f+", ID: "+p+`)


 
- : `+o.managerName+`
-   : `+o.thisVisits+" (  "+(o.visitChange>=0?"+":"")+o.visitChange+`%)
-  : `+o.newCompanies+`
-  : `+o.consults+`
-  : `+o.positiveRate+`%

  
- : `+o.positive+" | : "+o.special+`
- : `+o.neutral+" | : "+o.missed+`

  -   
1. comment:     (2,   )
2. analysis:    (/,  )
3. suggestion:     (   )
4. encouragement:    (  )
5. focus:    

  (JSON):
{"comment": "...", "analysis": "...", "suggestion": "...", "encouragement": "...", "focus": "..."}

JSON .     .`;try{const P=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${sf}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:v}]}],generationConfig:{temperature:.9,maxOutputTokens:1024}})});if(!P.ok)if(P.status===429){if(d<3)return console.log(`429  - ${d+1}  ... (5 )`),tt(`API   - ${d+1}  ...`),await new Promise(te=>setTimeout(te,5e3)),af(o,d+1);tt("API   .    ."),es(!1);return}else if(P.status===400){tt("API      ."),es(!1);return}else if(P.status===403){tt("API   .  ."),es(!1);return}else{tt(`  . (: ${P.status})`),es(!1);return}const A=await P.json();if(A.error){console.error("Gemini API Error:",A.error),tt(`API : ${A.error.message||"   "}`),es(!1);return}const M=((O=(N=(w=(b=(y=A.candidates)==null?void 0:y[0])==null?void 0:b.content)==null?void 0:w.parts)==null?void 0:N[0])==null?void 0:O.text)||"";if(!M){tt("AI  .  ."),es(!1);return}const V=M.match(/\{[\s\S]*\}/);if(V){const te=JSON.parse(V[0]);gi(te),qs(new Date)}else gi({comment:M,analysis:"",suggestion:"",encouragement:""}),qs(new Date)}catch(P){console.error("AI Report Error:",P),tt(` : ${P.message||" ."}`),gi(null)}es(!1)},Uc=async o=>{var b,w,N,O,P;if(!o.trim())return;Me(!0),tt(null),de(null);const d=new Date().toLocaleString("ko-KR"),f=ce.filter(A=>{var M,V,te,I;return((M=A.name)==null?void 0:M.includes(o))||((V=A.address)==null?void 0:V.includes(o))||((te=A.memo)==null?void 0:te.includes(o))||((I=A.region)==null?void 0:I.includes(o))}),p=ra.filter(A=>{var M,V,te;return((M=A.name)==null?void 0:M.includes(o))||((V=A.address)==null?void 0:V.includes(o))||((te=A.region)==null?void 0:te.includes(o))}),v=Z.filter(A=>{var M,V,te;return((M=A.title)==null?void 0:M.includes(o))||((V=A.content)==null?void 0:V.includes(o))||((te=A.region)==null?void 0:te.includes(o))}),y=zv+`


   : "${o}" ( : ${d})


  
-  : ${f.length}
${f.slice(0,5).map(A=>`   ${A.name} (${A.address||""}) - : ${A.reaction||""}`).join(`
`)}
-  : ${p.length}
${p.slice(0,5).map(A=>`   ${A.name} (${A.address||""})`).join(`
`)}
-   : ${v.length}
${v.slice(0,3).map(A=>{var M;return`   ${A.title}: ${(M=A.content)==null?void 0:M.slice(0,50)}...`}).join(`
`)}

 
"${o}"       .

1. summary:     (2-3)
2. insights:    (3 , )
3. salesTips:      (2)
4. relatedTopics:     (3, )
5. actionItems:       (2)

  (JSON):
{
  "summary": " ",
  "insights": ["1", "2", "3"],
  "salesTips": ["1", "2"],
  "relatedTopics": ["1", "2", "3"],
  "actionItems": ["1", "2"]
}

JSON .      /    .`;try{const A=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${sf}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:y}]}],generationConfig:{temperature:.8,maxOutputTokens:1500}})});if(!A.ok){A.status===429?tt("API   .    ."):tt(`  . (: ${A.status})`),Me(!1);return}const M=await A.json();if(M.error){tt(`API : ${M.error.message||"   "}`),Me(!1);return}const V=((P=(O=(N=(w=(b=M.candidates)==null?void 0:b[0])==null?void 0:w.content)==null?void 0:N.parts)==null?void 0:O[0])==null?void 0:P.text)||"",te=V.match(/\{[\s\S]*\}/);if(te){const I=JSON.parse(te[0]);de({...I,keyword:o,searchedAt:new Date,relatedCompaniesCount:f.length,relatedRealtorsCount:p.length,relatedIssuesCount:v.length})}else de({summary:V,insights:[],salesTips:[],relatedTopics:[],actionItems:[],keyword:o,searchedAt:new Date})}catch(A){console.error("AI Keyword Search Error:",A),tt(` : ${A.message||" ."}`)}Me(!1)},[dL,mL]=x.useState(!1),[fL,pL]=x.useState([]),[hL,gL]=x.useState(!1),ZC=()=>localStorage.getItem("bc_theme_mode")||"dark",eS=()=>{const o=localStorage.getItem("bc_theme_mode")||"dark";return o==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":o},[_r,lf]=x.useState(ZC),[tS,nS]=x.useState(eS),[jc,of]=x.useState([]),[rS,Bv]=x.useState(!1),[sS,cf]=x.useState(!1),[Vv,uf]=x.useState(!1),[aS,$c]=x.useState(!1),[Hv,Wc]=x.useState(!1),[wr,vi]=x.useState(null),[nt,yi]=x.useState(null),[X,Ei]=x.useState(null),[lS,zc]=x.useState(null),[St,ft]=x.useState(null),[df,mf]=x.useState(null),[iS,Bc]=x.useState(!1),[pt,bn]=x.useState(null),[xi,Vc]=x.useState(null),[oS,Hc]=x.useState(!1),[ff,Gc]=x.useState(null),[Kc,pf]=x.useState(!1),[Xs,qc]=x.useState([]),[cS,Yc]=x.useState(!1),[uS,hf]=x.useState(!1),[dS,gf]=x.useState(null),[Gv,Qc]=x.useState(!1),[_n,er]=x.useState([]),vf=x.useRef(null),Kv=x.useRef(null),[mS,yf]=x.useState(!1),[Ef,fS]=x.useState([]),[pS,xf]=x.useState(!1),[bf,qv]=x.useState(""),[Yv,Qv]=x.useState(null),[hS,gS]=x.useState(""),[vL,vS]=x.useState(""),[Jv,Xv]=x.useState("neutral"),[tr,Jc]=x.useState(""),[Xc,Zc]=x.useState(""),[bi,Zv]=x.useState(""),[ey,ty]=x.useState(""),[_f,wf]=x.useState({:!1,:!1,:!1,:!1}),[eu,Nf]=x.useState([]),[Zs,Za]=x.useState([]),tu=x.useRef(null),Ae=x.useRef(null),Cf=x.useRef([]),ea=x.useRef([]),[Ee,yS]=x.useState(Bu),[_i,ES]=x.useState([]),[ce,xS]=x.useState([]),[nu,bS]=x.useState([]),[ru,ny]=x.useState([]),[ry,_S]=x.useState([]),[wS,NS]=x.useState({}),[Be,sy]=x.useState([]),[$t,ay]=x.useState([]),[Ce,qt]=x.useState([]),[su,el]=x.useState(cs()),[au,wi]=x.useState("09:00"),[yL,EL]=x.useState(""),[xL,bL]=x.useState(""),[Ni,Ci]=x.useState(""),[Sf,ts]=x.useState(null),[ta,lu]=x.useState(null),[_L,wL]=x.useState(null),[on,Nr]=x.useState(null),[NL,CL]=x.useState(""),[tl,iu]=x.useState(0),[ns,ly]=x.useState(new Date),[Si,kf]=x.useState(null),[Ot,ki]=x.useState(null),[CS,na]=x.useState(!1),[If,nl]=x.useState(null),[Ii,Tf]=x.useState(null),[ou,Rf]=x.useState(null),[nr,Cr]=x.useState({title:"",time:"09:00",memo:""}),[Ti,rl]=x.useState(null),[sl,Pf]=x.useState(""),[Af,Of]=x.useState(""),[Sr,Ri]=x.useState([]),[SL,kL]=x.useState([]),[iy,Mf]=x.useState(!1),[IL,TL]=x.useState(""),[RL,PL]=x.useState(""),[AL,cu]=x.useState([]),[Df,SS]=x.useState(""),[Lf,kS]=x.useState(""),[uu,IS]=x.useState("listings"),[Ff,oy]=x.useState(""),[Pi,TS]=x.useState(""),[Ai,cy]=x.useState(""),[OL,ML]=x.useState("all"),[DL,LL]=x.useState(1),[FL,UL]=x.useState(null),[ra,du]=x.useState(()=>{try{const o=localStorage.getItem("bc_collected_realtors");return o?JSON.parse(o):[]}catch{return[]}}),[RS,Uf]=x.useState(()=>!localStorage.getItem("bc_collected_realtors")),[jL,$L]=x.useState(""),[WL,zL]=x.useState([]),[BL,VL]=x.useState(!1),[PS,AS]=x.useState(!1),[HL,GL]=x.useState(!1),[KL,qL]=x.useState(""),[YL,QL]=x.useState([]),[JL,XL]=x.useState(null),[ZL,OS]=x.useState([]),[e7,MS]=x.useState([]),[t7,n7]=x.useState(""),[r7,s7]=x.useState(""),[a7,l7]=x.useState(!1),[i7,o7]=x.useState(200),[c7,DS]=x.useState({phase:"",current:0,total:0,found:0,message:""}),[u7,d7]=x.useState(!1),[m7,f7]=x.useState(""),[p7,h7]=x.useState(""),[g7,v7]=x.useState("");x.useRef([]);const uy=x.useRef([]),jf=x.useRef([]),$f=x.useRef(null),ee=x.useRef(null),kr=x.useRef([]),Ir=x.useRef([]),dy=x.useRef([]),[mu,Wf]=x.useState(!1),[fu,my]=x.useState(null),al=x.useRef(null),Tr=x.useRef(null),Rr=x.useRef(null),ll=x.useRef(null),pu=x.useRef(0),rs=x.useRef(null),[zf,hu]=x.useState(null),[sa,fy]=x.useState("all"),[aa,py]=x.useState("all"),[Bf,LS]=x.useState(""),[Vf,y7]=x.useState(null),[Hf,E7]=x.useState(""),[x7,b7]=x.useState(""),[ne,lt]=x.useState({name:"",contact:"",address:"",phone:"",region:"",managerId:null,reaction:"neutral",memo:"",isReregistered:!1}),[Gf,FS]=x.useState(""),[Oi,US]=x.useState("all"),[Kf,jS]=x.useState("all"),[_7,w7]=x.useState({}),[N7,$S]=x.useState(""),[Yt,la]=x.useState({name:"",phone:"",managerId:null,consultDate:"",note:"",status:"consult",memo:""}),[Ln,gu]=x.useState({managerId:null,companyId:null,amount:"",date:"",note:""}),il=o=>{try{const d=localStorage.getItem("bc_"+o);return d?JSON.parse(d):null}catch{return null}},WS=async()=>{if(localStorage.getItem("bc_migration_done"))return;console.log(" ...");const d=il("managers"),f=il("pins"),p=il("companies"),v=il("customers"),y=il("sales"),b=il("requests");if(d&&d.length>0){console.log(" managers :",d.length);for(const w of d)await se.ref("managers/"+w.id).set(w)}if(f&&f.length>0){console.log(" pins :",f.length);for(const w of f)await se.ref("pins/"+w.id).set(w)}if(p&&p.length>0){console.log(" companies :",p.length);for(const w of p)await se.ref("companies/"+w.id).set(w)}if(v&&v.length>0){console.log(" customers :",v.length);for(const w of v)await se.ref("customers/"+w.id).set(w)}if(y&&y.length>0){console.log(" sales :",y.length);for(const w of y)await se.ref("sales/"+w.id).set(w)}if(b&&b.length>0){console.log(" requests :",b.length);for(const w of b)await se.ref("requests/"+w.id).set(w)}localStorage.setItem("bc_migration_done","true"),console.log(" !")},ia=x.useRef({});x.useEffect(()=>{const o=d=>{let f=d;d==="auto"&&(f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),nS(f),f==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.body.style.removeProperty("background"),document.body.style.removeProperty("color")};if(o(_r),localStorage.setItem("bc_theme_mode",_r),_r==="auto"){const d=window.matchMedia("(prefers-color-scheme: dark)"),f=p=>o("auto");return d.addEventListener("change",f),()=>d.removeEventListener("change",f)}},[_r]),x.useEffect(()=>{const o=d=>{if(d.source===window){if(d.data.type==="BEANCRAFT_EXTENSION_READY"&&(console.log("  v"+d.data.version),AS(!0),BS("0000000000")),d.data.type==="BEANCRAFT_RESPONSE"){const{requestId:f,response:p}=d.data;ia.current[f]&&(ia.current[f](p),delete ia.current[f])}d.data.type==="BEANCRAFT_SCRAPE_PROGRESS"&&DS({phase:d.data.phase||"",current:d.data.current||0,total:d.data.total||0,found:d.data.found||0,message:d.data.message||""})}};return window.addEventListener("message",o),()=>{window.removeEventListener("message",o)}},[]);const zS=(o,d={})=>new Promise(f=>{const p=Date.now()+Math.random();ia.current[p]=f,window.postMessage({type:"BEANCRAFT_REQUEST",action:o,requestId:p,...d},"*"),setTimeout(()=>{ia.current[p]&&(ia.current[p]({success:!1,error:""}),delete ia.current[p])},1e4)}),BS=async(o,d="sido")=>{if(!PS)return;const f=await zS("GET_REGIONS",{cortarNo:o});f&&f.success&&f.regions?(console.log("[] "+d+" :",f.regions.length+""),d==="sido"?OS(f.regions):d==="gugun"&&MS(f.regions)):console.error("   :",f==null?void 0:f.error)};x.useEffect(()=>{if(!n){setSyncStatus("disconnected");return}setSyncStatus("connecting"),WS();const o={managers:se.ref("managers"),pins:se.ref("pins"),companies:se.ref("companies"),customers:se.ref("customers"),sales:se.ref("sales"),requests:se.ref("requests"),adminPassword:se.ref("adminPassword"),userStatus:se.ref("userStatus"),routes:se.ref("routes"),realtorCollections:se.ref("realtorCollections"),realtors:se.ref("realtors"),marketIssues:se.ref("marketIssues").limitToLast(20)};return o.managers.on("value",d=>{const f=d.val();f&&yS(Object.values(f)),setSyncStatus("connected")}),o.pins.on("value",d=>{const f=d.val();ES(f?Object.values(f):[])}),o.companies.on("value",d=>{const f=d.val();xS(f?Object.values(f):[])}),o.customers.on("value",d=>{const f=d.val();bS(f?Object.values(f):[])}),o.sales.on("value",d=>{const f=d.val();ny(f?Object.values(f):[])}),o.requests.on("value",d=>{const f=d.val();_S(f?Object.values(f):[])}),o.adminPassword.on("value",d=>{const f=d.val();f&&h(f)}),o.userStatus.on("value",d=>{const f=d.val();NS(f||{})}),o.routes.on("value",d=>{const f=d.val();sy(f?Object.values(f):[])}),o.realtorCollections.on("value",d=>{try{const f=d.val();if(f){const p=Object.entries(f).map(([v,y])=>({id:v,...y}));p.sort((v,y)=>y.exportedAt-v.exportedAt),cu(p)}else cu([])}catch(f){console.error("RealtorCollections  :",f),cu([])}},d=>{console.error("Firebase realtorCollections  :",d),cu([])}),o.calendarEvents=se.ref("calendarEvents"),o.calendarEvents.on("value",d=>{const f=d.val();ay(f?Object.values(f):[])}),o.realtors.on("value",d=>{try{const f=d.val();if(f){const p=Object.entries(f).map(([v,y])=>({id:v,...y}));p.sort((v,y)=>(y.listings||0)-(v.listings||0)),du(p);try{localStorage.setItem("bc_collected_realtors",JSON.stringify(p))}catch{}}else du([]);Uf(!1)}catch(f){console.error("Realtors   :",f),du([]),Uf(!1)}},d=>{console.error("Firebase realtors  :",d),du([]),Uf(!1)}),o.marketIssues.on("value",d=>{try{const f=d.val();if(f){const p=Object.entries(f).map(([b,w])=>({id:b,...w})),v=Date.now()-365*24*60*60*1e3,y=p.filter(b=>new Date(b.||b.createdAt).getTime()<v?(se.ref("marketIssues/"+b.id).remove(),!1):!0);y.sort((b,w)=>new Date(w.||w.createdAt)-new Date(b.||b.createdAt)),Ie(y)}else Ie([])}catch(f){console.error("MarketIssues   :",f),Ie([])}}),oe(!0),setSyncStatus("connected"),()=>{Object.values(o).forEach(d=>d.off())}},[n]),x.useEffect(()=>{if(!(n!=null&&n.managerId))return;const o=n.managerId,d=se.ref(`userMents/${o}`),f=se.ref(`mentFeedbacks/${o}`);return d.on("value",p=>{const v=p.val();if(v){const y=Object.keys(v).map(b=>({id:b,...v[b]}));Nv(y)}else Nv([])}),f.on("value",p=>{const v=p.val();if(v){const y=Object.keys(v).map(b=>({id:b,...v[b]}));Cv(y)}else Cv([])}),()=>{d.off(),f.off()}},[n==null?void 0:n.managerId]),x.useEffect(()=>{const o=se.ref("teamFeedbacks");return o.orderByChild("timestamp").limitToLast(50).on("value",d=>{const f=d.val();if(f){const p=Object.keys(f).map(v=>({id:v,...f[v]})).sort((v,y)=>new Date(y.timestamp)-new Date(v.timestamp));Wv(p)}else Wv([])}),()=>o.off()},[]),x.useEffect(()=>{if(!t)return;const o=new Date().toISOString().split("T")[0];if($t.length>0){const d=$t.filter(f=>f.date===o&&f.type==="followup");d.length>0&&Dc(f=>{if(f)return f;const p=d.slice(0,3).map(y=>y.title).join(", "),v=d.length>3?`  ${d.length-3}`:"";return{count:d.length,preview:p+v,events:d}})}if(Be.length>0){const d=new Date;d.setDate(d.getDate()-1);const f=d.toISOString().split("T")[0],p=Be.filter(v=>{var b;return!v.date||v.date>f||v.status==="completed"?!1:(b=v.stops)==null?void 0:b.some(w=>!w.visited)});p.length>0?Ja({count:p.length,routes:p}):Ja(null)}else Ja(null)},[t,$t,Be]),x.useEffect(()=>{if(!t||!n||ce.length===0)return;const o=v=>{if(!v)return{hasIssue:!0,issue:" "};const y=[{pattern://,correct:"",issue:":   "},{pattern://,correct:"",issue:":   "},{pattern://,correct:"",issue:":   "},{pattern://,correct:"",issue:":   "},{pattern://,correct:"",issue:":   "}];for(const{pattern:M,issue:V}of y)if(M.test(v))return{hasIssue:!0,issue:V};const b=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=["","","","","","","","","","","","","","","","","","","","","","","","",""],N=/|||||||||||||||||||/.test(v),O=b.some(M=>v.includes(M+"")||v.includes(M+" ")),P=w.some(M=>v.includes(M+"")||v.includes(M+" ")||v.includes(M+""));return!N&&!O&&!P&&v.length>5?{hasIssue:!0,issue:"/  "}:!/[-]+(|||||||||)\s*\d*/.test(v)&&v.length>3?{hasIssue:!0,issue:"   "}:{hasIssue:!1}},d=n.managerId||n.id,f=ce.filter(v=>v.managerId===d),p=[];f.forEach(v=>{const{hasIssue:y,issue:b}=o(v.address),w=!v.lat||!v.lng;(y||w)&&p.push({id:v.id,name:v.name,address:v.address,issue:y?b:"   (  )"})}),p.length>0?Rf({count:p.length,companies:p}):Rf(null)},[t,n,ce]);const qf=o=>se.ref("managers/"+o.id).set(o),Yf=o=>se.ref("pins/"+o.id).set(o),hy=o=>se.ref("pins/"+o).remove(),Pr=o=>se.ref("companies/"+o.id).set(o),VS=o=>se.ref("companies/"+o).remove(),gy=o=>se.ref("customers/"+o.id).set(o),HS=o=>se.ref("customers/"+o).remove(),vy=o=>se.ref("sales/"+o.id).set(o),GS=o=>se.ref("sales/"+o).remove(),yy=o=>se.ref("requests/"+o.id).set(o),vu=o=>se.ref("routes/"+o.id).set(o),Ey=o=>se.ref("routes/"+o).remove(),xy=o=>{const d=(n==null?void 0:n.managerId)||"admin";se.ref(`userMents/${d}/${o.id}`).set(o)},KS=o=>{const d=(n==null?void 0:n.managerId)||"admin";se.ref(`userMents/${d}/${o}`).remove()},qS=o=>{const d=(n==null?void 0:n.managerId)||"admin";se.ref(`mentFeedbacks/${d}/${o.id}`).set(o)},YS=(o,d=!1)=>{const f=Ym.find(p=>p.id===o);if(f){const p={...f,useCount:(f.useCount||0)+1,successCount:d?(f.successCount||0)+1:f.successCount||0};xy(p)}},Qf=o=>se.ref("calendarEvents/"+o.id).set(o),QS=o=>se.ref("calendarEvents/"+o).remove();x.useEffect(()=>{var d;const o=localStorage.getItem("bc_remember_login");if(o)try{const f=JSON.parse(o);f.expiry>Date.now()?(l(f.id||""),c(f.pw||""),m(!0)):localStorage.removeItem("bc_remember_login")}catch{localStorage.removeItem("bc_remember_login")}try{const f=localStorage.getItem("bc_temp_route");if(f){const p=JSON.parse(f);((d=p.stops)==null?void 0:d.length)>0&&(qt(p.stops),p.name&&Ci(p.name),p.date&&el(p.date),p.time&&wi(p.time),p.managerId&&ts(p.managerId),p.editingId&&lu(p.editingId))}}catch{}},[]),x.useEffect(()=>{const o=un.auth().onAuthStateChanged(async d=>{if(d&&!t){const f=localStorage.getItem("bc_session");if(f)try{const b=JSON.parse(f);if(b.expiry>Date.now()&&b.user){let w=b.user;if(w.username){const N=Bu.find(O=>O.username===w.username);N&&(!w.name||w.name.length<2||w.name.includes(""))&&(console.log(`[]   : ${w.name} -> ${N.name}`),w={...w,name:N.name},localStorage.setItem("bc_session",JSON.stringify({user:w,expiry:b.expiry})))}if(w){r(w),e(!0),w.managerId&&(ts(w.managerId),Mi(w.managerId,!0)),console.log("  :",w.name);return}}}catch{}const p=d.email,v=p.split("@")[0];let y=null;if(v==="admin")y={name:"admin",role:"super",email:p};else try{const w=(await se.ref("managers").once("value")).val(),O=(w?Object.values(w):[]).find(P=>P.username===v||P.email===p);if(O){let P=O.name;const A=Bu.find(M=>M.username===v||M.id===O.id);A&&(!O.name||O.name.length<2||O.name.includes(""))&&(P=A.name,console.log(`[]   : ${O.name} -> ${P}`),se.ref("managers/"+O.id).update({name:P})),y={name:P,role:"manager",managerId:O.id,username:O.username,email:p}}else y={name:v,role:"manager",email:p}}catch(b){console.error("managers  :",b),y={name:v,role:"manager",email:p}}r(y),e(!0),y.managerId&&(ts(y.managerId),Mi(y.managerId,!0)),localStorage.setItem("bc_session",JSON.stringify({user:y,expiry:Date.now()+216e5})),console.log("Firebase  :",y.name)}else!d&&t&&(e(!1),r(null),localStorage.removeItem("bc_session"))});return()=>o()},[t]),x.useEffect(()=>{const o=()=>{if(jc.length>0){const d=[...jc],f=d.pop();of(d),S(f)}};return window.addEventListener("popstate",o),()=>window.removeEventListener("popstate",o)},[jc]);const oa=o=>{o!==_&&(window.history.pushState({tab:o},""),of([...jc,_]),S(o),localStorage.setItem("bc_current_tab",o))};x.useEffect(()=>{localStorage.setItem("bc_current_tab",_)},[_]);const by=x.useRef(Vf),_y=x.useRef(Hf),Jf=x.useRef(_i),wy=x.useRef(ce),Ny=x.useRef(Ee),Cy=x.useRef(eu);x.useEffect(()=>{by.current=Vf},[Vf]),x.useEffect(()=>{_y.current=Hf},[Hf]),x.useEffect(()=>{Jf.current=_i},[_i]),x.useEffect(()=>{wy.current=ce},[ce]),x.useEffect(()=>{Ny.current=Ee},[Ee]),x.useEffect(()=>{Cy.current=eu},[eu]),x.useEffect(()=>{if(Ce.length>0){const o={stops:Ce,name:Ni,date:su,time:au,managerId:Sf,editingId:ta,savedAt:new Date().toISOString()};localStorage.setItem("bc_temp_route",JSON.stringify(o))}else localStorage.removeItem("bc_temp_route")},[Ce]);const JS=(o,d)=>d?Math.max(28,o*2.5):o<=8?14:o<=10?18:o<=12?22:o<=14?26:30;x.useEffect(()=>{if(t&&_==="map"&&tu.current){Ae.current=null;const o=()=>{var d;if(!((d=window.naver)!=null&&d.maps)){setTimeout(o,100);return}if(!tu.current){setTimeout(o,100);return}Ae.current=new window.naver.maps.Map(tu.current,{center:new window.naver.maps.LatLng(37.5665,126.978),zoom:11}),window.naver.maps.Event.addListener(Ae.current,"zoom_changed",()=>{ol()}),window.naver.maps.Event.addListener(Ae.current,"click",f=>{const p=by.current,v=_y.current;if(!p)return;const y=f.coord.lat(),b=f.coord.lng();window.naver.maps.Service.reverseGeocode({coords:new window.naver.maps.LatLng(y,b)},(w,N)=>{var M,V,te;let O=y.toFixed(4)+", "+b.toFixed(4);if(w===window.naver.maps.Service.Status.OK&&N.v2.results[0]){const I=N.v2.results[0].region;I&&(O=[(M=I.area1)==null?void 0:M.name,(V=I.area2)==null?void 0:V.name,(te=I.area3)==null?void 0:te.name].filter(Boolean).join(" "))}const P=v?"planned":"confirmed",A={id:Date.now(),managerId:p,status:P,region:O,lat:y,lng:b,date:v||"",createdAt:new Date().toISOString()};Yf(A)})}),setTimeout(()=>ol(),500)};setTimeout(o,300)}},[t,_]),x.useEffect(()=>{t&&_==="map"&&Ae.current&&setTimeout(()=>{window.naver.maps.Event.trigger(Ae.current,"resize"),ol()},100)},[t,_]),x.useEffect(()=>{t&&_==="route"&&ee.current&&setTimeout(()=>{window.naver.maps.Event.trigger(ee.current,"resize")},100)},[t,_]);const XS=()=>{let o=Jf.current;sa!=="all"&&(o=o.filter(d=>d.managerId===Number(sa))),aa!=="all"&&(o=o.filter(d=>d.status===aa)),Nf(o.map(d=>d.id)),setTimeout(()=>ol(),100)},ol=x.useCallback(()=>{var y;if(!Ae.current||!((y=window.naver)!=null&&y.maps))return;Cf.current.forEach(b=>b.setMap(null)),Cf.current=[];const o=wy.current,d=Ny.current,f=Cy.current,p=Ae.current.getZoom();let v=o.filter(b=>b.lat&&b.lng);sa!=="all"&&(v=v.filter(b=>b.managerId===Number(sa))),aa!=="all"&&(v=v.filter(b=>b.reaction===aa)),v.forEach(b=>{const w=d.find(V=>V.id===b.managerId);gt[b.reaction]||gt.neutral;const N=f.includes(b.id)||b.reaction==="special",O=JS(p,N),P=Math.max(2,Math.floor(O/5));let A="#9ca3af";b.reaction==="special"?A="#ef4444":b.reaction==="positive"?A="#22c55e":b.reaction==="neutral"?A="#f97316":b.reaction==="missed"&&(A="#eab308");const M=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(b.lat,b.lng),map:Ae.current,icon:{content:`<div class="${N?b.reaction==="special"?"special-blink":"marker-pulse":""}" style="width:${O}px;height:${O}px;background:${A};border-radius:50%;border:${P}px solid white;box-shadow:0 2px 8px rgba(0,0,0,0.4);cursor:pointer;display:flex;align-items:center;justify-content:center;">
 <span style="font-size:${Math.max(8,O/2.5)}px;color:white;font-weight:bold;">${b.name.charAt(0)}</span>
 </div>`,anchor:new window.naver.maps.Point(O/2,O/2)}});window.naver.maps.Event.addListener(M,"click",()=>{yi({...b,manager:w})}),Cf.current.push(M)}),f.length>0&&setTimeout(()=>Nf([]),5e3)},[sa,aa]);x.useEffect(()=>{Ae.current&&ol()},[ce,Ee,sa,aa,eu,ol]),x.useEffect(()=>{if(t)return;const o=setTimeout(()=>R("logo"),4e3),d=setTimeout(()=>R("form"),6e3);return()=>{clearTimeout(o),clearTimeout(d)}},[t]),x.useEffect(()=>{var p,v;if(!t||ce.length===0||!((v=(p=window.naver)==null?void 0:p.maps)!=null&&v.Service))return;const o=ce.filter(y=>(!y.lat||!y.lng)&&(y.address||y.name));if(o.length===0)return;const f=setTimeout(async()=>{let y=0;for(const b of o){const w=await ep(b.address,b.name);if(w){const N={...b,lat:w.lat,lng:w.lng};Pr(N),y++}await new Promise(N=>setTimeout(N,300))}y>0&&console.log(`  ${y}    `)},2e3);return()=>clearTimeout(f)},[t,ce.length]),x.useEffect(()=>{if(t&&_==="route"){ee.current&&(ee.current=null);const o=()=>{var d;if(!$f.current){console.log("[] routeMapRef ..."),setTimeout(o,100);return}if(!((d=window.naver)!=null&&d.maps)){console.log("[] window.naver.maps ..."),setTimeout(o,100);return}ee.current||(console.log("[]  "),ee.current=new window.naver.maps.Map($f.current,{center:new window.naver.maps.LatLng(37.5665,126.978),zoom:11}),window.naver.maps.Event.addListener(ee.current,"click",f=>{const p=f.coord.lat(),v=f.coord.lng();window.naver.maps.Service.reverseGeocode({coords:new window.naver.maps.LatLng(p,v),orders:"roadaddr,addr"},(y,b)=>{var P,A;let w=" ",N="";if(y===window.naver.maps.Service.Status.OK&&((P=b.v2.results)==null?void 0:P.length)>0){const M=b.v2.results[0];if(M.land){const V=M.land;N=`${M.region.area1.name} ${M.region.area2.name} ${M.region.area3.name} ${V.name||""} ${V.number1||""}`.trim(),(A=V.addition0)!=null&&A.value?w=V.addition0.value:w=`${M.region.area3.name} ${V.number1||""}`.trim()}}const O={id:Date.now(),name:w,address:N,lat:p,lng:v,type:"click"};qt(M=>[...M,O])})}),console.log("[]  !"),setTimeout(()=>Eu(),500))};setTimeout(o,300)}},[t,_]),x.useEffect(()=>{if(!ee.current){_==="route"&&Ce.length>0&&setTimeout(()=>{ee.current&&Eu()},500);return}Eu()},[Ce,_]);const yu=()=>{kr.current.forEach(o=>o.setMap(null)),kr.current=[],Ir.current.forEach(o=>o.setMap(null)),Ir.current=[],dy.current.forEach(o=>o.setMap(null)),dy.current=[],rs.current&&(rs.current.setMap(null),rs.current=null),hu(null)},Eu=()=>{if(!ee.current)return;yu();const o=Ce.filter(d=>d.lat&&d.lng);o.length!==0&&setTimeout(()=>{if(!ee.current)return;const d={};if(o.forEach((f,p)=>{const v=`${f.lat.toFixed(5)}_${f.lng.toFixed(5)}`;d[v]||(d[v]=[]),d[v].push({...f,originalIdx:p})}),Object.values(d).forEach(f=>{const p=f.length;f.forEach((v,y)=>{let b=0,w=0;if(p>1){const P=2*Math.PI/p*y,A=15e-5;b=Math.cos(P)*A,w=Math.sin(P)*A}const N=p>1,O=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(v.lat+b,v.lng+w),map:ee.current,icon:{content:`<div style="background:linear-gradient(135deg,${N?"#f59e0b":"#14b8a6"},${N?"#d97706":"#0d9488"});color:white;width:${N?"32px":"28px"};height:${N?"32px":"28px"};border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:${N?"11px":"12px"};box-shadow:0 3px 8px rgba(0,0,0,0.4);border:2px solid ${N?"#fbbf24":"white"}">${v.originalIdx+1}</div>`,anchor:new window.naver.maps.Point(N?16:14,N?16:14)},zIndex:100+v.originalIdx});window.naver.maps.Event.addListener(O,"click",()=>{iu(v.originalIdx)}),kr.current.push(O)})}),o.length>=2){const f=o.map(v=>new window.naver.maps.LatLng(v.lat,v.lng)),p=new window.naver.maps.Polyline({map:ee.current,path:f,strokeColor:"#14b8a6",strokeWeight:4,strokeOpacity:.9});Ir.current.push(p)}if(o.length===1)ee.current.setCenter(new window.naver.maps.LatLng(o[0].lat,o[0].lng)),ee.current.setZoom(15);else if(o.length>=2){const f=new window.naver.maps.LatLngBounds;o.forEach(p=>f.extend(new window.naver.maps.LatLng(p.lat,p.lng))),ee.current.fitBounds(f,{padding:50})}},100)},ZS=o=>{o.length!==0&&(fy("all"),py("all"),Nf(o.map(d=>d.id)),oa("map"),setTimeout(()=>{if(Ae.current&&o.length>0)if(o.length===1)Ae.current.setCenter(new window.naver.maps.LatLng(o[0].lat,o[0].lng)),Ae.current.setZoom(14);else{const d=new window.naver.maps.LatLngBounds;o.forEach(f=>d.extend(new window.naver.maps.LatLng(f.lat,f.lng))),Ae.current.fitBounds(d,{padding:50})}},300))},ek=o=>(n==null?void 0:n.role)==="super"||o.managerId===(n==null?void 0:n.managerId),tk=o=>{hy(o),vi(null)},nk=(o,d)=>{const f=_i.find(p=>p.id===o);f&&Yf({...f,date:d,status:d?"planned":"confirmed"})},rk=()=>{Zs.forEach(o=>{const d=_i.find(f=>f.id===o);d&&Yf({...d,status:"confirmed",expiredChecked:!0})}),Za([]),Vc(null)},sk=()=>{confirm(`${Zs.length}  ?`)&&(Zs.forEach(o=>hy(o)),Za([]),Vc(null))},ss={:{lat:37.5547,lng:126.9707},:{lat:37.5659,lng:126.9773},:{lat:37.5701,lng:126.9822},3:{lat:37.5714,lng:126.9916},5:{lat:37.5707,lng:126.9992},:{lat:37.5711,lng:127.0095},:{lat:37.5762,lng:127.0251},:{lat:37.4979,lng:127.0276},:{lat:37.5007,lng:127.0365},:{lat:37.5045,lng:127.049},:{lat:37.5089,lng:127.0637},:{lat:37.5108,lng:127.0736},:{lat:37.5133,lng:127.1001},:{lat:37.5571,lng:126.9244},:{lat:37.5495,lng:126.9138},:{lat:37.5552,lng:126.9366},:{lat:37.5569,lng:126.9463},:{lat:37.5575,lng:126.9559},:{lat:37.5601,lng:126.9635},:{lat:37.566,lng:126.9823},3:{lat:37.5665,lng:126.9918},4:{lat:37.5669,lng:126.9983},:{lat:37.5653,lng:127.0076},:{lat:37.5659,lng:127.0176},:{lat:37.565,lng:127.0296},:{lat:37.5614,lng:127.0378},:{lat:37.5568,lng:127.0441},:{lat:37.5474,lng:127.0473},:{lat:37.5446,lng:127.0558},:{lat:37.5404,lng:127.07},:{lat:37.5358,lng:127.0863},:{lat:37.5352,lng:127.0948},:{lat:37.521,lng:127.1028},:{lat:37.5114,lng:127.0833},:{lat:37.4934,lng:127.0148},:{lat:37.492,lng:127.0077},:{lat:37.4815,lng:126.9976},:{lat:37.4766,lng:126.9816},:{lat:37.4769,lng:126.9637},:{lat:37.4812,lng:126.9527},:{lat:37.4824,lng:126.9418},:{lat:37.4842,lng:126.9296},:{lat:37.4876,lng:126.9131},:{lat:37.4854,lng:126.9015},:{lat:37.4929,lng:126.8966},:{lat:37.5088,lng:126.8913},:{lat:37.5178,lng:126.8956},:{lat:37.5247,lng:126.8964},:{lat:37.5349,lng:126.9024},:{lat:37.4856,lng:127.0165},:{lat:37.4844,lng:127.0343},:{lat:37.4871,lng:127.0467},:{lat:37.4908,lng:127.0555},:{lat:37.4946,lng:127.0634},:{lat:37.4968,lng:127.0716},:{lat:37.4987,lng:127.0792},:{lat:37.4838,lng:127.0858},:{lat:37.4874,lng:127.1017},:{lat:37.5271,lng:127.0284},:{lat:37.5168,lng:127.0203},:{lat:37.5112,lng:127.0132},:{lat:37.5048,lng:127.0049},:{lat:37.5405,lng:127.0172},:{lat:37.5476,lng:127.0131},:{lat:37.5541,lng:127.0103},:{lat:37.5588,lng:127.0096},:{lat:37.5614,lng:126.9943},:{lat:37.5759,lng:126.9735},:{lat:37.5766,lng:126.9855},:{lat:37.5608,lng:126.986},:{lat:37.5587,lng:126.9785},:{lat:37.5447,lng:126.972},:{lat:37.5349,lng:126.9732},:{lat:37.5295,lng:126.9686},:{lat:37.5214,lng:126.971},:{lat:37.5082,lng:126.979},:{lat:37.4868,lng:126.9816},:{lat:37.4698,lng:126.9853},:{lat:37.5822,lng:127.0019},:{lat:37.5884,lng:127.0064},:{lat:37.5929,lng:127.0166},:{lat:37.6035,lng:127.0251},:{lat:37.6131,lng:127.03},:{lat:37.6215,lng:127.0298},:{lat:37.6381,lng:127.0257},:{lat:37.6483,lng:127.0345},:{lat:37.6531,lng:127.0476},:{lat:37.6559,lng:127.0619},:{lat:37.6612,lng:127.073},:{lat:37.6702,lng:127.0799},:{lat:37.5708,lng:126.9768},:{lat:37.5653,lng:126.9666},:{lat:37.5476,lng:126.9312},:{lat:37.5247,lng:126.856},:{lat:37.5263,lng:126.875},:{lat:37.5242,lng:126.887},:{lat:37.5256,lng:126.8845},:{lat:37.5225,lng:126.9057},:{lat:37.5216,lng:126.9242},:{lat:37.5271,lng:126.9328},:{lat:37.5392,lng:126.946},:{lat:37.544,lng:126.9517},:{lat:37.5532,lng:126.9568},:{lat:37.5571,lng:127.0296},:{lat:37.5669,lng:127.052},:{lat:37.5613,lng:127.0641},:{lat:37.557,lng:127.0793},:{lat:37.5513,lng:127.0882},:{lat:37.5452,lng:127.1031},:{lat:37.5389,lng:127.1236},:{lat:37.5352,lng:127.1323},:{lat:37.5343,lng:127.1427},:{lat:37.5352,lng:127.152},:{lat:37.5424,lng:127.1441},:{lat:37.555,lng:127.1541},:{lat:37.5571,lng:127.167},:{lat:37.5344,lng:126.9945},:{lat:37.5342,lng:126.9874},:{lat:37.539,lng:126.9617},:{lat:37.5474,lng:126.9434},:{lat:37.5477,lng:126.9225},:{lat:37.5555,lng:126.9105},:{lat:37.5635,lng:126.904},:{lat:37.5681,lng:126.8972},:{lat:37.5769,lng:126.8997},:{lat:37.583,lng:126.9096},:{lat:37.5851,lng:126.918},:{lat:37.5933,lng:126.9179},:{lat:37.6017,lng:126.9214},:{lat:37.6107,lng:126.9301},:{lat:37.6149,lng:126.9391},:{lat:37.6189,lng:126.9209},:{lat:37.6159,lng:126.9114},:{lat:37.5397,lng:127.0019},:{lat:37.5474,lng:127.0071},:{lat:37.5602,lng:127.0149},:{lat:37.5718,lng:127.0166},:{lat:37.5798,lng:127.0147},:{lat:37.5868,lng:127.0195},:{lat:37.5863,lng:127.029},:{lat:37.5895,lng:127.034},:{lat:37.6017,lng:127.038},:{lat:37.6062,lng:127.0442},:{lat:37.6105,lng:127.0512},:{lat:37.6153,lng:127.0661},:{lat:37.6177,lng:127.0754},:{lat:37.6199,lng:127.0842},:{lat:37.6188,lng:127.0914},:{lat:37.5109,lng:127.0218},:{lat:37.5145,lng:127.0316},:{lat:37.5172,lng:127.0412},:{lat:37.5198,lng:127.0535},:{lat:37.5316,lng:127.0667},:{lat:37.5475,lng:127.0743},:{lat:37.5656,lng:127.084},:{lat:37.5735,lng:127.0869},:{lat:37.5802,lng:127.089},:{lat:37.5887,lng:127.087},:{lat:37.5966,lng:127.0851},:{lat:37.6026,lng:127.079},:{lat:37.6107,lng:127.0768},:{lat:37.6253,lng:127.0729},:{lat:37.6371,lng:127.0669},:{lat:37.6442,lng:127.064},:{lat:37.665,lng:127.0581},:{lat:37.6748,lng:127.0565},:{lat:37.6896,lng:127.0449},:{lat:37.6986,lng:127.0531},:{lat:37.5021,lng:126.9958},:{lat:37.4874,lng:126.9877},:{lat:37.4852,lng:126.9817},:{lat:37.4838,lng:126.9726},:{lat:37.4965,lng:126.9535},:{lat:37.5027,lng:126.9504},:{lat:37.5082,lng:126.9396},:{lat:37.4994,lng:126.9269},:{lat:37.4997,lng:126.9184},:{lat:37.503,lng:126.9086},:{lat:37.4865,lng:126.8873},:{lat:37.4813,lng:126.8828},:{lat:37.4762,lng:126.8687},:{lat:37.4762,lng:126.8563},:{lat:37.4792,lng:126.8421},:{lat:37.4927,lng:126.8234},:{lat:37.517,lng:127.1117},:{lat:37.5303,lng:127.1238},:{lat:37.5502,lng:127.1279},:{lat:37.5059,lng:127.1016},:{lat:37.5007,lng:127.1062},:{lat:37.4929,lng:127.1182},:{lat:37.4858,lng:127.1224},:{lat:37.4781,lng:127.1264},:{lat:37.4703,lng:127.1267},:{lat:37.4584,lng:127.15},:{lat:37.4507,lng:127.1573},:{lat:37.4455,lng:127.1574},:{lat:37.4389,lng:127.1538},:{lat:37.4345,lng:127.1508},:{lat:37.4322,lng:127.1291},:{lat:37.5794,lng:126.7975},:{lat:37.5622,lng:126.8011},:{lat:37.5596,lng:126.81},:{lat:37.5619,lng:126.8167},:{lat:37.5671,lng:126.8277},:{lat:37.5607,lng:126.8438},:{lat:37.5614,lng:126.854},:{lat:37.5587,lng:126.8622},:{lat:37.5516,lng:126.8718},:{lat:37.5471,lng:126.8773},:{lat:37.5392,lng:126.8785},:{lat:37.5331,lng:126.8936},:{lat:37.5284,lng:126.9182},:{lat:37.5176,lng:126.9324},:{lat:37.5131,lng:126.9426},:{lat:37.5122,lng:126.9527},:{lat:37.5083,lng:126.9633},:{lat:37.5079,lng:126.9882},:{lat:37.5082,lng:126.9961},:{lat:37.5027,lng:127.0147},:{lat:37.5048,lng:127.0249},:{lat:37.5075,lng:127.0345},:{lat:37.5104,lng:127.0433},:{lat:37.5114,lng:127.052},:{lat:37.5145,lng:127.0593},:{lat:37.5046,lng:127.0862},:{lat:37.5018,lng:127.0935},:{lat:37.5098,lng:127.1089},:{lat:37.5173,lng:127.1117},:{lat:37.5213,lng:127.1249},:{lat:37.5239,lng:127.1354},:{lat:37.5284,lng:127.148},:{lat:37.5416,lng:126.9714},:{lat:37.5299,lng:126.9647},:{lat:37.4984,lng:126.9265},:{lat:37.5174,lng:126.9141},:{lat:37.5159,lng:126.9073},:{lat:37.5032,lng:126.8822},:{lat:37.4569,lng:126.8957},:{lat:37.4679,lng:126.8958},:{lat:37.4796,lng:126.888},:{lat:37.5434,lng:127.0446},:{lat:37.5273,lng:127.0393},:{lat:37.4996,lng:127.0556},:{lat:37.4858,lng:127.0534},:{lat:37.48,lng:127.0509},:{lat:37.4747,lng:127.064},:{lat:37.45,lng:127.127},:{lat:37.44,lng:127.127},:{lat:37.4116,lng:127.1278},:{lat:37.3953,lng:127.1268},:{lat:37.385,lng:127.1234},:{lat:37.378,lng:127.1167},:{lat:37.3665,lng:127.1085},:{lat:37.3607,lng:127.1089},:{lat:37.3397,lng:127.1088},:{lat:37.3253,lng:127.1073},:{lat:37.3127,lng:127.1116},:{lat:37.2997,lng:127.1078},:{lat:37.2853,lng:127.1092},:{lat:37.275,lng:127.116},:{lat:37.265,lng:127.1182},:{lat:37.252,lng:127.0773},:{lat:37.2519,lng:127.0549},:{lat:37.244,lng:127.0471},:{lat:37.2399,lng:127.036},:{lat:37.2634,lng:127.0323},:{lat:37.267,lng:127.0119},:{lat:37.266,lng:126.9996},:{lat:37.47,lng:127.0391},:{lat:37.4509,lng:127.0538},:{lat:37.3947,lng:127.1115},:{lat:37.5313,lng:127.0369},:{lat:37.5805,lng:127.047},:{lat:37.5895,lng:127.0575},:{lat:37.5971,lng:127.0665},:{lat:37.5992,lng:127.0919},:{lat:37.6079,lng:127.1071},:{lat:37.5988,lng:127.1394},:{lat:37.6084,lng:127.1475},:{lat:37.6102,lng:127.162},:{lat:37.5879,lng:127.1901},:{lat:37.58,lng:127.2083},:{lat:37.5231,lng:127.2798},:{lat:37.5411,lng:127.312},:{lat:37.5456,lng:127.3204},:{lat:37.5508,lng:127.3459},:{lat:37.5633,lng:127.3704},:{lat:37.5664,lng:127.3964},:{lat:37.563,lng:127.4163},:{lat:37.4858,lng:127.4623},:{lat:37.4319,lng:127.5053},:{lat:37.6635,lng:127.0115},:{lat:37.6575,lng:127.0123},"4.19":{lat:37.6517,lng:127.0134},:{lat:37.6459,lng:127.0147},:{lat:37.6398,lng:127.0161},:{lat:37.6316,lng:127.0183},:{lat:37.6263,lng:127.0197},:{lat:37.6188,lng:127.0215},:{lat:37.6135,lng:127.0224},:{lat:37.6073,lng:127.0243},:{lat:37.5359,lng:126.7385},:{lat:37.559,lng:126.6882},:{lat:37.5323,lng:126.6416},:{lat:37.4929,lng:126.4939},:{lat:37.4974,lng:126.4692},:{lat:37.4465,lng:126.4519},1:{lat:37.4493,lng:126.4514},2:{lat:37.4604,lng:126.4419},:{lat:37.512,lng:127.059},:{lat:37.5111,lng:127.098},:{lat:37.5512,lng:126.9882},:{lat:37.5796,lng:126.977},:{lat:37.5794,lng:126.991},:{lat:37.5658,lng:126.9749},:{lat:37.5673,lng:127.0095},DDP:{lat:37.5673,lng:127.0095},:{lat:37.5344,lng:126.9945},:{lat:37.5608,lng:126.986},:{lat:37.574,lng:126.985},:{lat:37.5825,lng:126.985},:{lat:37.5716,lng:126.9769},:{lat:37.5695,lng:126.978},:{lat:37.5256,lng:126.9227},:{lat:37.5284,lng:126.934},:{lat:37.5213,lng:127.1249},:{lat:37.5434,lng:127.0446},:{lat:37.6207,lng:127.0404},:{lat:37.5681,lng:126.8972},:{lat:37.5151,lng:127.073},:{lat:37.4982,lng:126.8671},:{lat:37.5203,lng:127.023},:{lat:37.5198,lng:127.0535},:{lat:37.5273,lng:127.0393},:{lat:37.5446,lng:127.0558},:{lat:37.5665,lng:126.9918},:{lat:37.574,lng:126.989},:{lat:37.56,lng:126.922},:{lat:37.55,lng:126.91},:{lat:37.542,lng:126.985},:{lat:37.537,lng:126.992}},Sy=o=>{const d=o.trim();if(ss[d])return ss[d];if(ss[d+""])return ss[d+""];if(d.endsWith("")&&ss[d.slice(0,-1)])return ss[d.slice(0,-1)];const p=Object.keys(ss).find(v=>v.includes(d)||d.includes(v));return p?ss[p]:null},ky=()=>{if(Bf.trim()&&Ae.current){const o=Bf.trim(),d=Sy(o);if(d){Ae.current.setCenter(new window.naver.maps.LatLng(d.lat,d.lng)),Ae.current.setZoom(16),ea.current.forEach(v=>v.setMap(null)),ea.current=[];const p=new window.naver.maps.Circle({map:Ae.current,center:new window.naver.maps.LatLng(d.lat,d.lng),radius:200,fillColor:"#14b8a6",fillOpacity:.3,strokeColor:"#0d9488",strokeWeight:2});ea.current.push(p),setTimeout(()=>p.setMap(null),5e3);return}const f=Jf.current.filter(p=>p.region&&p.region.toLowerCase().includes(o.toLowerCase()));if(f.length>0){ZS(f);return}window.naver.maps.Service.geocode({query:o},(p,v)=>{if(p===window.naver.maps.Service.Status.OK&&v.v2.addresses&&v.v2.addresses.length>0){const y=v.v2.addresses[0],b=parseFloat(y.y),w=parseFloat(y.x);Ae.current.setCenter(new window.naver.maps.LatLng(b,w)),Ae.current.setZoom(16),ea.current.forEach(O=>O.setMap(null)),ea.current=[];const N=new window.naver.maps.Circle({map:Ae.current,center:new window.naver.maps.LatLng(b,w),radius:200,fillColor:"#14b8a6",fillOpacity:.3,strokeColor:"#0d9488",strokeWeight:2});ea.current.push(N),setTimeout(()=>N.setMap(null),5e3)}else alert("  .")})}else XS()},ca=o=>o?o.replace(/[^0-9]/g,""):"",ak=(o,d,f,p)=>{if(!o||!d||!f||!p)return 1/0;const v=6371e3,y=(f-o)*Math.PI/180,b=(p-d)*Math.PI/180,w=Math.sin(y/2)*Math.sin(y/2)+Math.cos(o*Math.PI/180)*Math.cos(f*Math.PI/180)*Math.sin(b/2)*Math.sin(b/2),N=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return v*N},Xf=(o,d)=>{if(!o||!d||d.length===0)return{isDuplicate:!1,matchedCompany:null};const f=o.name||o.officeName||o.realtorName||"",p=o.address||"",v=o.regNo||"",y=o.lat,b=o.lng,w=[ca(o.phone||""),ca(o.cellPhone||""),ca(o.officePhone||""),ca(o.mobile||"")].filter(M=>M&&M.length>=4),N=M=>(M||"").replace(/||||||/g,"").replace(/\s+/g,"").trim(),O=M=>{if(!M)return"";const te=M.replace(/|||||/g,"").replace(/\([^)]*\)/g,"").trim().match(/(\S+)\s*(\S+(?:||))\s*(\d+(?:-\d+)?)/);return te?`${te[1]}_${te[2]}_${te[3]}`:""},P=N(f),A=O(p);for(const M of d){const V=M.name||"",te=M.address||"",I=M.regNo||"",re=M.lat,$=M.lng,H=[ca(M.phone||""),ca(M.contact||""),ca(M.mobile||"")].filter(ue=>ue&&ue.length>=4),q=N(V),z=O(te);if(v&&I&&v===I)return{isDuplicate:!0,matchedCompany:M,reason:"regNo"};if(ak(y,b,re,$)<=30&&P&&q&&P===q)return{isDuplicate:!0,matchedCompany:M,reason:"location+name"};if(w.some(ue=>H.some(pe=>ue===pe)))return{isDuplicate:!0,matchedCompany:M,reason:"phone"};if(A&&z&&A===z&&P&&q&&P===q)return{isDuplicate:!0,matchedCompany:M,reason:"address+name"};if(P&&q&&P===q){const ue=p.match(/(\S+)/),pe=te.match(/(\S+)/);if(ue&&pe&&ue[1]===pe[1])return{isDuplicate:!0,matchedCompany:M,reason:"name_in_gu"}}}return{isDuplicate:!1,matchedCompany:null}},Zf=(o,d)=>Xf(o,d).isDuplicate,ep=(o,d=null)=>new Promise(f=>{var y,b;if(!((b=(y=window.naver)==null?void 0:y.maps)!=null&&b.Service)){f(null);return}const p=w=>new Promise(N=>{if(!w){N(null);return}window.naver.maps.Service.geocode({query:w},(O,P)=>{var A;if(O===window.naver.maps.Service.Status.OK&&((A=P.v2.addresses)==null?void 0:A.length)>0){const M=P.v2.addresses[0];N({lat:parseFloat(M.y),lng:parseFloat(M.x)})}else N(null)})});(async()=>{if(o){const w=await p(o);if(w)return f(w)}if(d){const w=await p(d);if(w)return f(w)}if(o){const w=o.replace(/\s*\d+.*$/,"").replace(/\s*\d+.*$/,"").replace(/\s*,.*$/,"").trim();if(w!==o){const N=await p(w);if(N)return f(N)}}if(o){const w=o.match(/(||||||||||||||||)[^\s]*\s+[^\s]+/);if(w){const N=await p(w[0]);if(N)return f(N)}}f(null)})()}),lk=o=>{const d=cs(),f=$t.filter(y=>y.date!==d?!1:o.role==="super"?!0:y.managerId===o.managerId),p=Be.filter(y=>y.date!==d?!1:o.role==="super"?!0:y.managerId===o.managerId),v=[...f.map(y=>({type:"calendar",...y})),...p.map(y=>{var b;return{type:"route",title:`: ${((b=y.stops)==null?void 0:b.length)||0} `,...y}})];v.length>0&&(fS(v),yf(!0))},ik=()=>{const o=Gp();return o.dayOfWeek!==1?!1:o.day>=22&&o.day<=28},ok=o=>{if(o.role==="super"||!ik())return;const d=Gp(),f=d.month+1>11?0:d.month+1,v=`${d.month+1>11?d.year+1:d.year}-${String(f+1).padStart(2,"0")}`;$t.some(b=>{var w;return b.managerId===o.managerId&&((w=b.date)==null?void 0:w.startsWith(v))})||xf(!0)},Iy=async o=>new Promise((d,f)=>{const p=new FileReader;p.onload=async()=>{var v,y,b,w;try{const N=p.result.split(",")[1],P=await(await fetch(`https://vision.googleapis.com/v1/images:annotate?key=${eL}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:N},features:[{type:"TEXT_DETECTION"}]}]})})).json();if((w=(b=(y=(v=P.responses)==null?void 0:v[0])==null?void 0:y.textAnnotations)==null?void 0:b[0])!=null&&w.description){const A=P.responses[0].textAnnotations[0].description,M=ck(A);d(M)}else d({raw:"",name:"",contact:"",phone:"",address:""})}catch(N){f(N)}},p.onerror=f,p.readAsDataURL(o)}),ck=o=>{const d=o.split(`
`).map(P=>P.trim()).filter(P=>P);let f="",p="",v="",y="";const b=[/010[-\s]?\d{4}[-\s]?\d{4}/,/02[-\s]?\d{3,4}[-\s]?\d{4}/,/0\d{1,2}[-\s]?\d{3,4}[-\s]?\d{4}/];for(const P of d){for(const A of b){const M=P.match(A);if(M){v=M[0].replace(/[-\s]/g,"");break}}if(v)break}const w=/(||||||||||||||||)[^\n]+?(|||||)[^\n]*\d*/;for(const P of d){const A=P.match(w);if(A){y=A[0];break}}const N=[/\s*[:\s]*([-]{2,4})/,/([-]{2,4})\s*(|||||||)/,/^([-]{2,4})$/];for(const P of d){for(const A of N){const M=P.match(A);if(M){p=M[1]||M[0];break}}if(p)break}const O=[/([-]+)/,/([-]+)/,/([-]+)/];for(const P of d){for(const A of O){const M=P.match(A);if(M){f=M[1];break}}if(f)break}return{raw:o,name:f,contact:p,phone:v,address:y}},uk=async o=>{var f;const d=(f=o.target.files)==null?void 0:f[0];if(d){Qc(!0),Yc(!0);try{const p=await Iy(d);gf(p),lt({...ne,name:p.name||"",contact:p.contact||"",phone:p.phone||"",address:p.address||""})}catch(p){console.error("OCR :",p),alert("  .")}finally{Qc(!1),o.target.value=""}}},dk=async o=>{const d=Array.from(o.target.files||[]).slice(0,10);if(d.length!==0){Qc(!0),hf(!0),er([]);try{const f=[];for(let p=0;p<d.length;p++){const v=await Iy(d[p]);f.push({...v,managerId:(n==null?void 0:n.managerId)||null,reaction:"neutral",memo:""})}er(f)}catch(f){console.error("OCR :",f),alert("    .")}finally{Qc(!1),o.target.value=""}}},mk=()=>{const o=_n.filter(d=>d.name);if(o.length===0)return alert("  .");o.forEach((d,f)=>{const p={id:Date.now()+f,name:d.name,contact:d.contact,phone:d.phone,address:d.address,region:d.address,managerId:d.managerId,reaction:d.reaction,memo:d.memo,createdAt:new Date().toLocaleString("ko-KR")};Pr(p)}),alert(`${o.length}  .`),er([]),hf(!1)},fk=(o,d,f,p)=>{const v=P=>P*Math.PI/180,y=P=>P*180/Math.PI,b=v(p-d),w=Math.sin(b)*Math.cos(v(f)),N=Math.cos(v(o))*Math.sin(v(f))-Math.sin(v(o))*Math.cos(v(f))*Math.cos(b);return(y(Math.atan2(w,N))+360)%360},pk=(o,d,f,p)=>{if(!ee.current)return;const v=new window.naver.maps.LatLng(o,d);Tr.current||(Tr.current=new window.naver.maps.Marker({position:v,map:ee.current,icon:{content:"",anchor:new window.naver.maps.Point(20,20)},zIndex:1e3})),Tr.current.setPosition(v);const y=f||0;Tr.current.setIcon({content:`<div style="position: relative; width: 40px; height: 40px;">
 <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(${y}deg);">
 <div style="width: 0; height: 0; border-left: 8px solid transparent; border-right: 8px solid transparent; border-bottom: 20px solid #4285f4; filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));"></div>
 </div>
 <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #4285f4; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3);">
 <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 6px; height: 6px; background: white; border-radius: 50%;"></div>
 </div>
 </div>`,anchor:new window.naver.maps.Point(20,20)}),p&&p<500&&(Rr.current?(Rr.current.setCenter(v),Rr.current.setRadius(p)):Rr.current=new window.naver.maps.Circle({map:ee.current,center:v,radius:p,fillColor:"#4285f4",fillOpacity:.1,strokeColor:"#4285f4",strokeOpacity:.3,strokeWeight:1}))},hk=()=>{if(mu)al.current&&(navigator.geolocation.clearWatch(al.current),al.current=null),Tr.current&&(Tr.current.setMap(null),Tr.current=null),Rr.current&&(Rr.current.setMap(null),Rr.current=null),ll.current=null,pu.current=0,Wf(!1),my(null);else{if(!navigator.geolocation)return alert("GPS   .");Wf(!0),al.current=navigator.geolocation.watchPosition(o=>{const{latitude:d,longitude:f,accuracy:p,heading:v,speed:y}=o.coords,b={lat:d,lng:f};my(b);let w=pu.current;if(ll.current){const N=ll.current.lat,O=ll.current.lng;Math.sqrt(Math.pow(d-N,2)+Math.pow(f-O,2))*111e3>2&&(w=fk(N,O,d,f),pu.current=w,ll.current=b)}else ll.current=b;v&&!isNaN(v)&&y>.3&&(w=v,pu.current=v),pk(d,f,w,p)},o=>{console.error("GPS :",o);let d="GPS  .";o.code===1?d="GPS  .    .":o.code===2?d="GPS    .":o.code===3&&(d="GPS   ."),alert(d),Wf(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}},gk=()=>{fu&&ee.current?(ee.current.setCenter(new window.naver.maps.LatLng(fu.lat,fu.lng)),ee.current.setZoom(16)):alert("    . GPS .")};x.useEffect(()=>()=>{al.current&&navigator.geolocation.clearWatch(al.current),Tr.current&&Tr.current.setMap(null),Rr.current&&Rr.current.setMap(null),rs.current&&rs.current.setMap(null)},[]),x.useEffect(()=>{if(t&&F&&n&&($t.length>0||Be.length>0)){const o=`bc_alert_shown_${cs()}_${n.managerId||"admin"}`;sessionStorage.getItem(o)||setTimeout(()=>{lk(n),sessionStorage.setItem(o,"true")},1e3)}},[t,F,$t,Be,n]),x.useEffect(()=>{t&&_==="calendar"&&n&&n.role!=="super"&&ok(n)},[_,t,n,$t]);const xu=x.useRef([]),Ty=()=>{xu.current.forEach(o=>o.setMap(null)),xu.current=[]},tp=async()=>{if(!sl.trim())return alert(" ");if(Sr.length>=10)return alert(` 10   .
    .`);Mf(!0);const o=Sy(sl);if(o&&ee.current){Mf(!1),ee.current.setCenter(new window.naver.maps.LatLng(o.lat,o.lng)),ee.current.setZoom(16),Sr.some(f=>f.lat===o.lat&&f.lng===o.lng)||Ri(f=>[...f,{id:Date.now(),name:Af.trim()||sl,address:"",lat:o.lat,lng:o.lng}]),Pf(""),Of(""),setTimeout(()=>{const f=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(o.lat,o.lng),map:ee.current,icon:{content:'<div style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; box-shadow: 0 2px 6px rgba(0,0,0,0.3); border: 2px solid white;"></div>',anchor:new window.naver.maps.Point(14,14)}});xu.current.push(f)},200);return}window.naver.maps.Service.geocode({query:sl},async(d,f)=>{var w;if(Mf(!1),d!==window.naver.maps.Service.Status.OK||!((w=f.v2.addresses)!=null&&w.length))return alert("    ");const p=f.v2.addresses[0],v=parseFloat(p.y),y=parseFloat(p.x);Sr.some(N=>N.lat===v&&N.lng===y)||Ri(N=>[...N,{id:Date.now(),name:Af.trim()||sl,address:p.roadAddress||p.jibunAddress||"",lat:v,lng:y}]),Pf(""),Of(""),ee.current&&(ee.current.setCenter(new window.naver.maps.LatLng(v,y)),ee.current.setZoom(16),setTimeout(()=>{const N=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(v,y),map:ee.current,icon:{content:'<div style="background: linear-gradient(135deg, #ef4444, #dc2626); color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; box-shadow: 0 2px 6px rgba(0,0,0,0.3); border: 2px solid white;"></div>',anchor:new window.naver.maps.Point(14,14)}});xu.current.push(N)},200))})},vk=o=>{Ri(d=>d.filter(f=>f.id!==o))},yk=()=>{if(Sr.length===0)return alert("  ");let o=0;const d=[];Sr.forEach(f=>{Ce.some(v=>v.lat===f.lat&&v.lng===f.lng)||(d.push({id:Date.now()+Math.random(),name:f.name,address:f.address,lat:f.lat,lng:f.lng,type:"search"}),o++)}),d.length>0&&qt(f=>[...f,...d]),Ri([]),Ty(),alert(`${o}   !`)},[C7,S7]=x.useState(!1);x.useRef(null);const Ek=o=>{qt(d=>d.filter(f=>f.id!==o))},Ry=(o,d)=>{const f=[...Ce],p=o+d;p<0||p>=f.length||([f[o],f[p]]=[f[p],f[o]],qt(f))},bu=(o,d,f,p)=>{const y=(f-o)*Math.PI/180,b=(p-d)*Math.PI/180,w=Math.sin(y/2)*Math.sin(y/2)+Math.cos(o*Math.PI/180)*Math.cos(f*Math.PI/180)*Math.sin(b/2)*Math.sin(b/2);return 6371*(2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w)))},Py=(o,d,f)=>{const p=[...o],v=[];let y=d,b=f;for(;p.length>0;){let w=0,N=1/0;for(let P=0;P<p.length;P++){const A=bu(y,b,p[P].lat,p[P].lng);A<N&&(N=A,w=P)}const O=p.splice(w,1)[0];v.push(O),y=O.lat,b=O.lng}return v},Ay=async(o,d,f)=>{var y,b;if(f.length<1)return null;const p="dx2ymyk2b1",v=localStorage.getItem("ncp_client_secret")||"";if(!v)return console.log("Directions API   -   "),null;try{const w=`${d},${o}`,N=`${f[f.length-1].lng},${f[f.length-1].lat}`;let O="";f.length>1&&(O=f.slice(0,-1).map(te=>`${te.lng},${te.lat}`).join("|"));let P=`https://naveropenapi.apigw.ntruss.com/map-direction-15/v1/driving?start=${w}&goal=${N}&option=trafast`;O&&(P+=`&waypoints=${O}`);const A=await fetch(P,{headers:{"X-NCP-APIGW-API-KEY-ID":p,"X-NCP-APIGW-API-KEY":v}});if(!A.ok)return null;const M=await A.json();if(M.code!==0||!((b=(y=M.route)==null?void 0:y.trafast)!=null&&b[0]))return null;const V=M.route.trafast[0];return{path:V.path,distance:V.summary.distance,duration:V.summary.duration}}catch(w){return console.error("Directions API  :",w),null}},Oy=o=>{if(!ee.current||!(o!=null&&o.path))return;rs.current&&rs.current.setMap(null);const d=o.path.map(([v,y])=>new window.naver.maps.LatLng(y,v));rs.current=new window.naver.maps.Polyline({map:ee.current,path:d,strokeColor:"#4285f4",strokeWeight:5,strokeOpacity:.8,strokeLineCap:"round",strokeLineJoin:"round"});const f=(o.distance/1e3).toFixed(1),p=Math.round(o.duration/6e4);hu({distance:f,duration:p})},xk=async()=>{const o=Ce.filter(f=>f.lat&&f.lng),d=Ce.filter(f=>!f.lat||!f.lng);if(o.length<2){alert(`   2  .
  .`);return}navigator.geolocation?navigator.geolocation.getCurrentPosition(async f=>{const p=f.coords.latitude,v=f.coords.longitude,y=Py(o,p,v),b=[...y,...d];qt(b);const w=await Ay(p,v,y);if(w){Oy(w);const N=(w.distance/1e3).toFixed(1),O=Math.round(w.duration/6e4);alert(`  !

 ${y.length} 
  : ${N}km
  : ${O}

   !`)}else{let N=bu(p,v,y[0].lat,y[0].lng);for(let O=0;O<y.length-1;O++)N+=bu(y[O].lat,y[O].lng,y[O+1].lat,y[O+1].lng);hu(null),alert(`  !

 ${y.length} 
 : ${N.toFixed(1)}km

     API  .`)}},f=>{My(o,d)},{enableHighAccuracy:!0,timeout:5e3}):My(o,d)},bk=()=>{if(Ce.length<2){alert(" 2  .");return}qt([...Ce].reverse()),alert("   !")},My=async(o,d)=>{const f=o[0],p=Py(o,f.lat,f.lng),v=[...p,...d];qt(v);const y=await Ay(f.lat,f.lng,p.slice(1));if(y){Oy(y);const b=(y.distance/1e3).toFixed(1),w=Math.round(y.duration/6e4);alert(`  !

 ${p.length} 
  : ${b}km
  : ${w}

(GPS   -   )`)}else{let b=0;for(let w=0;w<p.length-1;w++)b+=bu(p[w].lat,p[w].lng,p[w+1].lat,p[w+1].lng);hu(null),alert(`  !

 ${p.length} 
 : ${b.toFixed(1)}km

(GPS   -   )`)}},_k=o=>{const d=(o.stops||[]).filter(f=>f.lat&&f.lng);if(d.length===0)return alert("   .");Dy(o),setTimeout(()=>{if(ee.current)if(kr.current.forEach(f=>f.setMap(null)),kr.current=[],Ir.current.forEach(f=>f.setMap(null)),Ir.current=[],d.forEach((f,p)=>{const v=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(f.lat,f.lng),map:ee.current,icon:{content:`<div style="background: linear-gradient(135deg, #14b8a6, #0d9488); color: white; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 14px; box-shadow: 0 3px 8px rgba(0,0,0,0.4); border: 3px solid white;">${p+1}</div>`,anchor:new window.naver.maps.Point(16,16)}});kr.current.push(v)}),d.length>=2){const f=d.map(y=>new window.naver.maps.LatLng(y.lat,y.lng)),p=new window.naver.maps.Polyline({map:ee.current,path:f,strokeColor:"#14b8a6",strokeWeight:5,strokeOpacity:.9,strokeStyle:"solid"});Ir.current.push(p);const v=new window.naver.maps.LatLngBounds;d.forEach(y=>v.extend(new window.naver.maps.LatLng(y.lat,y.lng))),ee.current.fitBounds(v,{padding:50})}else ee.current.setCenter(new window.naver.maps.LatLng(d[0].lat,d[0].lng)),ee.current.setZoom(15)},400)},Dy=o=>{lu(o.id),Ci(o.name||""),el(o.date||new Date().toISOString().split("T")[0]),wi(o.time||"09:00"),ts(o.managerId||null),qt(o.stops||[]),iu(0),setTimeout(()=>{ee.current&&Eu()},100),window.scrollTo({top:0,behavior:"smooth"})},wk=o=>{var f;const d=((f=o.stops)==null?void 0:f.filter(p=>!p.visited))||[];d.length>0?Tf({route:o,unvisitedStops:d}):np(o,!1)},np=(o,d=!1)=>{var v;const f={...o,status:"completed",completedAt:new Date().toISOString()},p=Be.map(y=>y.id===o.id?f:y);if(sy(p),localStorage.setItem("bc_routes",JSON.stringify(p)),d){const y=((v=o.stops)==null?void 0:v.filter(w=>!w.visited))||[];let b=0;y.forEach(w=>{const N=ce.find(O=>{var P,A;return O.name===w.name||((P=O.name)==null?void 0:P.includes(w.name))||((A=w.name)==null?void 0:A.includes(O.name))});if(N&&N.managerId){const O={...N,managerId:null};Pr(O),b++}}),b>0?alert(`  .
  ${b}   .`):alert("  .")}else alert("  .");Tf(null)},Nk=()=>{lu(null),Ci(""),qt([]),el(cs()),wi("09:00"),ts((n==null?void 0:n.managerId)||null),yu(),localStorage.removeItem("bc_temp_route")},Ly=()=>{if(Ce.length===0)return alert(" /  ");if(!Ni.trim())return alert("  (:  )");const o=Sf||(n==null?void 0:n.managerId)||0;if(!o&&(n==null?void 0:n.role)!=="super")return alert(" ");if(ta){const f={...Be.find(p=>p.id===ta),name:Ni.trim(),date:su,time:au,managerId:o,stops:Ce.map(p=>({...p,visited:p.visited||!1}))};vu(f),lu(null),alert(" !")}else{const d={id:Date.now(),name:Ni.trim(),date:su,time:au,managerId:o,stops:Ce.map(f=>({...f,visited:!1})),status:"planned",createdAt:new Date().toISOString()};vu(d),alert(" !")}Ci(""),qt([]),el(cs()),wi("09:00"),ts((n==null?void 0:n.managerId)||null),yu(),localStorage.removeItem("bc_temp_route")},Fy=o=>{if(o<0||o>=Ce.length)return;iu(o);const d=Ce[o];d.lat&&d.lng&&ee.current&&(ee.current.setCenter(new window.naver.maps.LatLng(d.lat,d.lng)),ee.current.setZoom(16))},Ck=(o,d)=>{iu(d),o.lat&&o.lng&&ee.current&&(ee.current.setCenter(new window.naver.maps.LatLng(o.lat,o.lng)),ee.current.setZoom(16))},Sk=(o,d)=>{const f=Be.find(w=>w.id===o);if(!f)return;const p=f.stops.find(w=>w.id===d),v=!(p!=null&&p.visited),y=f.stops.map(w=>w.id===d?{...w,visited:!w.visited}:w),b=y.every(w=>w.visited);if(vu({...f,stops:y,status:b?"completed":"planned"}),v&&(p!=null&&p.name)){const w=ce.find(N=>N.name===p.name);w&&Pr({...w,lastVisitDate:new Date().toISOString()})}(on==null?void 0:on.id)===o&&Nr({...f,stops:y,status:b?"completed":"planned"})},kk=o=>{const d=Be.find(v=>v.id===o);if(!d)return;const f=d.stops.map(v=>({...v,visited:!0}));vu({...d,stops:f,status:"completed"});const p=(d.stops||[]).filter(v=>v.name&&!ce.find(y=>y.name===v.name));p.forEach(v=>{const y={id:Date.now()+Math.random(),name:v.name,address:v.address||"",managerId:d.managerId,reaction:"positive",fromRoute:d.name,createdAt:new Date().toISOString()};Pr(y)}),Nr(null),p.length>0?alert(`  !
${p.length}   .`):alert("  !")},Ik=o=>{if(!o.lat||!o.lng)return alert("    ");Nr(null),oa("map"),setTimeout(()=>{if(!Ae.current)return;Tk(),Ae.current.setCenter(new window.naver.maps.LatLng(o.lat,o.lng)),Ae.current.setZoom(17);const d=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(o.lat,o.lng),map:Ae.current,icon:{content:`<div style="background: linear-gradient(135deg, #14b8a6, #0d9488); color: white; padding: 8px 12px; border-radius: 20px; font-weight: bold; font-size: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.3); border: 2px solid white; white-space: nowrap;">${o.name}</div>`,anchor:new window.naver.maps.Point(50,20)}});jf.current.push(d);const f=new window.naver.maps.Circle({map:Ae.current,center:new window.naver.maps.LatLng(o.lat,o.lng),radius:100,fillColor:"#14b8a6",fillOpacity:.2,strokeColor:"#d97706",strokeWeight:2});ea.current.push(f)},300)},Tk=()=>{uy.current.forEach(o=>o.setMap(null)),uy.current=[],jf.current.forEach(o=>o.setMap(null)),jf.current=[]},Rk=o=>{const d=(o.stops||[]).filter(f=>f.lat&&f.lng);if(d.length===0)return alert("   ");oa("route"),setTimeout(()=>{if(ee.current)if(kr.current.forEach(f=>f.setMap(null)),kr.current=[],Ir.current.forEach(f=>f.setMap(null)),Ir.current=[],d.forEach((f,p)=>{const v=new window.naver.maps.Marker({position:new window.naver.maps.LatLng(f.lat,f.lng),map:ee.current,icon:{content:`<div style="background: linear-gradient(135deg, #00C73C, #00a832); color: white; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 13px; box-shadow: 0 2px 6px rgba(0,0,0,0.3); border: 2px solid white;">${p+1}</div>`,anchor:new window.naver.maps.Point(14,14)}});kr.current.push(v)}),d.length>=2){const f=d.map(y=>new window.naver.maps.LatLng(y.lat,y.lng)),p=new window.naver.maps.Polyline({map:ee.current,path:f,strokeColor:"#14b8a6",strokeWeight:4,strokeOpacity:.8,strokeStyle:"solid"});Ir.current.push(p);const v=new window.naver.maps.LatLngBounds;d.forEach(y=>v.extend(new window.naver.maps.LatLng(y.lat,y.lng))),ee.current.fitBounds(v,{padding:50})}else ee.current.setCenter(new window.naver.maps.LatLng(d[0].lat,d[0].lng)),ee.current.setZoom(15)},300)},Mi=(o,d)=>{if(!o)return;const f={isOnline:d,lastSeen:new Date().toISOString()};se.ref("userStatus/"+o).set(f)},Uy=async()=>{try{const o=a.includes("@")?a:`${a}@beancraft.com`,f=(await un.auth().signInWithEmailAndPassword(o,i)).user;let p=null;const v=o.split("@")[0];if(v==="admin")p={name:"admin",role:"super",email:f.email};else{const b=(await se.ref("managers").once("value")).val(),N=(b?Object.values(b):[]).find(O=>O.username===v||O.email===o);if(N){let O=N.name;const P=Bu.find(A=>A.username===v||A.id===N.id);P&&(!N.name||N.name.length<2||N.name.includes(""))&&(O=P.name,console.log(`[]   : ${N.name} -> ${O}`),se.ref("managers/"+N.id).update({name:O})),p={name:O,role:"manager",managerId:N.id,username:N.username,email:f.email}}else p={name:v,role:"manager",email:f.email}}r(p),e(!0),setTimeout(()=>{r(y=>y&&{...y})},150),p.managerId&&ts(p.managerId),localStorage.setItem("bc_session",JSON.stringify({user:p,expiry:Date.now()+6*60*60*1e3})),u?localStorage.setItem("bc_remember_login",JSON.stringify({id:a,pw:i,expiry:Date.now()+30*24*60*60*1e3})):localStorage.removeItem("bc_remember_login"),p.managerId&&Mi(p.managerId,!0)}catch(o){console.error(" :",o),o.code==="auth/user-not-found"?alert("  "):o.code==="auth/wrong-password"?alert("  "):o.code==="auth/invalid-email"?alert("   "):alert(" : "+o.message)}},Pk=async()=>{n!=null&&n.managerId&&Mi(n.managerId,!1);try{await un.auth().signOut()}catch{}e(!1),r(null),localStorage.removeItem("bc_session"),Ae.current=null,ee.current=null,of([]),Dc(null),Ja(null)};x.useEffect(()=>{const o=()=>{n!=null&&n.managerId&&se.ref("userStatus/"+n.managerId).set({isOnline:!1,lastSeen:new Date().toISOString()})};return window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)},[n]),x.useEffect(()=>{if(!(n!=null&&n.managerId))return;const o=setInterval(()=>{Mi(n.managerId,!0)},6e4);return()=>clearInterval(o)},[n]);const jy=async()=>{if(!tr.trim())return alert("  ");if(tr!==Xc)return alert("  ");if(tr.length<6)return alert(" 6  ");try{const o=un.auth().currentUser;if(!o)return alert(" ");await o.updatePassword(tr),cf(!1),Jc(""),Zc(""),alert(" ")}catch(o){console.error("  :",o),o.code==="auth/requires-recent-login"?alert("     "):alert("  : "+o.message)}},$y=async()=>{if(Vv){if(!bi.trim())return alert("  ");if(bi!==ey)return alert("  ");if(bi.length<6)return alert(" 6  ");try{const o=un.auth().currentUser;if(!o)return alert(" ");await o.updatePassword(bi),uf(!1),Zv(""),ty(""),alert("  ")}catch(o){o.code==="auth/requires-recent-login"?alert("     "):alert("  : "+o.message)}}else{if(!tr.trim())return alert("  ");if(tr!==Xc)return alert("  ");if(tr.length<6)return alert(" 6  ");try{const o=un.auth().currentUser;if(!o)return alert(" ");await o.updatePassword(tr),Jc(""),Zc(""),alert("  ")}catch(o){o.code==="auth/requires-recent-login"?alert("     "):alert("  : "+o.message)}}},Wy=async()=>{if(!ne.name.trim())return alert(" ");let o=null,d=null;if(ne.address){const b=await ep(ne.address,ne.name);b&&(o=b.lat,d=b.lng)}const f=Fn?ne.managerId:n==null?void 0:n.managerId,p={id:Date.now(),...ne,managerId:f,lat:o,lng:d,isReregistered:ne.isReregistered||!1,usedMents:Fv,mentMemo:QC,createdAt:new Date().toLocaleString("ko-KR")};Pr(p);const v=ne.reaction==="positive"||ne.reaction==="special";Fv.forEach(b=>YS(b,v));const y=Hb[Math.floor(Math.random()*Hb.length)];if(mf({companyName:ne.name,quote:y}),ne.reaction==="positive"||ne.reaction==="special"){const b=new Date;b.setDate(b.getDate()+1);const w=b.toISOString().split("T")[0],N={id:Date.now()+1,date:w,title:`${ne.name}`,managerId:f,memo:`, .    .    ?

: ${ne.contact||"-"}
: ${ne.phone||"-"}
: ${ne.address||"-"}`,type:"followup",companyId:p.id};Qf(N);const O=new Date;O.setMonth(O.getMonth()+1);const P=O.toISOString().split("T")[0],A={id:Date.now()+2,date:P,title:`${ne.name}`,managerId:f,memo:`, . .      ?

: ${ne.contact||"-"}
: ${ne.phone||"-"}
: ${ne.address||"-"}`,type:"followup",companyId:p.id};Qf(A)}lt({name:"",contact:"",address:"",phone:"",region:"",managerId:null,reaction:"neutral",memo:"",isReregistered:!1}),$S(""),YC([]),JC("")},Ak=async()=>{if(!St)return;let o={...St};if(o.address&&(!o.lat||!o.lng)){const d=await ep(o.address,o.name);d&&(o.lat=d.lat,o.lng=d.lng)}Pr(o),ft(null)},zy=o=>{nl({type:"company",id:o.id,name:o.name})},Ok=()=>{if(!bf.trim())return alert(" ");const o=bf.split(`
`).map(f=>f.trim()).filter(f=>f),d=[];o.forEach(f=>{const p=f.split("/").map(A=>A.trim());if(p.length<1||!p[0])return;const[v,y,b,w,N]=p;let O=Jv;N&&(N===""?O="negative":N===""?O="neutral":N===""?O="positive":N===""&&(O="special"));const P=w||hS||"";d.push({name:v,contact:y||"",phone:b||"",managerId:Yv,region:P,address:P,reaction:O})}),d.forEach((f,p)=>{const v={id:Date.now()+p,...f,createdAt:new Date().toLocaleString("ko-KR")};Pr(v)}),qv(""),Qv(null),gS(""),vS(""),Xv("neutral"),$c(!1),alert(`${d.length}  .`)},Mk=()=>{if(!Yt.name.trim())return alert(" ");const o={id:Date.now(),...Yt,createdAt:new Date().toLocaleString("ko-KR")};gy(o),la({name:"",phone:"",managerId:null,consultDate:"",note:"",status:"consult",memo:""})},Dk=()=>{pt&&(gy(pt),bn(null))},Lk=()=>{if(!Ln.managerId||!Ln.amount)return alert("  ");const o={id:Date.now(),...Ln,amount:Number(Ln.amount),date:Ln.date||cs()};vy(o),gu({managerId:null,companyId:null,amount:"",date:"",note:""}),Hc(!1)},_u=async()=>{var o,d,f,p,v;if(Qs.trim()){Av(!0),Pv(null);try{const y=`    .      .

: ${Qs}

 JSON   (  JSON):
{
  "overview": {
    "population": " 2.5",
    "households": " 1.2 ",
    "stores": "127",
    "avgRent": " 300",
    "source": "https://sg.sbiz.or.kr"
  },
  "consumers": [
    {"label": "20", "percent": 35, "source": "https://kosis.kr"},
    {"label": "30", "percent": 28, "source": "https://kosis.kr"},
    {"label": "40", "percent": 22, "source": "https://kosis.kr"},
    {"label": "50 ", "percent": 15, "source": "https://kosis.kr"}
  ],
  "franchises": [
    {"name": "", "count": 12},
    {"name": "", "count": 8},
    {"name": "", "count": 6},
    {"name": "", "count": 5},
    {"name": "", "count": 3}
  ],
  "development": [
    "2025 GTX-A   ",
    "    ",
    "  "
  ],
  "risks": [
    "   ",
    "  ",
    "  "
  ],
  "insight": "      20-30  .   ,        .            ."
}`,O=(((v=(p=(f=(d=(o=(await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${sf}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:y}]}],generationConfig:{temperature:.7}})})).json()).candidates)==null?void 0:o[0])==null?void 0:d.content)==null?void 0:f.parts)==null?void 0:p[0])==null?void 0:v.text)||"").match(/\{[\s\S]*\}/);if(O){const P=JSON.parse(O[0]);Pv(P),setTimeout(()=>{if(window.naver&&window.naver.maps){const A=document.getElementById("sales-mode-map")||document.getElementById("report-region-map");A&&window.naver.maps.Service.geocode({query:Qs},(M,V)=>{let te=new window.naver.maps.LatLng(37.5665,126.978);if(M===window.naver.maps.Service.Status.OK&&V.v2.addresses.length>0){const re=V.v2.addresses[0];te=new window.naver.maps.LatLng(parseFloat(re.y),parseFloat(re.x))}const I=new window.naver.maps.Map(A,{center:te,zoom:16});new window.naver.maps.Marker({position:te,map:I}),new window.naver.maps.Circle({map:I,center:te,radius:500,fillColor:"#FFA500",fillOpacity:.15,strokeColor:"#FFA500",strokeWeight:2})})}},100)}}catch(y){console.error("Sales mode search error:",y),alert("   .  .")}finally{Av(!1)}}},Fk=o=>ru.filter(d=>d.managerId===o).reduce((d,f)=>d+f.amount,0),Uk=()=>{const o=Object.entries(_f).filter(([f,p])=>p).map(([f])=>f);if(o.length===0)return alert("  ");const d={id:Date.now(),managerId:n.managerId,managerName:n.name,items:o,timestamp:new Date().toLocaleString("ko-KR"),status:"pending"};yy(d),wf({:!1,:!1,:!1,:!1}),zc(null),alert(" .")},jk=o=>{const d=ry.find(f=>f.id===o);d&&yy({...d,status:"confirmed"})},$k=(o,d,f)=>{const p=String(f).replace(/^0+/,"")||"0",v=Ee.find(y=>y.id===o);v&&qf({...v,promo:{...v.promo,[d]:Number(p)||0}})},as=Gf.trim()?ce.filter(o=>nL(o.name,Gf)):ce,Fn=(n==null?void 0:n.role)==="super",Di=ry.filter(o=>o.status==="pending"),Wk=()=>Ee,zk=o=>{if(!o)return"";const d=new Date(o),p=new Date-d,v=Math.floor(p/6e4),y=Math.floor(p/36e5),b=Math.floor(p/864e5);return v<1?" ":v<60?`${v} `:y<24?`${y} `:b<7?`${b} `:d.toLocaleDateString("ko-KR")};if(!t){const o={transition:"opacity 1.5s ease-in-out, transform 1.5s ease-in-out",willChange:"opacity, transform"};return s.createElement("div",{className:"min-h-screen flex items-center justify-center p-4 login-gradient-bg overflow-hidden"},s.createElement("div",{className:"w-full max-w-md relative",style:{minHeight:"500px"}},s.createElement("div",{className:"absolute inset-0 flex items-center justify-center",style:{...o,opacity:k==="quote"?1:0,transform:k==="quote"?"translateY(0)":"translateY(-30px)",pointerEvents:k==="quote"?"auto":"none"}},s.createElement("p",{className:"text-slate-300 text-sm sm:text-base font-normal leading-relaxed max-w-xs sm:max-w-sm mx-auto text-center",style:{wordBreak:"keep-all"}},'"',E,'"')),s.createElement("div",{className:"absolute inset-0 flex items-center justify-center",style:{...o,opacity:k==="logo"?1:0,transform:k==="logo"?"scale(1)":k==="quote"?"scale(0.9)":"scale(1.05)",pointerEvents:k==="logo"?"auto":"none"}},s.createElement("div",{className:"text-center"},s.createElement("img",{src:"/logo.png",alt:"BEANCRAFT",className:"w-40 h-40 sm:w-56 sm:h-56 mx-auto mb-4 object-contain"}),s.createElement("p",{className:"text-slate-200 text-base sm:text-lg tracking-widest font-semibold"}," "))),s.createElement("div",{className:"absolute inset-0",style:{...o,opacity:k==="form"?1:0,transform:k==="form"?"translateY(0)":"translateY(50px)",pointerEvents:k==="form"?"auto":"none"}},s.createElement("div",{className:"text-center mb-6"},s.createElement("img",{src:"/logo.png",alt:"BEANCRAFT",className:"w-28 h-28 sm:w-40 sm:h-40 mx-auto mb-3 object-contain"}),s.createElement("p",{className:"text-slate-200 text-sm sm:text-base tracking-widest font-semibold"}," ")),s.createElement("div",{className:"text-center mb-5 px-4"},s.createElement("p",{className:"text-slate-300 text-xs sm:text-sm font-normal leading-relaxed max-w-xs sm:max-w-sm mx-auto",style:{wordBreak:"keep-all"}},'"',E,'"')),s.createElement("div",{className:"bg-slate-900/80 rounded-xl p-4 sm:p-6 shadow-xl border border-slate-700"},s.createElement("input",{type:"text",placeholder:"",value:a,onChange:d=>l(d.target.value),className:"w-full p-2.5 sm:p-3 rounded-lg mb-2 sm:mb-3 bg-slate-700/50 text-white placeholder-slate-400 outline-none focus:ring-2 focus:ring-primary-500/50 border border-slate-600 text-sm font-medium"}),s.createElement("input",{type:"password",placeholder:"",value:i,onChange:d=>c(d.target.value),onKeyPress:d=>d.key==="Enter"&&Uy(),className:"w-full p-2.5 sm:p-3 rounded-lg mb-2 sm:mb-3 bg-slate-700/50 text-white placeholder-slate-400 outline-none focus:ring-2 focus:ring-primary-500/50 border border-slate-600 text-sm font-medium"}),s.createElement("label",{className:"flex items-center gap-2 text-slate-300 text-sm mb-4 cursor-pointer"},s.createElement("input",{type:"checkbox",checked:u,onChange:d=>m(d.target.checked),className:"w-4 h-4 rounded accent-primary-500"}),"  "),s.createElement("button",{type:"button",onClick:Uy,className:"w-full p-3 bg-[#1e3a5f] hover:bg-[#264a73] text-white rounded-lg font-semibold transition-all text-sm"},"")))))}const Bk=[{key:"sales",icon:"",label:""},{key:"report",icon:"",label:""},{key:"calendar",icon:"",label:""},{key:"route",icon:"",label:""},{key:"map",icon:"",label:""},{key:"managers",icon:"",label:""},{key:"companies",icon:"",label:""},{key:"realtors",icon:"",label:""},{key:"customers",icon:"",label:""},...Fn?[]:[{key:"requests",icon:"",label:""}],{key:"settings",icon:"",label:""}];return s.createElement("div",{className:`min-h-screen pb-6 ${tS==="dark"?"bg-black":"bg-slate-50"}`},s.createElement("div",{className:"bg-slate-800 border-b border-slate-600 px-4 py-3 flex justify-between items-center sticky top-0 z-50 shadow-sm"},s.createElement("div",{className:"flex items-center gap-2 sm:gap-3"},s.createElement("img",{src:"/logo.png",alt:"BEANCRAFT",className:"w-8 h-8 object-contain"}),s.createElement("span",{className:"font-semibold text-slate-200 text-sm tracking-wide"},"BEANCRAFT")),s.createElement("div",{className:"flex items-center gap-2 sm:gap-3"},Fn&&Di.length>0&&s.createElement("span",{className:"bg-rose-500 text-white text-xs px-2 py-1 rounded-full font-bold"},Di.length),s.createElement("span",{className:"text-sm text-slate-200 bg-slate-700 px-2 py-1 rounded-lg font-medium"},((By=Ee.find(o=>o.id===(n==null?void 0:n.managerId)))==null?void 0:By.name)||(n==null?void 0:n.name)),s.createElement("button",{type:"button",onClick:Pk,className:"text-slate-200 hover:text-rose-500 text-sm font-medium transition-colors"},""))),s.createElement("div",{className:"bg-slate-800 border-b border-slate-600 tabs-container scrollbar-hide"},s.createElement("div",{className:"flex justify-start sm:justify-center min-w-max px-2"},Bk.map(o=>s.createElement("button",{key:o.key,onClick:()=>oa(o.key),className:`tab-btn ${_===o.key?"active":""}`},o.label)))),Zm&&s.createElement("div",{className:"bg-gradient-to-r from-teal-600 to-emerald-600 px-4 py-3 flex items-center justify-between"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center"},s.createElement("span",{className:"text-white text-lg"},"")),s.createElement("div",null,s.createElement("p",{className:"text-white font-bold text-sm"},"   ",Zm.count,""),s.createElement("p",{className:"text-white/80 text-xs"},Zm.preview))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{onClick:()=>{oa("calendar"),Dc(null)},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 text-white text-xs font-bold rounded-lg transition-all"}," "),s.createElement("button",{onClick:()=>Dc(null),className:"w-6 h-6 flex items-center justify-center text-white/60 hover:text-white transition-colors"},""))),Uv&&s.createElement("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 px-4 py-3 flex items-center justify-between"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center"},s.createElement("span",{className:"text-white text-lg"},"")),s.createElement("div",null,s.createElement("p",{className:"text-white font-bold text-sm"},"  ",Uv.count,""),s.createElement("p",{className:"text-white/80 text-xs"},"     "))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{onClick:()=>{oa("calendar"),Ja(null)},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 text-white text-xs font-bold rounded-lg transition-all"},""),s.createElement("button",{onClick:()=>Ja(null),className:"w-6 h-6 flex items-center justify-center text-white/60 hover:text-white transition-colors"},""))),ou&&s.createElement("div",{className:"bg-gradient-to-r from-rose-600 to-pink-600 px-4 py-3 flex items-center justify-between"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center"},s.createElement("span",{className:"text-white text-lg"},"")),s.createElement("div",null,s.createElement("p",{className:"text-white font-bold text-sm"},"   ",ou.count,""),s.createElement("p",{className:"text-white/80 text-xs"},"     "))),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{onClick:()=>{ou.companies[0],alert(`[  ]

${ou.companies.map((o,d)=>`${d+1}. ${o.name}
   : ${o.address||""}
   : ${o.issue}`).join(`

`)}

     .`)},className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 text-white text-xs font-bold rounded-lg transition-all"},""),s.createElement("button",{onClick:()=>Rf(null),className:"w-6 h-6 flex items-center justify-center text-white/60 hover:text-white transition-colors"},""))),s.createElement("div",{className:"p-3 sm:p-4 max-w-6xl mx-auto"},_==="report"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"flex flex-col gap-3"},s.createElement("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3"},s.createElement("h2",{className:"font-bold text-slate-100 text-xl"}," "),s.createElement("div",{className:"flex gap-2"},Fn?s.createElement("select",{className:"select-premium text-sm py-2",value:L||"all",onChange:o=>K(o.target.value==="all"?null:o.target.value)},s.createElement("option",{value:"all"}," "),Ee.filter(o=>o.role!=="super").map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))):s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>K(n==null?void 0:n.id),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${!L||L===(n==null?void 0:n.id)?"bg-brand-purple text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`}," "),s.createElement("button",{onClick:()=>K("all"),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${L==="all"?"bg-brand-purple text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`}," ")))),s.createElement("div",{className:"flex gap-2 p-1 bg-slate-800 rounded-xl w-fit"},s.createElement("button",{onClick:()=>J("basic"),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${Y==="basic"?"bg-brand-purple text-white":"text-slate-400 hover:text-slate-200"}`}," "),s.createElement("button",{onClick:()=>{var o;if(J("ai"),!Fc){gi(null);const d=new Date,f=d.getMonth(),p=d.getFullYear(),v=L==="all"||!L?null:Number(L),y=v?ce.filter(N=>N.managerId===v):ce,w=Be.filter(N=>{const O=new Date(N.date);return O.getMonth()===f&&O.getFullYear()===p&&(!v||N.managerId===v)}).reduce((N,O)=>{var P;return N+(((P=O.stops)==null?void 0:P.length)||0)},0);af({managerName:v?((o=Ee.find(N=>N.id===v))==null?void 0:o.name)||"":" ",thisVisits:w,visitChange:0,newCompanies:ce.filter(N=>N.createdAt&&new Date(N.createdAt).getMonth()===f&&(!v||N.managerId===v)).length,consults:nu.filter(N=>N.status==="completed"&&N.createdAt&&new Date(N.createdAt).getMonth()===f).length,positiveRate:Math.round(y.filter(N=>N.reaction==="positive").length/Math.max(y.length,1)*100),positive:y.filter(N=>N.reaction==="positive").length,special:y.filter(N=>N.reaction==="special").length,neutral:y.filter(N=>N.reaction==="neutral").length,missed:y.filter(N=>N.reaction==="missed").length})}},className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${Y==="ai"?"bg-brand-purple text-white":"text-slate-400 hover:text-slate-200"}`},"AI "),s.createElement("button",{onClick:()=>J("region"),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${Y==="region"?"bg-brand-purple text-white":"text-slate-400 hover:text-slate-200"}`}," "))),Y==="basic"&&(()=>{const o=new Date,d=o.getMonth(),f=o.getFullYear(),p=d===0?11:d-1,v=d===0?f-1:f,y=L==="all"||!L?null:Number(L),b=Be.filter(G=>{const le=new Date(G.date),Te=le.getMonth()===d&&le.getFullYear()===f,Ne=!y||G.managerId===y;return Te&&Ne}),w=ce.filter(G=>{if(!G.createdAt||G.isReregistered)return!1;const le=new Date(G.createdAt),Te=le.getMonth()===d&&le.getFullYear()===f,Ne=!y||G.managerId===y;return Te&&Ne}),N=Be.filter(G=>{const le=new Date(G.date),Te=le.getMonth()===p&&le.getFullYear()===v,Ne=!y||G.managerId===y;return Te&&Ne}),O=ce.filter(G=>{if(!G.createdAt||G.isReregistered)return!1;const le=new Date(G.createdAt),Te=le.getMonth()===p&&le.getFullYear()===v,Ne=!y||G.managerId===y;return Te&&Ne}),P=b.reduce((G,le)=>{var Te;return G+(((Te=le.stops)==null?void 0:Te.length)||0)},0),A=N.reduce((G,le)=>{var Te;return G+(((Te=le.stops)==null?void 0:Te.length)||0)},0),M=w.length,V=O.length,te=y?ce.filter(G=>G.managerId===y):ce,I=te.filter(G=>G.reaction==="positive"||G.reaction==="special").length,re=te.length>0?Math.round(I/te.length*100):0,$=Math.max(0,re-Math.floor(Math.random()*10)+5),H=b.reduce((G,le)=>{var Te,Ne;return G+(((Ne=(Te=le.stops)==null?void 0:Te.filter(rt=>rt.visited))==null?void 0:Ne.length)||0)},0),q=N.reduce((G,le)=>{var Te,Ne;return G+(((Ne=(Te=le.stops)==null?void 0:Te.filter(rt=>rt.visited))==null?void 0:Ne.length)||0)},0),z=(G,le)=>le===0?G>0?100:0:Math.round((G-le)/le*100),T=z(P,A),D=z(M,V),ue=z(H,q),pe=re-$,ls=(()=>{var rt;const G=y?((rt=Ee.find(rr=>rr.id===y))==null?void 0:rt.name)||"":" ";let le="",Te="",Ne="";return le=`${G} :    ${P},   ${T>=0?"+":""}${T}%`,Ne=`  ${M} |   ${H} |   ${re}%`,T>=0?Te="     .":Te="   .",{comment:le,suggestion:Te,analysis:Ne}})(),ul=G=>{const le=new Date(f,d-G,1),Te=le.getMonth(),Ne=le.getFullYear();return Be.filter(rt=>{const rr=new Date(rt.date),ht=rr.getMonth()===Te&&rr.getFullYear()===Ne,Se=!y||rt.managerId===y;return ht&&Se}).reduce((rt,rr)=>{var ht;return rt+(((ht=rr.stops)==null?void 0:ht.length)||0)},0)},dl=["1","2","3","4","5","6","7","8","9","10","11","12"],ua=[{month:dl[(d-2+12)%12],visits:ul(2)},{month:dl[(d-1+12)%12],visits:ul(1)},{month:dl[d],visits:ul(0)}],Li=Math.max(...ua.map(G=>G.visits),1),da=Ee.filter(G=>G.role!=="super").map(G=>{const Te=b.filter(ht=>ht.managerId===G.id).reduce((ht,Se)=>{var ma;return ht+(((ma=Se.stops)==null?void 0:ma.length)||0)},0),Ne=ce.filter(ht=>ht.managerId===G.id),rt=Ne.filter(ht=>ht.reaction==="positive"||ht.reaction==="special").length,rr=Ne.length>0?Math.round(rt/Ne.length*100):0;return{...G,visits:Te,positiveRate:rr,newCompanies:w.filter(ht=>ht.managerId===G.id).length}}).sort((G,le)=>le.visits-G.visits);return s.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4"},s.createElement("div",{className:"lg:col-span-2 space-y-4"},s.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("div",{className:"text-slate-500 text-xs mb-1"},""),s.createElement("div",{className:"text-2xl font-bold text-slate-100"},P,s.createElement("span",{className:"text-sm text-slate-500 ml-1"},"")),s.createElement("div",{className:`text-xs mt-1 ${T>=0?"text-emerald-400":"text-rose-400"}`},T>=0?"":""," ",Math.abs(T),"%")),s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("div",{className:"text-slate-500 text-xs mb-1"}," "),s.createElement("div",{className:"text-2xl font-bold text-slate-100"},M,s.createElement("span",{className:"text-sm text-slate-500 ml-1"},"")),s.createElement("div",{className:`text-xs mt-1 ${D>=0?"text-emerald-400":"text-rose-400"}`},D>=0?"":""," ",Math.abs(D),"%")),s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("div",{className:"text-slate-500 text-xs mb-1"}," "),s.createElement("div",{className:"text-2xl font-bold text-slate-100"},H,s.createElement("span",{className:"text-sm text-slate-500 ml-1"},"")),s.createElement("div",{className:`text-xs mt-1 ${ue>=0?"text-emerald-400":"text-rose-400"}`},ue>=0?"":""," ",Math.abs(ue),"%")),s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("div",{className:"text-slate-500 text-xs mb-1"}," "),s.createElement("div",{className:"text-2xl font-bold text-slate-100"},re,s.createElement("span",{className:"text-sm text-slate-500 ml-1"},"%")),s.createElement("div",{className:`text-xs mt-1 ${pe>=0?"text-emerald-400":"text-rose-400"}`},pe>=0?"":""," ",Math.abs(pe),"%p"))),s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("h3",{className:"font-bold text-slate-200 mb-4"},"  "),s.createElement("div",{className:"flex items-end gap-4 h-32"},ua.map((G,le)=>s.createElement("div",{key:le,className:"flex-1 flex flex-col items-center"},s.createElement("div",{className:"text-xs text-slate-500 mb-1"},G.visits,""),s.createElement("div",{className:"w-full rounded-t transition-all duration-500 bg-slate-600",style:{height:`${Math.max(G.visits/Li*100,8)}%`,background:le===ua.length-1?"#475569":"#334155"}}),s.createElement("div",{className:"text-xs text-slate-400 mt-2"},G.month))))),s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("h3",{className:"font-bold text-slate-200 mb-4"},"  "),s.createElement("div",{className:"grid grid-cols-4 gap-3"},[{key:"positive",label:"",count:te.filter(G=>G.reaction==="positive").length},{key:"special",label:"",count:te.filter(G=>G.reaction==="special").length},{key:"neutral",label:"",count:te.filter(G=>G.reaction==="neutral").length},{key:"missed",label:"",count:te.filter(G=>G.reaction==="missed").length}].map(G=>s.createElement("div",{key:G.key,className:"text-center p-3 rounded-xl border border-slate-600"},s.createElement("div",{className:"text-xl font-bold text-slate-100"},G.count),s.createElement("div",{className:"text-xs text-slate-500"},G.label)))))),s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("div",{className:"flex items-center justify-between mb-3"},s.createElement("h3",{className:"font-bold text-slate-100"},"AI "),s.createElement("button",{onClick:()=>{var ht;gi(null);const G=new Date,le=G.getMonth(),Te=G.getFullYear(),Ne=L==="all"||!L?null:Number(L),rt=Ne?ce.filter(Se=>Se.managerId===Ne):ce,rr=Be.filter(Se=>{const ma=new Date(Se.date);return ma.getMonth()===le&&ma.getFullYear()===Te&&(!Ne||Se.managerId===Ne)});af({managerName:Ne?((ht=Ee.find(Se=>Se.id===Ne))==null?void 0:ht.name)||"":" ",thisVisits:rr.reduce((Se,ma)=>{var vE;return Se+(((vE=ma.stops)==null?void 0:vE.length)||0)},0),visitChange:0,newCompanies:ce.filter(Se=>Se.createdAt&&new Date(Se.createdAt).getMonth()===le&&(!Ne||Se.managerId===Ne)).length,consults:nu.filter(Se=>Se.status==="completed"&&Se.createdAt&&new Date(Se.createdAt).getMonth()===le).length,positiveRate:Math.round(rt.filter(Se=>Se.reaction==="positive").length/Math.max(rt.length,1)*100),positive:rt.filter(Se=>Se.reaction==="positive").length,special:rt.filter(Se=>Se.reaction==="special").length,neutral:rt.filter(Se=>Se.reaction==="neutral").length,missed:rt.filter(Se=>Se.reaction==="missed").length})},disabled:Fc,className:"text-xs px-2 py-1 rounded-full border border-slate-600 text-slate-400 hover:border-slate-500 disabled:opacity-50"}," ")),Fc?s.createElement("div",{className:"flex flex-col items-center justify-center py-8 gap-2"},s.createElement("div",{className:"animate-spin w-6 h-6 border-2 border-brand-purple border-t-transparent rounded-full"}),s.createElement("span",{className:"text-slate-400 text-sm"},"AI  ..."),mt&&s.createElement("span",{className:"text-yellow-400 text-xs"},mt)):mt&&!Kt?s.createElement("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/30"},s.createElement("p",{className:"text-red-400 text-sm font-medium mb-2"},"  "),s.createElement("p",{className:"text-slate-300 text-sm"},mt),s.createElement("button",{onClick:()=>tt(null),className:"mt-2 text-xs text-slate-400 hover:text-white"},"")):Kt?s.createElement("div",{className:"space-y-3 text-sm"},s.createElement("p",{className:"text-slate-300"},Kt.comment),Kt.analysis&&s.createElement("p",{className:"text-slate-400 text-xs"},Kt.analysis),s.createElement("div",{className:"pt-2 border-t border-slate-700"},s.createElement("p",{className:"text-slate-400 text-xs"},Kt.suggestion)),ze&&s.createElement("p",{className:"text-xs text-slate-500 pt-2 border-t border-slate-700/50"}," : ",ze.toLocaleString("ko-KR"))):s.createElement("div",{className:"space-y-3 text-sm"},s.createElement("p",{className:"text-slate-300"},ls.comment),ls.analysis&&s.createElement("p",{className:"text-slate-400 text-xs"},ls.analysis),s.createElement("div",{className:"pt-2 border-t border-slate-700"},s.createElement("p",{className:"text-slate-400 text-xs"},ls.suggestion)))),Fn&&(!L||L==="all")&&da.length>0&&s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("h3",{className:"font-bold text-slate-200 mb-3"}," "),s.createElement("div",{className:"space-y-2"},da.slice(0,5).map((G,le)=>s.createElement("div",{key:G.id,className:"flex items-center justify-between p-2 rounded-lg border border-slate-700"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-sm"},le<3?["","",""][le]:`${le+1}`),s.createElement("span",{className:"text-slate-200 text-sm"},G.name)),s.createElement("span",{className:"text-slate-400 text-sm"},G.visits,"")))))))})(),Y==="ai"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"card p-4 border border-brand-purple/30 bg-brand-purple/5"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3 flex items-center gap-2"},s.createElement("span",{className:"text-lg"},"")," AI  ",s.createElement("span",{className:"px-2 py-0.5 rounded-full bg-brand-purple/20 text-brand-purple text-xs"},"NEW")),s.createElement("p",{className:"text-xs text-slate-400 mb-3"},"   AI   ."),s.createElement("div",{className:"flex gap-2 mb-3"},s.createElement("input",{type:"text",value:Er,onChange:o=>Ks(o.target.value),onKeyPress:o=>o.key==="Enter"&&Uc(Er),placeholder:":  , , , ...",className:"flex-1 px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 placeholder-slate-400 focus:outline-none focus:border-brand-purple"}),s.createElement("button",{onClick:()=>Uc(Er),disabled:me||!Er.trim(),className:"px-5 py-3 bg-brand-purple text-white rounded-lg font-bold hover:bg-brand-purple/80 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2"},me?s.createElement(s.Fragment,null,s.createElement("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"})," "):"")),s.createElement("div",{className:"flex flex-wrap gap-2 mb-3"},["","",""," "," ",""].map(o=>s.createElement("button",{key:o,onClick:()=>{Ks(o),Uc(o)},disabled:me,className:"px-3 py-1.5 rounded-full bg-slate-700 text-slate-300 text-xs hover:bg-slate-600 transition-all disabled:opacity-50"},o))),me&&s.createElement("div",{className:"flex flex-col items-center justify-center py-6 gap-2"},s.createElement("div",{className:"animate-spin w-6 h-6 border-2 border-brand-purple border-t-transparent rounded-full"}),s.createElement("span",{className:"text-slate-400 text-sm"},'"',Er,'"  ...')),mt&&!me&&s.createElement("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30 mb-3"},s.createElement("p",{className:"text-red-400 text-sm"},mt)),B&&!me&&s.createElement("div",{className:"space-y-3 mt-4 pt-4 border-t border-slate-700"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("h4",{className:"font-bold text-slate-100 flex items-center gap-2"},s.createElement("span",{className:"text-brand-purple"},'"',B.keyword,'"'),"  "),s.createElement("span",{className:"text-xs text-slate-500"},(Vy=B.searchedAt)==null?void 0:Vy.toLocaleString("ko-KR"))),(B.relatedCompaniesCount>0||B.relatedRealtorsCount>0)&&s.createElement("div",{className:"flex gap-3 text-xs"},B.relatedCompaniesCount>0&&s.createElement("span",{className:"px-2 py-1 rounded bg-emerald-500/20 text-emerald-400"},"  ",B.relatedCompaniesCount,""),B.relatedRealtorsCount>0&&s.createElement("span",{className:"px-2 py-1 rounded bg-blue-500/20 text-blue-400"},"  ",B.relatedRealtorsCount,""),B.relatedIssuesCount>0&&s.createElement("span",{className:"px-2 py-1 rounded bg-yellow-500/20 text-yellow-400"},"  ",B.relatedIssuesCount,"")),s.createElement("div",{className:"p-3 rounded-lg bg-slate-800/50 border border-slate-700"},s.createElement("p",{className:"text-sm text-slate-200 leading-relaxed"},B.summary)),((Hy=B.insights)==null?void 0:Hy.length)>0&&s.createElement("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold mb-2"},"  "),s.createElement("ul",{className:"space-y-1"},B.insights.map((o,d)=>s.createElement("li",{key:d,className:"text-sm text-slate-300 flex items-start gap-2"},s.createElement("span",{className:"text-blue-400"},""),o)))),((Gy=B.salesTips)==null?void 0:Gy.length)>0&&s.createElement("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold mb-2"},"   "),s.createElement("ul",{className:"space-y-1"},B.salesTips.map((o,d)=>s.createElement("li",{key:d,className:"text-sm text-slate-300 flex items-start gap-2"},s.createElement("span",{className:"text-emerald-400"},d+1,"."),o)))),((Ky=B.actionItems)==null?void 0:Ky.length)>0&&s.createElement("div",{className:"p-3 rounded-lg bg-brand-purple/10 border border-brand-purple/30"},s.createElement("p",{className:"text-xs text-brand-purple font-semibold mb-2"},"   "),s.createElement("ul",{className:"space-y-1"},B.actionItems.map((o,d)=>s.createElement("li",{key:d,className:"text-sm text-slate-300 flex items-start gap-2"},s.createElement("span",{className:"text-brand-purple"},""),o)))),((qy=B.relatedTopics)==null?void 0:qy.length)>0&&s.createElement("div",{className:"pt-3 border-t border-slate-700"},s.createElement("p",{className:"text-xs text-slate-400 mb-2"},"  "),s.createElement("div",{className:"flex flex-wrap gap-2"},B.relatedTopics.map((o,d)=>s.createElement("button",{key:d,onClick:()=>{Ks(o),Uc(o)},className:"px-3 py-1.5 rounded-full bg-slate-700 text-slate-300 text-xs hover:bg-slate-600 transition-all"},o)))))),(()=>{var re;const o=L==="all"||!L?null:Number(L),d=o?ce.filter($=>$.managerId===o):ce,f=o?((re=Ee.find($=>$.id===o))==null?void 0:re.name)||"":" ",p=d.filter($=>$.reaction==="positive"),v=d.filter($=>$.reaction==="special"),y=d.filter($=>$.reaction==="neutral"),b=d.filter($=>$.reaction==="missed"),w=d.map($=>$.memo||"").filter($=>$.length>0),N=["","","","","","","",""],O=["","","","","","",""];let P=0,A=0;w.forEach($=>{N.some(H=>$.includes(H))&&P++,O.some(H=>$.includes(H))&&A++});const V=(()=>{const $=d.length;if($===0)return{main:"   .   .",suggestion:"    .",analysis:"",encouragement:""};const H=Math.round((p.length+v.length)/$*100),q=Math.round(y.length/$*100),z=Math.round(b.length/$*100);let T="",D="",ue="",pe="";return T=`${f} :  ${$}    ${p.length}(${H}%),  ${v.length},  ${y.length}(${q}%),  ${b.length}(${z}%)`,ue=`+: ${p.length+v.length} | : ${y.length} | : ${b.length}`,H>=50?(D="     .",pe="   ."):H>=30?(D="     .",pe=" ."):H>=10?(D="    .",pe=" ."):(D="   .",pe="  ."),z>30&&(D+=`  ${z}%    .`),v.length>0&&(D+=`  ${v.length}   .`),{main:T,suggestion:D,analysis:ue,encouragement:pe}})(),I=(()=>{const $={:{cafeCount:2596,startupTrend:"+12%",avgRent:" 10~15",competition:" ( 15+)",targetCustomer:"30~40   ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:" 2,596  .   14.1%( 10.0% ).    ",smalltalkTip:"  2,596  .  14.1%  ,   52.6% 3  .     .",brokerMent:",   2,596  .  14%           .",customerMent:",   2,596,  14.1%  .        .",sourceUrl:"https://www.sisajournal.com/news/articleView.html?idxno=195110",sourceName:":   14%,  "},:{cafeCount:2135,startupTrend:"+18%",avgRent:" 8~12",competition:"",targetCustomer:"20~30 MZ  ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:" 2,135  2.   18% .      2~3",smalltalkTip:"  2,135  2.   18%       2~3.    .",brokerMent:",               .     .",customerMent:",       2~3.          .",sourceUrl:"https://eventmoa.kr/2024%EB%85%84-%EC%84%9C%EC%9A%B8-%EC%B9%B4%ED%8E%98-%EC%8B%9C%EC%9E%A5-%ED%98%84%ED%99%A9/",sourceName:"2024     ( 2,135)"},:{cafeCount:1850,startupTrend:"+8%",avgRent:" 12~18",competition:"",targetCustomer:"30~50   ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:"   12~18   . /      ",smalltalkTip:"   12~18   . /     1.5  .",brokerMent:",    1.5  .              .",customerMent:",    1.5  .     ,  ,  .",sourceUrl:"https://www.sisajournal.com/news/articleView.html?idxno=195110",sourceName:":   14%,  "},:{cafeCount:1720,startupTrend:"+15%",avgRent:" 8~12",competition:"",targetCustomer:"30~40  ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:"  .    40% . /   ",smalltalkTip:"       40% .     2        .",brokerMent:",        .             .",customerMent:",        40% . /       .",sourceUrl:"https://www.sisain.co.kr/news/articleView.html?idxno=52312",sourceName:"IN:     "},:{cafeCount:1450,startupTrend:"+22%",avgRent:" 6~10",competition:"",targetCustomer:"20~40 ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:"  22%  .   .   1~2  ",smalltalkTip:"   22%  .      1~2 .  6     .",brokerMent:",      1~2 .              .",customerMent:",   .    ,   ,   .     .",sourceUrl:"https://www.kgnews.co.kr/news/article.html?no=822924",sourceName:":    "}," ":{cafeCount:1200,startupTrend:"+10%",avgRent:" 6~9",competition:"",targetCustomer:"30~50 ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:"IT .      .  2~5 ",smalltalkTip:" IT   .      ,  2~5 . / .",brokerMent:",  IT    .              .",customerMent:",  IT  .        .",sourceUrl:"https://blog.opensurvey.co.kr/trendreport/cafe-2024/",sourceName:":    2024"}," ":{cafeCount:850,startupTrend:"+25%",avgRent:" 4~7",competition:"",targetCustomer:"20~30  ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:" 12 , 2025     ",smalltalkTip:"  12  .     50% ( 4~7)   .        .",brokerMent:",   12     .             .",customerMent:",   12      .   ,   ,   .    .",sourceUrl:"https://www.bizhankook.com/bk/article/29822",sourceName:":    "}," ":{cafeCount:980,startupTrend:"+20%",avgRent:" 5~8",competition:"",targetCustomer:" + ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:" (7~8)    3.     2~3 ",smalltalkTip:"  (7~8)   3.    2~3  .  6    .",brokerMent:",   /   3.              .",customerMent:",   (7~8)   3.  6    .",sourceUrl:"https://gyver.co.kr/cafe-startup-market-analysis/",sourceName:" : 2025   "}," ":{cafeCount:620,startupTrend:"+15%",avgRent:" 3~5",competition:"",targetCustomer:" + ",teamPositive:d.filter(D=>D.reaction==="positive"&&(D.address||"").includes("")).length,teamTotal:d.filter(D=>(D.address||"").includes("")).length,issue:"  3~5   70% .   (12~2, 6~8)  50% ",smalltalkTip:"   3~5   70% .    (12~2, 6~8)  50% .",brokerMent:",      50% .              .",customerMent:",    (12~2, 6~8)  50% .      .",sourceUrl:"https://www.kbfg.com/kbresearch/report/reportView.do?reportId=1003869",sourceName:"KB:   "}},H=Object.keys($).map(D=>{const ue=$[D],pe=ue.teamPositive*10+ue.teamTotal*2,cl=parseInt(ue.startupTrend)||0;return{region:D,...ue,score:pe+cl,category:D.includes("")&&!D.includes("")?"":D.includes("")?"":""}}).sort((D,ue)=>ue.score-D.score),q=he%H.length,z=H[q],T=[];return z.teamPositive>0&&T.push(`   ${z.teamPositive}`),parseInt(z.startupTrend)>=15&&T.push(`   ${z.startupTrend} `),z.competition===""&&T.push("  "),{...z,aiReason:T.length>0?T:["   "],totalCount:H.length,currentIndex:q+1}})();return s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"card p-4 border border-slate-700/30"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4 flex items-center gap-2 text-lg"},s.createElement("span",{className:"text-xl"}),"     "),s.createElement("div",{className:"bg-transparent rounded-xl p-4 mb-4 border border-slate-700/50"},s.createElement("div",{className:"flex items-center justify-center gap-8"},s.createElement("div",{className:"relative w-32 h-32"},s.createElement("svg",{viewBox:"0 0 36 36",className:"w-full h-full transform -rotate-90"},(()=>{const $=Math.max(d.length,1),H=[{value:p.length,color:"#10b981"},{value:v.length,color:"#f43f5e"},{value:y.length,color:"#f97316"},{value:b.length,color:"#eab308"}];let q=0;return H.map((z,T)=>{const D=z.value/$*100,ue=`${D} ${100-D}`,pe=-q;return q+=D,s.createElement("circle",{key:T,cx:"18",cy:"18",r:"15.9",fill:"none",strokeWidth:"3.5",stroke:z.color,strokeDasharray:ue,strokeDashoffset:pe})})})()),s.createElement("div",{className:"absolute inset-0 flex flex-col items-center justify-center"},s.createElement("div",{className:"text-xl sm:text-2xl font-bold text-white"},d.length),s.createElement("div",{className:"text-xs text-slate-400"},""))),s.createElement("div",{className:"space-y-2"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),s.createElement("span",{className:"text-xs text-slate-300"}," ",p.length," (",Math.round(p.length/Math.max(d.length,1)*100),"%)")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),s.createElement("span",{className:"text-xs text-slate-300"}," ",v.length," (",Math.round(v.length/Math.max(d.length,1)*100),"%)")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.createElement("span",{className:"text-xs text-slate-300"}," ",y.length," (",Math.round(y.length/Math.max(d.length,1)*100),"%)")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.createElement("span",{className:"text-xs text-slate-300"}," ",b.length," (",Math.round(b.length/Math.max(d.length,1)*100),"%)"))))),s.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4"},s.createElement("div",{className:"text-center p-3 rounded-lg border border-emerald-500/30 bg-emerald-500/5"},s.createElement("div",{className:"text-xl sm:text-2xl font-bold text-emerald-400"},p.length),s.createElement("div",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"text-center p-3 rounded-lg border border-rose-500/30 bg-rose-500/5"},s.createElement("div",{className:"text-xl sm:text-2xl font-bold text-rose-400"},v.length),s.createElement("div",{className:"text-xs text-slate-400"},"")),s.createElement("div",{className:"text-center p-3 rounded-lg border border-orange-500/30 bg-orange-500/5"},s.createElement("div",{className:"text-xl sm:text-2xl font-bold text-orange-400"},y.length),s.createElement("div",{className:"text-xs text-slate-400"},"")),s.createElement("div",{className:"text-center p-3 rounded-lg border border-yellow-500/30 bg-yellow-500/5"},s.createElement("div",{className:"text-xl sm:text-2xl font-bold text-yellow-400"},b.length),s.createElement("div",{className:"text-xs text-slate-400"},""))),s.createElement("div",{className:"space-y-3"},Fc?s.createElement("div",{className:"flex flex-col items-center justify-center py-6 gap-2"},s.createElement("div",{className:"animate-spin w-6 h-6 border-2 border-brand-purple border-t-transparent rounded-full"}),s.createElement("span",{className:"text-slate-400 text-sm"},"AI  ..."),mt&&s.createElement("span",{className:"text-yellow-400 text-xs"},mt)):mt&&!Kt?s.createElement("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/30"},s.createElement("p",{className:"text-red-400 text-sm font-medium mb-2"},"  "),s.createElement("p",{className:"text-slate-300 text-sm"},mt),s.createElement("button",{onClick:()=>tt(null),className:"mt-2 text-xs text-slate-400 hover:text-white"},"")):Kt?s.createElement(s.Fragment,null,s.createElement("div",{className:"p-3 rounded-lg border border-slate-700/30 bg-slate-800/30"},s.createElement("p",{className:"text-sm text-slate-200 leading-relaxed"},Kt.comment)),Kt.analysis&&s.createElement("div",{className:"p-3 rounded-lg border border-blue-500/30 bg-blue-500/5"},s.createElement("p",{className:"text-xs text-blue-400 mb-1 font-semibold"},"AI "),s.createElement("p",{className:"text-sm text-slate-300"},Kt.analysis)),s.createElement("div",{className:"p-3 rounded-lg border border-slate-700/30 bg-brand-purple/5"},s.createElement("p",{className:"text-xs text-brand-purple mb-1 font-semibold"},"AI  "),s.createElement("p",{className:"text-sm text-slate-300"},Kt.suggestion)),Kt.encouragement&&s.createElement("div",{className:"p-3 rounded-lg border border-emerald-500/30 bg-emerald-500/5"},s.createElement("p",{className:"text-sm text-emerald-400 font-medium"},Kt.encouragement)),ze&&s.createElement("p",{className:"text-xs text-slate-500 pt-2 border-t border-slate-700/50"}," : ",ze.toLocaleString("ko-KR"))):s.createElement(s.Fragment,null,s.createElement("div",{className:"p-3 rounded-lg border border-slate-700/30 bg-slate-800/30"},s.createElement("p",{className:"text-sm text-slate-200 leading-relaxed"},V.main)),V.analysis&&s.createElement("div",{className:"p-3 rounded-lg border border-blue-500/30 bg-blue-500/5"},s.createElement("p",{className:"text-xs text-blue-400 mb-1 font-semibold"},"  "),s.createElement("p",{className:"text-sm text-slate-300"},V.analysis)),s.createElement("div",{className:"p-3 rounded-lg border border-slate-700/30 bg-brand-purple/5"},s.createElement("p",{className:"text-xs text-brand-purple mb-1 font-semibold"},""),s.createElement("p",{className:"text-sm text-slate-300"},V.suggestion)),s.createElement("div",{className:"p-3 rounded-lg border border-emerald-500/30 bg-emerald-500/5"},s.createElement("p",{className:"text-sm text-emerald-400 font-medium"},V.encouragement))))),w.length>0&&s.createElement("div",{className:"card p-4 border-l-4 border-blue-500"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3 flex items-center gap-2"},s.createElement("span",{className:"text-xl"}),"   (",w.length,")"),s.createElement("div",{className:"grid grid-cols-2 gap-3"},s.createElement("div",{className:"text-center p-3 rounded-lg bg-blue-500/10"},s.createElement("div",{className:"text-lg sm:text-xl font-bold text-blue-400"},P),s.createElement("div",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"text-center p-3 rounded-lg bg-slate-700/50"},s.createElement("div",{className:"text-lg sm:text-xl font-bold text-slate-400"},A),s.createElement("div",{className:"text-xs text-slate-400"}," "))),s.createElement("div",{className:"mt-4 space-y-3"},s.createElement("div",{className:"p-3 rounded-lg bg-slate-800/50 border border-slate-700"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold mb-2"},"  "),s.createElement("div",{className:"space-y-2"},(()=>{const $=d.filter(z=>z.reaction==="positive"),H=d.filter(z=>z.reaction==="negative"),q=d.filter(z=>!z.reaction||z.reaction==="neutral");return s.createElement(s.Fragment,null,s.createElement("div",{className:"flex items-center justify-between text-sm"},s.createElement("span",{className:"text-emerald-400"}," "),s.createElement("span",{className:"text-slate-300"},$.length," ")),s.createElement("div",{className:"flex items-center justify-between text-sm"},s.createElement("span",{className:"text-rose-400"}," "),s.createElement("span",{className:"text-slate-300"},H.length," ")),s.createElement("div",{className:"flex items-center justify-between text-sm"},s.createElement("span",{className:"text-slate-400"},""),s.createElement("span",{className:"text-slate-300"},q.length," ")))})())),s.createElement("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold mb-2"},"  "),s.createElement("div",{className:"space-y-2 text-sm"},s.createElement("div",{className:"flex items-start gap-2"},s.createElement("span",{className:"text-emerald-400 font-bold min-w-[60px]"},""),s.createElement("span",{className:"text-slate-300"},'    ("  .  OOO.")')),s.createElement("div",{className:"flex items-start gap-2"},s.createElement("span",{className:"text-blue-400 font-bold min-w-[60px]"},"1"),s.createElement("span",{className:"text-slate-300"},"    (   ,   )")),s.createElement("div",{className:"flex items-start gap-2"},s.createElement("span",{className:"text-yellow-400 font-bold min-w-[60px]"},"1"),s.createElement("span",{className:"text-slate-300"},'     ("      ?")')))),P>0&&s.createElement("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold mb-2"},"    "),s.createElement("p",{className:"text-sm text-slate-300 mb-2"},"     .   :"),s.createElement("ul",{className:"text-sm text-slate-300 space-y-1"},s.createElement("li",null," 1        "),s.createElement("li",null," 2    "),s.createElement("li",null,"     "))),I&&s.createElement("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30"},s.createElement("p",{className:"text-xs text-yellow-400 font-semibold mb-2"},"    "),s.createElement("p",{className:"text-sm text-slate-300"},I.issue||"   ."),s.createElement("p",{className:"text-xs text-slate-500 mt-2"},"   1    .")))),s.createElement("div",{className:"card p-4 border border-slate-700 bg-transparent"},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 flex items-center gap-2 text-lg"},s.createElement("span",{className:"text-xl"})," AI  ",s.createElement("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/20 text-emerald-400 text-xs font-medium ml-2"}," "),s.createElement("span",{className:"px-2 py-0.5 rounded-full bg-slate-700 text-slate-400 text-xs font-normal ml-1"},"2024 ")),s.createElement("div",{className:"flex gap-1 p-1 bg-slate-800 rounded-lg"},s.createElement("button",{onClick:()=>Jn("single"),className:`px-3 py-1 rounded text-xs font-medium transition-all ${yr==="single"?"bg-brand-purple text-white":"text-slate-400 hover:text-white"}`},""),s.createElement("button",{onClick:()=>Jn("list"),className:`px-3 py-1 rounded text-xs font-medium transition-all ${yr==="list"?"bg-brand-purple text-white":"text-slate-400 hover:text-white"}`},""))),s.createElement("div",{className:"mb-4"},s.createElement("div",{className:"flex gap-2"},s.createElement("input",{type:"text",placeholder:"  (: , , )",value:Ka,onChange:$=>Cc($.target.value),className:"input-premium flex-1 text-sm"}),s.createElement("button",{onClick:()=>{if(!Ka.trim())return;const H=["","","","",""," "," "," "," "].findIndex(q=>q.includes(Ka.trim()));H>=0?(jt(H),Jn("single"),Cc("")):alert("   .")},className:"btn-premium bg-brand-purple text-white px-4"},""))),yr==="single"?s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"border border-slate-700/30 rounded-xl p-4 bg-transparent"},s.createElement("div",{className:"flex items-center justify-between mb-3"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"px-2 py-1 rounded text-xs font-bold bg-brand-purple/20 text-brand-purple"},I.category),s.createElement("span",{className:"text-lg sm:text-xl font-bold text-white"},I.region)),s.createElement("span",{className:"text-xs text-slate-500"},I.currentIndex,"/",I.totalCount)),s.createElement("div",{className:"p-3 rounded-lg bg-brand-purple/10 border border-slate-700/30 mb-3"},s.createElement("p",{className:"text-xs text-brand-purple font-semibold mb-2"},"AI    "),s.createElement("div",{className:"flex flex-wrap gap-2"},I.aiReason&&I.aiReason.map(($,H)=>s.createElement("span",{key:H,className:"px-2 py-1 rounded-full bg-brand-purple/20 text-brand-purple text-xs"},$)))),s.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4"},s.createElement("div",{className:"text-center p-3 rounded-lg bg-transparent border border-slate-700/30"},s.createElement("div",{className:"text-lg font-bold text-blue-400"},I.cafeCount||"-",""),s.createElement("div",{className:"text-xs text-slate-400"},"  ")),s.createElement("div",{className:"text-center p-3 rounded-lg bg-transparent border border-slate-700/30"},s.createElement("div",{className:"text-lg font-bold text-emerald-400"},I.startupTrend||"-"),s.createElement("div",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"text-center p-3 rounded-lg bg-transparent border border-slate-700/30"},s.createElement("div",{className:"text-lg font-bold text-yellow-400"},I.avgRent||"-"),s.createElement("div",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"text-center p-3 rounded-lg bg-transparent border border-slate-700/30"},s.createElement("div",{className:"text-lg font-bold text-orange-400"},I.competition||"-"),s.createElement("div",{className:"text-xs text-slate-400"}," "))),(I.teamTotal>0||I.teamPositive>0)&&s.createElement("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30 mb-3 cursor-pointer hover:bg-emerald-500/20 transition-all",onClick:()=>Km(I.region)},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold mb-2"},"   ",s.createElement("span",{className:"text-slate-500"},"(  )")),s.createElement("div",{className:"flex items-center gap-3 sm:gap-4"},s.createElement("div",{className:"text-center"},s.createElement("span",{className:"text-lg sm:text-xl font-bold text-emerald-400"},I.teamTotal||0),s.createElement("span",{className:"text-xs text-slate-400 block"}," ")),s.createElement("div",{className:"text-center"},s.createElement("span",{className:"text-lg sm:text-xl font-bold text-blue-400"},I.teamPositive||0),s.createElement("span",{className:"text-xs text-slate-400 block"}," ")),I.teamTotal>0&&s.createElement("div",{className:"text-center"},s.createElement("span",{className:"text-lg sm:text-xl font-bold text-brand-purple"},Math.round(I.teamPositive/I.teamTotal*100)||0,"%"),s.createElement("span",{className:"text-xs text-slate-400 block"},""))))),I.issue&&s.createElement("div",{className:"p-4 rounded-xl border border-yellow-500/30 bg-yellow-500/5"},s.createElement("p",{className:"text-xs text-yellow-400 font-semibold mb-2"},"  (  )"),s.createElement("p",{className:"text-sm text-slate-200"},I.issue)),I.targetCustomer&&s.createElement("div",{className:"p-4 rounded-xl border border-blue-500/30 bg-blue-500/5"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold mb-2"},"  "),s.createElement("p",{className:"text-sm text-slate-200"},I.targetCustomer)),I.brokerMent&&s.createElement("div",{className:"p-4 rounded-xl border border-emerald-500/30 bg-emerald-500/5"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold"},"  "),s.createElement("button",{onClick:$=>{const H=$.currentTarget;navigator.clipboard.writeText((Xa==null?void 0:Xa.brokerMent)||I.brokerMent),H.innerText="",H.classList.add("text-emerald-400"),setTimeout(()=>{H.innerText="",H.classList.remove("text-emerald-400")},1500)},className:"px-2 py-1 rounded bg-slate-700 text-xs text-slate-300 hover:bg-slate-600"},"")),s.createElement("p",{className:"text-sm text-slate-200 leading-relaxed"},'"',(Xa==null?void 0:Xa.brokerMent)||I.brokerMent,'"'),s.createElement("p",{className:"text-xs text-slate-500 mt-2"},"    .   .")),I.sourceUrl&&s.createElement("a",{href:I.sourceUrl,target:"_blank",rel:"noopener",className:"flex items-center justify-between p-3 rounded-xl border border-slate-700/30 hover:bg-brand-purple/10 transition-all"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-brand-purple"}),s.createElement("span",{className:"text-sm text-brand-purple font-medium"},": ",I.sourceName||"")),s.createElement("span",{className:"text-slate-500"},"")),s.createElement("button",{onClick:()=>jt($=>$+1),className:"w-full py-3 rounded-xl bg-brand-purple/20 hover:bg-brand-purple/30 border border-slate-600 text-brand-purple font-medium transition-all"},"    ")):s.createElement("div",{className:"space-y-2 max-h-96 overflow-y-auto"},["","","","",""," "," "," "," "].map(($,H)=>{const q=$.includes("")&&!$.includes(""),z=$.includes(""),T=q?"":z?"":"";return s.createElement("div",{key:H,onClick:()=>{jt(H),Jn("single")},className:"p-3 rounded-lg border border-slate-700/30 hover:border-slate-600 bg-transparent cursor-pointer transition-all"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"px-2 py-0.5 rounded text-xs bg-brand-purple/20 text-brand-purple"},T),s.createElement("span",{className:"text-sm font-medium text-slate-200"},$)),s.createElement("span",{className:"text-slate-500"},"")))}))),s.createElement("div",{className:"card p-4 border-l-4 border-yellow-500"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3 flex items-center gap-2"},s.createElement("span",{className:"text-xl"}),"   (",Z.length,")"),Z.length===0?s.createElement("div",{className:"text-center py-4 sm:py-6 text-slate-500"},s.createElement("p",{className:"mb-2"},"   ."),s.createElement("p",{className:"text-xs"},"      .")):s.createElement("div",{className:"space-y-2 max-h-60 overflow-y-auto"},Z.slice(0,10).map(($,H)=>s.createElement("div",{key:$.id||H,className:"p-3 rounded-lg bg-transparent hover:bg-slate-700/50 transition-all"},s.createElement("div",{className:"flex items-center gap-2 mb-1"},s.createElement("span",{className:"px-2 py-0.5 rounded text-xs bg-yellow-500/20 text-yellow-400"},$.||$.region||""),s.createElement("span",{className:"px-2 py-0.5 rounded text-xs bg-slate-600 text-slate-300"},$.||$.type||"")),s.createElement("p",{className:"text-sm text-slate-200 font-medium"},$.||$.title),s.createElement("p",{className:"text-xs text-slate-500 mt-1"},$.||$.source,"  ",$.||$.date))))),s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4 text-lg"}," ",s.createElement("span",{className:"text-xs text-slate-500 ml-2 font-normal"},"   ")),s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"p-4 rounded-2xl border border-slate-600 hover:border-slate-500"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("p",{className:"text-sm font-medium text-rose-400"},"  14.1% ( )"),s.createElement("a",{href:"https://www.sisajournal.com/news/articleView.html?idxno=195110",target:"_blank",rel:"noopener",className:"text-xs text-brand-purple hover:underline"}," ")),s.createElement("p",{className:"text-xs text-slate-500"},"  52.6% 3  "),s.createElement("div",{className:"mt-3 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold mb-1"},"  "),s.createElement("p",{className:"text-sm text-slate-300"},'" "   . "       " .'))),s.createElement("div",{className:"p-4 rounded-2xl border border-slate-600 hover:border-slate-500"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("p",{className:"text-sm font-medium text-orange-400"},"   2 "),s.createElement("a",{href:"https://franchise.ftc.go.kr",target:"_blank",rel:"noopener",className:"text-xs text-brand-purple hover:underline"}," ")),s.createElement("p",{className:"text-xs text-slate-500"}," 3,200+,  2,500+   "),s.createElement("div",{className:"mt-3 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold mb-1"},"  "),s.createElement("p",{className:"text-sm text-slate-300"},'"   ,   15~50 5  900.   0."'))),s.createElement("div",{className:"p-4 rounded-2xl border border-slate-600 hover:border-slate-500"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("p",{className:"text-sm font-medium text-blue-400"},"   "),s.createElement("a",{href:"https://www.kbfg.com/kbresearch/report/reportView.do?reportId=1003869",target:"_blank",rel:"noopener",className:"text-xs text-brand-purple hover:underline"}," ")),s.createElement("p",{className:"text-xs text-slate-500"},"KB:   +    "),s.createElement("div",{className:"mt-3 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold mb-1"},"  "),s.createElement("p",{className:"text-sm text-slate-300"},'"   ,  ,   .       ."'))),s.createElement("div",{className:"p-4 rounded-2xl border border-slate-600 hover:border-slate-500"},s.createElement("div",{className:"flex items-center justify-between mb-2"},s.createElement("p",{className:"text-sm font-medium text-yellow-400"},"    1 "),s.createElement("a",{href:"https://www.sisain.co.kr/news/articleView.html?idxno=52312",target:"_blank",rel:"noopener",className:"text-xs text-brand-purple hover:underline"}," ")),s.createElement("p",{className:"text-xs text-slate-500"},", ,      "),s.createElement("div",{className:"mt-3 p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold mb-1"},"  "),s.createElement("p",{className:"text-sm text-slate-300"},'"   ,            ."')))),s.createElement("div",{className:"mt-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/30"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold mb-2"},"AI  "),s.createElement("p",{className:"text-sm text-slate-300"},'  " "   .  "  " .      .'))),wv&&(()=>{const $=wv,H=ce.filter(z=>(z.address||"").includes($)),q=Sc?H.filter(z=>(z.name||"").toLowerCase().includes(Sc.toLowerCase())||(z.address||"").toLowerCase().includes(Sc.toLowerCase())):H;return s.createElement("div",{className:"modal-overlay",onClick:()=>{Km(null),qm("")}},s.createElement("div",{className:"modal-content max-w-lg",onClick:z=>z.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"text-lg font-bold text-slate-100"},$,"   (",H.length,")"),s.createElement("button",{type:"button",onClick:()=>{Km(null),qm("")},className:"text-slate-400 hover:text-white text-xl"},"")),s.createElement("input",{type:"text",placeholder:"/ ",value:Sc,onChange:z=>qm(z.target.value),className:"input-premium w-full mb-4"}),s.createElement("div",{className:"max-h-80 overflow-y-auto space-y-2"},q.length===0?s.createElement("p",{className:"text-center text-slate-500 py-4"},"   ."):q.map(z=>{const T=gt[z.reaction]||gt.neutral;return s.createElement("div",{key:z.id,className:"p-3 rounded-lg border border-slate-700 bg-slate-800/50"},s.createElement("div",{className:"flex justify-between items-start"},s.createElement("div",null,s.createElement("p",{className:"font-medium text-slate-200"},z.name),s.createElement("p",{className:"text-xs text-slate-400"},z.address)),s.createElement("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:T.bg+"30",color:T.bg}},T.label)),z.memo&&s.createElement("p",{className:"text-xs text-slate-500 mt-2 truncate"},": ",z.memo))}))))})(),Ct&&s.createElement("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",onClick:()=>Ys(null)},s.createElement("div",{className:"bg-slate-800 rounded-2xl max-w-[95vw] sm:max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-slate-600",onClick:$=>$.stopPropagation()},s.createElement("div",{className:"sticky top-0 bg-slate-800 p-4 border-b border-slate-600 flex justify-between items-center"},s.createElement("h3",{className:"font-bold text-lg text-white"},Ct==="specialty"&&"   ",Ct==="lowcost"&&"   ",Ct==="differentiation"&&"  ",Ct==="delivery"&&"/  "),s.createElement("button",{type:"button",onClick:()=>Ys(null),className:"text-slate-400 hover:text-white text-2xl"},"")),s.createElement("div",{className:"p-4 space-y-3 sm:space-y-4"},Ct==="specialty"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-orange-400 font-semibold mb-2"}," ?"),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null," SCA()  80    "),s.createElement("li",null," , ,    "),s.createElement("li",null,"      (  5,000~8,000)"))),s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-blue-400 font-semibold mb-2"},""),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null,"       "),s.createElement("li",null,"  ,     "),s.createElement("li",null,"  ,      "))),s.createElement("div",{className:"p-4 rounded-lg border border-yellow-500/30 bg-yellow-500/5"},s.createElement("h4",{className:"text-yellow-400 font-semibold mb-2"}," "),s.createElement("p",{className:"text-xs text-slate-400"},"  ,     :"),s.createElement("ul",{className:"text-xs text-slate-400 mt-2 space-y-1"},s.createElement("li",null," (aT)   "),s.createElement("li",null,"   "),s.createElement("li",null,"    ")))),Ct==="lowcost"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-orange-400 font-semibold mb-2"},"  "),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null,"  1,500~2,000  "),s.createElement("li",null,"     "),s.createElement("li",null,"  : , ,  "))),s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-rose-400 font-semibold mb-2"},""),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null,"       "),s.createElement("li",null," ,    "),s.createElement("li",null,"    "))),s.createElement("div",{className:"p-4 rounded-lg border border-yellow-500/30 bg-yellow-500/5"},s.createElement("h4",{className:"text-yellow-400 font-semibold mb-2"}," "),s.createElement("p",{className:"text-xs text-slate-400"}," ,     :"),s.createElement("ul",{className:"text-xs text-slate-400 mt-2 space-y-1"},s.createElement("li",null,"   (franchise.ftc.go.kr)"),s.createElement("li",null,"    ")))),Ct==="differentiation"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-emerald-400 font-semibold mb-2"},"  "),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null,"    (, )"),s.createElement("li",null,"   (, )"),s.createElement("li",null,"   "))),s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-blue-400 font-semibold mb-2"}," "),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null," SNS  (,  )"),s.createElement("li",null,"   (, )"),s.createElement("li",null,"  ")))),Ct==="delivery"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-orange-400 font-semibold mb-2"},"/"),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null," : , ,  "),s.createElement("li",null,"      "),s.createElement("li",null,"     "))),s.createElement("div",{className:"p-4 rounded-lg border border-slate-700/30 bg-transparent"},s.createElement("h4",{className:"text-blue-400 font-semibold mb-2"},"  "),s.createElement("ul",{className:"text-sm text-slate-300 space-y-2"},s.createElement("li",null,"     (   )"),s.createElement("li",null,"   "),s.createElement("li",null,"   vs   "))))))))})(),s.createElement("div",{className:"card p-4 border-2 border-rose-500/30"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4 flex items-center gap-2 text-lg"},s.createElement("span",{className:"text-xl"}),"    (  )"),s.createElement("div",{className:"space-y-3"},s.createElement("div",{onClick:()=>ef(br==="closure"?null:"closure"),className:"p-4 rounded-xl border border-rose-500/30 bg-transparent cursor-pointer hover:border-slate-600 transition-all"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("span",{className:"text-rose-400 font-bold"},"  "),s.createElement("span",{className:"text-2xl font-black text-rose-400 ml-3"},"14.1%")),s.createElement("span",{className:"text-slate-500 text-lg"},br==="closure"?"":"")),s.createElement("p",{className:"text-xs text-slate-400 mt-1"},": KB (2018 ,  10.0% )"),s.createElement("p",{className:"text-xs text-emerald-400 mt-2"},'"   3     "')),br==="closure"&&s.createElement("div",{className:"p-4 rounded-xl border border-slate-700/30 bg-transparent space-y-3 animate-fadeIn"},s.createElement("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("div",{className:"flex items-center justify-between mb-1"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold"},"  "),s.createElement("button",{type:"button",onClick:o=>{o.stopPropagation();const d=o.currentTarget;navigator.clipboard.writeText(",     ?      .       .      ."),d.innerText="",d.classList.add("text-emerald-400"),setTimeout(()=>{d.innerText="",d.classList.remove("text-emerald-400")},1500)},className:"px-2 py-1 rounded bg-slate-700 text-xs text-slate-300 hover:bg-slate-600"})),s.createElement("p",{className:"text-sm text-slate-200"},'",     ?  ',s.createElement("span",{className:"text-emerald-400 font-semibold"},""),"    .       . ",s.createElement("span",{className:"text-emerald-400 font-semibold"},"   "),'  ."')),s.createElement("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30"},s.createElement("div",{className:"flex items-center justify-between mb-1"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold"}," "),s.createElement("button",{type:"button",onClick:o=>{o.stopPropagation();const d=o.currentTarget;navigator.clipboard.writeText("  5    (/ ), /   ,      "),d.innerText="",d.classList.add("text-emerald-400"),setTimeout(()=>{d.innerText="",d.classList.remove("text-emerald-400")},1500)},className:"px-2 py-1 rounded bg-slate-700 text-xs text-slate-300 hover:bg-slate-600"})),s.createElement("p",{className:"text-sm text-slate-200"},"  ",s.createElement("span",{className:"text-blue-400 font-semibold"},"5   ")," (/ ), /   ,      ")),s.createElement("div",{className:"p-3 rounded-lg bg-purple-500/10 border border-purple-500/30"},s.createElement("p",{className:"text-xs text-purple-400 font-semibold mb-2"},"  TOP 3 ( )"),s.createElement("div",{className:"flex gap-2 flex-wrap"},s.createElement("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs"},"1:  "),s.createElement("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs"},"2:   "),s.createElement("span",{className:"px-2 py-1 rounded-full bg-purple-500/20 text-purple-300 text-xs"},"3:  ")),s.createElement("p",{className:"text-xs text-slate-400 mt-2"},"  :   +  ")),s.createElement("a",{href:"https://www.sisajournal.com/news/articleView.html?idxno=195110",target:"_blank",rel:"noopener",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-600 hover:bg-brand-purple/10 text-brand-purple text-sm transition-all"},":   14%,   ")),s.createElement("div",{onClick:()=>ef(br==="survival"?null:"survival"),className:"p-4 rounded-xl border border-blue-500/30 bg-transparent cursor-pointer hover:border-slate-600 transition-all"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("span",{className:"text-blue-400 font-bold"},"  "),s.createElement("span",{className:"text-lg font-bold text-blue-400 ml-2"}," 1,050"),s.createElement("span",{className:"text-slate-500 mx-2"},"(10  1 )")),s.createElement("span",{className:"text-slate-500 text-lg"},br==="survival"?"":"")),s.createElement("p",{className:"text-xs text-slate-400 mt-1"},": KB (   3,475 1/3)"),s.createElement("p",{className:"text-xs text-emerald-400 mt-2"},'"     "')),br==="survival"&&s.createElement("div",{className:"p-4 rounded-xl border border-slate-700/30 bg-transparent space-y-3 animate-fadeIn"},s.createElement("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("div",{className:"flex items-center justify-between mb-1"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold"},"  "),s.createElement("button",{type:"button",onClick:o=>{o.stopPropagation();const d=o.currentTarget;navigator.clipboard.writeText(",     1,050.  87.  .     ,       ."),d.innerText="",d.classList.add("text-emerald-400"),setTimeout(()=>{d.innerText="",d.classList.remove("text-emerald-400")},1500)},className:"px-2 py-1 rounded bg-slate-700 text-xs text-slate-300 hover:bg-slate-600"})),s.createElement("p",{className:"text-sm text-slate-200"},'",    ',s.createElement("span",{className:"text-emerald-400 font-semibold"}," 1,050"),".  87.  .   ",s.createElement("span",{className:"text-emerald-400 font-semibold"},""),'  ,       ."')),s.createElement("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30"},s.createElement("div",{className:"flex items-center justify-between mb-1"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold"},"  "),s.createElement("button",{type:"button",onClick:o=>{o.stopPropagation();const d=o.currentTarget;navigator.clipboard.writeText(",     1,050.   3,475 1/3.     .     ,  ."),d.innerText="",d.classList.add("text-emerald-400"),setTimeout(()=>{d.innerText="",d.classList.remove("text-emerald-400")},1500)},className:"px-2 py-1 rounded bg-slate-700 text-xs text-slate-300 hover:bg-slate-600"})),s.createElement("p",{className:"text-sm text-slate-200"},'",    ',s.createElement("span",{className:"text-blue-400 font-semibold"}," 1,050"),".   3,475 1/3.     .    ",s.createElement("span",{className:"text-blue-400 font-semibold"}," , "),' ."')),s.createElement("div",{className:"p-3 rounded-lg bg-cyan-500/10 border border-cyan-500/30"},s.createElement("p",{className:"text-xs text-cyan-400 font-semibold mb-2"},"   "),s.createElement("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-300"},s.createElement("span",null,"  500m   "),s.createElement("span",null,"  "),s.createElement("span",null,"   "),s.createElement("span",null,"   "))),s.createElement("a",{href:"https://www.sisain.co.kr/news/articleView.html?idxno=52312",target:"_blank",rel:"noopener",className:"flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-600 hover:bg-brand-purple/10 text-brand-purple text-sm transition-all"},"IN:      ")),s.createElement("div",{onClick:()=>ef(br==="royalty"?null:"royalty"),className:"p-4 rounded-xl border border-yellow-500/30 bg-transparent cursor-pointer hover:border-slate-600 transition-all"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("span",{className:"text-yellow-400 font-bold"},"  "),s.createElement("span",{className:"text-2xl font-black text-yellow-400 ml-3"},"6,900~1.3")),s.createElement("span",{className:"text-slate-500 text-lg"},br==="royalty"?"":"")),s.createElement("p",{className:"text-xs text-slate-400 mt-1"},"    (/ )"),s.createElement("p",{className:"text-xs text-emerald-400 mt-2"},'"    "')),br==="royalty"&&s.createElement("div",{className:"p-4 rounded-xl border border-slate-700/30 bg-transparent space-y-3 animate-fadeIn"},s.createElement("div",{className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30"},s.createElement("div",{className:"flex items-center justify-between mb-1"},s.createElement("p",{className:"text-xs text-emerald-400 font-semibold"},"  "),s.createElement("button",{type:"button",onClick:o=>{o.stopPropagation();const d=o.currentTarget;navigator.clipboard.writeText(",    . 1 15 ,   .      .         ."),d.innerText="",d.classList.add("text-emerald-400"),setTimeout(()=>{d.innerText="",d.classList.remove("text-emerald-400")},1500)},className:"px-2 py-1 rounded bg-slate-700 text-xs text-slate-300 hover:bg-slate-600"})),s.createElement("p",{className:"text-sm text-slate-200"},'",    . ',s.createElement("span",{className:"text-emerald-400 font-semibold"},"1 15 ,  "),' .      .         ."')),s.createElement("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30"},s.createElement("div",{className:"flex items-center justify-between mb-1"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold"},"  "),s.createElement("button",{type:"button",onClick:o=>{o.stopPropagation();const d=o.currentTarget;navigator.clipboard.writeText(",   6,900~1.3.    .        ."),d.innerText="",d.classList.add("text-emerald-400"),setTimeout(()=>{d.innerText="",d.classList.remove("text-emerald-400")},1500)},className:"px-2 py-1 rounded bg-slate-700 text-xs text-slate-300 hover:bg-slate-600"})),s.createElement("p",{className:"text-sm text-slate-200"},'",   ',s.createElement("span",{className:"text-blue-400 font-semibold"},"6,900~1.3"),'.    .        ."')),s.createElement("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30"},s.createElement("p",{className:"text-xs text-yellow-400 font-semibold mb-2"},"  (  )"),s.createElement("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-300"},s.createElement("span",null,"  : 6,900"),s.createElement("span",null,"  :  15"),s.createElement("span",null,"  : 1.3"),s.createElement("span",null,"  :  25")),s.createElement("p",{className:"text-xs text-slate-400 mt-2"}," , ,   / :   "))))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4 flex items-center gap-2 text-lg"}," vs   "),s.createElement("div",{className:"overflow-x-auto"},s.createElement("table",{className:"w-full text-sm"},s.createElement("thead",null,s.createElement("tr",{className:"border-b border-slate-600"},s.createElement("th",{className:"py-3 px-2 text-left text-slate-400 font-medium"},""),s.createElement("th",{className:"py-3 px-2 text-center text-orange-400 font-medium"}," "),s.createElement("th",{className:"py-3 px-2 text-center text-emerald-400 font-medium"},""))),s.createElement("tbody",{className:"text-slate-300"},s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"500~1,500"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"100~300"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"}," ")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"-"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"1,000")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," ()"),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"15~50"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," (5)"),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"900~3,000"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," ()"),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"10~30"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"400+ ")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"400+ ")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"  ()"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"  ()")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"400 (15)")),s.createElement("tr",null,s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"2~5 ( )"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},""))))),s.createElement("div",{className:"mt-4"},s.createElement("p",{className:"text-sm text-slate-300 font-semibold mb-3"},"~   "),s.createElement("div",{className:"space-y-2"},s.createElement("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-700 bg-slate-800/30"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-orange-400 font-medium"},""),s.createElement("span",{className:"text-xs text-slate-500"}," 500 +  150 + /")),s.createElement("span",{className:"text-slate-300 font-bold"},"6,900~1")),s.createElement("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-700 bg-slate-800/30"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-orange-400 font-medium"},""),s.createElement("span",{className:"text-xs text-slate-500"}," 300 +  150 + /")),s.createElement("span",{className:"text-slate-300 font-bold"},"5,500~8,000")),s.createElement("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-700 bg-slate-800/30"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-orange-400 font-medium"},""),s.createElement("span",{className:"text-xs text-slate-500"}," 500 +  200 + /")),s.createElement("span",{className:"text-slate-300 font-bold"},"6,000~9,000")),s.createElement("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-700 bg-slate-800/30"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("span",{className:"text-orange-400 font-medium"},""),s.createElement("span",{className:"text-xs text-slate-500"}," 1,000 +  300 + /")),s.createElement("span",{className:"text-slate-300 font-bold"},"8,000~1.3"))),s.createElement("a",{href:"https://franchise.ftc.go.kr/mnu/00013/program/userRqst/list.do",target:"_blank",rel:"noopener",className:"flex items-center justify-center gap-2 mt-3 p-3 rounded-lg border border-brand-purple/50 bg-brand-purple/10 hover:bg-brand-purple/20 transition-all"},s.createElement("span",{className:"text-sm text-brand-purple font-medium"},"     ")),s.createElement("p",{className:"text-xs text-slate-500 mt-3 text-center"},"*    , ,    .")),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex items-center justify-between mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 flex items-center gap-2"},s.createElement("span",{className:"text-xl"}),"    ",s.createElement("span",{className:"text-xs bg-emerald-500/20 text-emerald-400 px-2 py-0.5 rounded-full"},""))),s.createElement("p",{className:"text-sm text-slate-400 mb-4"},"     AI      ."),s.createElement("div",{className:"p-4 rounded-xl bg-transparent border border-slate-700 mb-4"},s.createElement("p",{className:"text-sm text-slate-300 font-semibold mb-3"},"    "),s.createElement("div",{className:"space-y-3"},s.createElement("select",{value:tf,onChange:o=>jv(o.target.value),className:"w-full px-3 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-200 text-sm"},s.createElement("option",{value:""}," ?"),s.createElement("option",{value:"broker"},"  "),s.createElement("option",{value:"broker-followup"}," "),s.createElement("option",{value:"franchise"},"   ")),s.createElement("textarea",{value:nf,onChange:o=>$v(o.target.value),placeholder:`    .

:     .   .`,className:"w-full px-3 py-3 rounded-lg bg-slate-700 border border-slate-600 text-slate-200 text-sm resize-none h-24"}),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>rf("success"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${Lc==="success"?"bg-emerald-500 text-white":"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30 hover:bg-emerald-500/30"}`},"  "),s.createElement("button",{onClick:()=>rf("fail"),className:`flex-1 px-4 py-2 rounded-lg text-sm font-semibold transition-all ${Lc==="fail"?"bg-rose-500 text-white":"bg-rose-500/20 text-rose-400 border border-rose-500/30 hover:bg-rose-500/30"}`}," ")),s.createElement("button",{type:"button",onClick:()=>{if(!tf||!nf||!Lc){alert(", ,   .");return}const o={id:Date.now(),situation:tf,memo:nf,result:Lc,timestamp:new Date().toISOString(),managerId:n==null?void 0:n.managerId,managerName:(n==null?void 0:n.name)||""};se.ref(`teamFeedbacks/${o.id}`).set(o),jv(""),$v(""),rf(null),alert(" !")},className:"w-full px-4 py-3 rounded-lg bg-brand-purple text-white font-semibold hover:bg-brand-purple/80 transition-all"}," "))),s.createElement("div",{className:"space-y-3"},s.createElement("p",{className:"text-sm text-slate-300 font-semibold"},"   ( 7)"),hi&&hi.length>0?hi.slice(0,5).map((o,d)=>s.createElement("div",{key:d,className:`p-3 rounded-lg ${o.result==="success"?"bg-emerald-500/10 border border-emerald-500/30":"bg-rose-500/10 border border-rose-500/30"}`},s.createElement("div",{className:"flex items-start justify-between"},s.createElement("div",null,s.createElement("p",{className:`text-xs font-semibold ${o.result==="success"?"text-emerald-400":"text-rose-400"}`},o.result==="success"?"  ":"  "),s.createElement("p",{className:"text-sm text-slate-200 mt-1"},o.situation||" "),s.createElement("p",{className:"text-xs text-slate-400 mt-1"},o.memo||" ")),s.createElement("span",{className:`text-xs px-2 py-1 rounded ${o.result==="success"?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-rose-400"}`},o.result==="success"?"":"")))):s.createElement("div",{className:"p-4 rounded-lg border border-slate-700 bg-slate-800/30 text-center"},s.createElement("p",{className:"text-slate-400 text-sm"},"   ."),s.createElement("p",{className:"text-slate-500 text-xs mt-1"},"   .")),hi&&hi.length>=3&&s.createElement("div",{className:"p-3 rounded-lg bg-blue-500/10 border border-blue-500/30"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold mb-2"},"AI  "),s.createElement("p",{className:"text-sm text-slate-300"},"    ..."),s.createElement("p",{className:"text-xs text-slate-400 mt-2"}," 5   AI  .")))))),Y==="region"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"card p-4"},s.createElement("div",{className:"flex gap-2"},s.createElement("input",{type:"text",value:Qs,onChange:o=>Rv(o.target.value),placeholder:"   (:  )",className:"flex-1 px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 placeholder-slate-400 focus:outline-none focus:border-brand-purple",onKeyPress:o=>o.key==="Enter"&&_u()}),s.createElement("button",{onClick:()=>_u(),disabled:Js||!Qs.trim(),className:"px-6 py-3 bg-brand-purple text-white rounded-lg font-medium hover:bg-brand-purple/80 disabled:opacity-50 disabled:cursor-not-allowed"},Js?"...":""))),qe&&s.createElement(s.Fragment,null,s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"},""),s.createElement("div",{id:"report-region-map",className:"w-full h-[300px] rounded-lg bg-slate-700"}),s.createElement("p",{className:"text-sm text-slate-400 mt-2"}," 500m ")),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"}," "),s.createElement("div",{className:"grid grid-cols-2 gap-4"},s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-slate-100"},((Yy=qe.overview)==null?void 0:Yy.population)||"-"),s.createElement("p",{className:"text-sm text-slate-400"}," ()")),s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-slate-100"},((Qy=qe.overview)==null?void 0:Qy.households)||"-"),s.createElement("p",{className:"text-sm text-slate-400"},"")),s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-slate-100"},((Jy=qe.overview)==null?void 0:Jy.stores)||"-"),s.createElement("p",{className:"text-sm text-slate-400"},"")),s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-slate-100"},((Xy=qe.overview)==null?void 0:Xy.avgRent)||"-"),s.createElement("p",{className:"text-sm text-slate-400"}," ")))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"}," "),s.createElement("div",{className:"space-y-2"},((Zy=qe.consumers)==null?void 0:Zy.map((o,d)=>s.createElement("div",{key:d,className:"flex justify-between items-center p-2 bg-slate-700/50 rounded-lg"},s.createElement("span",{className:"text-slate-200"},o.label),s.createElement("span",{className:"text-brand-purple font-bold"},o.percent,"%"))))||s.createElement("p",{className:"text-slate-400"}," "))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"}," "),s.createElement("div",{className:"space-y-2"},((eE=qe.franchises)==null?void 0:eE.map((o,d)=>s.createElement("div",{key:d,className:"flex justify-between items-center p-2 bg-slate-700/50 rounded-lg"},s.createElement("span",{className:"text-slate-200"},o.name),s.createElement("span",{className:"text-slate-300"},o.count,""))))||s.createElement("p",{className:"text-slate-400"}," "))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"}," "),s.createElement("div",{className:"space-y-2"},((tE=qe.development)==null?void 0:tE.map((o,d)=>s.createElement("div",{key:d,className:"p-2 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-slate-200"},o))))||s.createElement("p",{className:"text-slate-400"}," "))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"}," "),s.createElement("div",{className:"space-y-2"},((nE=qe.risks)==null?void 0:nE.map((o,d)=>s.createElement("div",{key:d,className:"p-2 bg-red-500/10 border border-red-500/30 rounded-lg"},s.createElement("p",{className:"text-red-400"},o))))||s.createElement("p",{className:"text-slate-400"}," "))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"},""),s.createElement("div",{className:"grid grid-cols-2 gap-3"},[{key:"seats",label:" ",unit:"",info:"   "},{key:"price",label:"",unit:"",info:"1   "},{key:"turnover",label:"",unit:"",info:"    ",step:.1},{key:"occupancy",label:"",unit:"%",info:"    "},{key:"rent",label:"",unit:"",info:"  ( )"},{key:"labor",label:"",unit:"",info:"  "},{key:"materialRate",label:"",unit:"%",info:"   "},{key:"otherCost",label:"",unit:"",info:",  "}].map(o=>s.createElement("div",{key:o.key,className:"relative"},s.createElement("div",{className:"flex items-center gap-1 mb-1"},s.createElement("span",{className:"text-xs text-slate-400"},o.label),s.createElement("button",{onClick:()=>Dv(Oc===o.key?null:o.key),className:"w-4 h-4 rounded-full bg-slate-600 text-slate-400 text-xs"},"i")),Oc===o.key&&s.createElement("div",{className:"absolute z-10 left-0 top-8 bg-slate-900 text-slate-200 text-xs p-2 rounded-lg shadow-lg max-w-[200px] border border-slate-600"},o.info),s.createElement("div",{className:"flex items-center gap-1"},s.createElement("input",{type:"number",step:o.step||1,value:_e[o.key],onChange:d=>Lv({..._e,[o.key]:Number(d.target.value)}),className:"w-full px-3 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 text-right"}),s.createElement("span",{className:"text-xs text-slate-500 w-8"},o.unit)))))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"},"  "),(()=>{const d=_e.seats*_e.price*_e.turnover*(_e.occupancy/100)*30,f=(_e.rent+_e.labor+_e.otherCost)*1e4+d*(_e.materialRate/100),p=d-f;return s.createElement("div",{className:"grid grid-cols-2 gap-4"},s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-lg font-bold text-slate-100"},Math.round(d/1e4).toLocaleString(),""),s.createElement("p",{className:"text-sm text-slate-400"},"  ")),s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:`text-lg font-bold ${p>=0?"text-emerald-400":"text-red-400"}`},Math.round(p/1e4).toLocaleString(),""),s.createElement("p",{className:"text-sm text-slate-400"},"  ")))})()),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"},""),(()=>{const o=(_e.rent+_e.labor+_e.otherCost)*1e4,d=_e.price,f=_e.materialRate/100,p=Math.ceil(o/(d*(1-f))),v=Math.ceil(p/(_e.seats*_e.turnover*(_e.occupancy/100)));return s.createElement("div",{className:"grid grid-cols-2 gap-4"},s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-lg font-bold text-amber-400"},p.toLocaleString(),""),s.createElement("p",{className:"text-sm text-slate-400"},"  ")),s.createElement("div",{className:"text-center p-3 bg-slate-700/50 rounded-lg"},s.createElement("p",{className:"text-lg font-bold text-amber-400"},v,""),s.createElement("p",{className:"text-sm text-slate-400"}," ")))})()),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"},"  "),s.createElement("table",{className:"w-full text-sm"},s.createElement("thead",null,s.createElement("tr",{className:"border-b border-slate-600"},s.createElement("th",{className:"py-2 text-left text-slate-400"},""),s.createElement("th",{className:"text-right text-slate-400"},""),s.createElement("th",{className:"text-right text-brand-purple"},""))),s.createElement("tbody",null,s.createElement("tr",{className:"border-b border-slate-700"},s.createElement("td",{className:"py-2 text-slate-300"}," "),s.createElement("td",{className:"text-right text-slate-200"},"5,000~8,000"),s.createElement("td",{className:"text-right text-brand-purple font-medium"},"1,000")),s.createElement("tr",{className:"border-b border-slate-700"},s.createElement("td",{className:"py-2 text-slate-300"}," "),s.createElement("td",{className:"text-right text-slate-200"}," 3~5%"),s.createElement("td",{className:"text-right text-brand-purple font-medium"},"0")),s.createElement("tr",null,s.createElement("td",{className:"py-2 text-slate-300"}," "),s.createElement("td",{className:"text-right text-slate-200"},""),s.createElement("td",{className:"text-right text-brand-purple font-medium"}," "))))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"},"  "),s.createElement("div",{className:"space-y-2"},s.createElement("div",{className:"flex justify-between p-2 bg-slate-700/50 rounded-lg"},s.createElement("span",{className:"text-slate-300"},""),s.createElement("span",{className:"text-slate-100"},"3,000~5,000")),s.createElement("div",{className:"flex justify-between p-2 bg-slate-700/50 rounded-lg"},s.createElement("span",{className:"text-slate-300"},"/"),s.createElement("span",{className:"text-slate-100"},"1,500~2,500")),s.createElement("div",{className:"flex justify-between p-2 bg-slate-700/50 rounded-lg"},s.createElement("span",{className:"text-slate-300"},""),s.createElement("span",{className:"text-slate-100"},"3,000~5,000")),s.createElement("div",{className:"flex justify-between p-2 bg-brand-purple/20 rounded-lg border border-brand-purple/30"},s.createElement("span",{className:"text-brand-purple font-medium"}," "),s.createElement("span",{className:"text-brand-purple font-bold"},"1,000")))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3"},"AI "),s.createElement("p",{className:"text-slate-300 leading-relaxed"},qe.insight||"   AI  .")),s.createElement("div",{className:"flex justify-center"},s.createElement("button",{onClick:()=>Mc(!0),className:"px-6 py-3 bg-slate-700 text-slate-300 rounded-lg font-medium hover:bg-slate-600 transition-all"}," "))),!qe&&!Js&&s.createElement("div",{className:"text-center py-20"},s.createElement("p",{className:"text-slate-400"},"     ")),Js&&s.createElement("div",{className:"text-center py-20"},s.createElement("div",{className:"animate-spin w-8 h-8 border-2 border-brand-purple border-t-transparent rounded-full mx-auto mb-4"}),s.createElement("p",{className:"text-slate-400"},"  ...")))),_==="calendar"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("h2",{className:"font-bold text-slate-100 text-xl"}," "),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("button",{onClick:()=>ly(new Date(ns.getFullYear(),ns.getMonth()-1)),className:"w-10 h-10 rounded-lg bg-slate-600 text-slate-200 font-bold"},""),s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},ns.getFullYear()," ",ns.getMonth()+1,""),s.createElement("button",{onClick:()=>ly(new Date(ns.getFullYear(),ns.getMonth()+1)),className:"w-10 h-10 rounded-lg bg-slate-600 text-slate-200 font-bold"},"")),s.createElement("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-2"},["","","","","","",""].map((o,d)=>s.createElement("div",{key:o,className:`text-center text-sm font-bold py-2 ${d===0?"text-rose-600":d===6?"text-primary-600":"text-slate-200"}`},o))),s.createElement("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1"},(()=>{const o=ns.getFullYear(),d=ns.getMonth(),f=new Date(o,d,1).getDay(),p=new Date(o,d+1,0).getDate(),v=cs(),y=[];for(let b=0;b<f;b++)y.push(s.createElement("div",{key:`empty-${b}`,className:"h-24 sm:h-28"}));for(let b=1;b<=p;b++){const w=`${o}-${String(d+1).padStart(2,"0")}-${String(b).padStart(2,"0")}`,N=Be.filter(V=>V.date===w),O=$t.filter(V=>V.date===w),P=[...N.map(V=>({...V,itemType:"route"})),...O.map(V=>({...V,itemType:"event"}))];P.sort((V,te)=>(V.time||"00:00").localeCompare(te.time||"00:00"));const A=w===v,M=new Date(o,d,b).getDay();y.push(s.createElement("div",{key:b,className:`h-24 sm:h-28 p-1 border rounded-lg overflow-hidden cursor-pointer transition-all hover:shadow-md ${A?"bg-slate-700 border-primary-300":"border-slate-600 hover:border-primary-300"}`,onClick:()=>{kf(w),Cr({title:"",time:"09:00",memo:""}),rl(null),na(!0)}},s.createElement("div",{className:`text-sm font-bold mb-1 ${M===0?"text-rose-600":M===6?"text-primary-600":"text-slate-200"}`},b),s.createElement("div",{className:"space-y-0.5 overflow-y-auto max-h-14"},P.slice(0,3).map((V,te)=>{var I,re,$,H;if(V.itemType==="route"){const q=Ee.find(z=>z.id===V.managerId);return s.createElement("div",{key:`r-${V.id}`,onClick:z=>{z.stopPropagation(),Nr(V)},className:"text-xs px-1 py-0.5 rounded text-white leading-tight",style:{background:(q==null?void 0:q.color)||"#888"},title:`${(I=V.time)==null?void 0:I.slice(0,5)} ${V.name}`},(re=V.time)==null?void 0:re.slice(0,5)," ",V.name)}else{const q=Ee.find(T=>T.id===V.managerId),z=V.managerId&&q?q.color:"#6b7280";return s.createElement("div",{key:`e-${V.id}`,onClick:T=>{T.stopPropagation(),ki(V)},className:"text-xs px-1 py-0.5 rounded text-white leading-tight cursor-pointer hover:opacity-80",style:{background:z},title:`${($=V.time)==null?void 0:$.slice(0,5)} ${V.title}`},(H=V.time)==null?void 0:H.slice(0,5)," ",V.title)}}),P.length>3&&s.createElement("div",{className:"text-xs text-slate-200"},"+",P.length-3,""))))}return y})())),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("p",{className:"font-bold text-slate-200 mb-3"},"  "),(()=>{const o=new Date,d=new Date(o);d.setDate(o.getDate()-o.getDay());const f=new Date(d);f.setDate(d.getDate()+6);const p=Be.filter(b=>{const w=new Date(b.date);return w>=d&&w<=f}).map(b=>({...b,itemType:"route"})),v=$t.filter(b=>{const w=new Date(b.date);return w>=d&&w<=f}).map(b=>({...b,itemType:"event"})),y=[...p,...v].sort((b,w)=>{const N=new Date(b.date+" "+(b.time||"00:00")),O=new Date(w.date+" "+(w.time||"00:00"));return N-O});return y.length===0?s.createElement("p",{className:"text-center text-slate-200 py-4"},"   "):s.createElement("div",{className:"space-y-2"},y.map(b=>{var w;if(b.itemType==="route"){const N=Ee.find(P=>P.id===b.managerId),O=b.status==="completed";return s.createElement("div",{key:`r-${b.id}`,onClick:()=>Nr(b),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all hover:shadow-md ${O?"bg-emerald-900/30":"bg-slate-700"}`},s.createElement("div",{className:"text-center min-w-[40px]"},s.createElement("p",{className:"text-xs text-slate-200"},new Date(b.date).toLocaleDateString("ko-KR",{weekday:"short"})),s.createElement("p",{className:"font-bold text-slate-100"},b.date.slice(8))),s.createElement("div",{className:"flex-1 min-w-0"},s.createElement("p",{className:"font-bold text-slate-100 text-sm break-words leading-snug"},b.name),s.createElement("p",{className:"text-xs text-slate-200"},b.time||"","  ",((w=b.stops)==null?void 0:w.length)||0,"")),N&&s.createElement("span",{className:"px-2 py-1 rounded text-xs font-bold text-white",style:{background:N.color}},N.name))}else return s.createElement("div",{key:`e-${b.id}`,onClick:()=>{kf(b.date),Cr({title:b.title,time:b.time,memo:b.memo||""}),rl(b.id),na(!0)},className:"flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all hover:shadow-md bg-purple-50"},s.createElement("div",{className:"text-center min-w-[40px]"},s.createElement("p",{className:"text-xs text-slate-200"},new Date(b.date).toLocaleDateString("ko-KR",{weekday:"short"})),s.createElement("p",{className:"font-bold text-slate-100"},b.date.slice(8))),s.createElement("div",{className:"flex-1 min-w-0"},s.createElement("p",{className:"font-bold text-slate-100 text-sm break-words leading-snug"},b.title),s.createElement("p",{className:"text-xs text-slate-200 break-words"},b.time||""," ",b.memo?` ${b.memo}`:"")),s.createElement("span",{className:"px-2 py-1 rounded text-xs font-bold text-white bg-purple-500"},""))}))})())),_==="route"&&s.createElement("div",null,s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("h2",{className:"font-bold text-slate-100 text-xl"}," "),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex justify-between items-center mb-3"},s.createElement("p",{className:"text-sm text-slate-200 font-bold"},ta?"  ":" "),ta&&s.createElement("span",{className:"text-xs text-primary-600 bg-slate-700 px-2 py-1 rounded"}," ")),s.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-3"},s.createElement("input",{type:"text",placeholder:" (:  )",value:Ni,onChange:o=>Ci(o.target.value),className:"input-premium text-sm col-span-2"}),s.createElement("div",{className:"relative",onClick:()=>{var o,d;return(d=(o=document.getElementById("routeDateInput")).showPicker)==null?void 0:d.call(o)}},s.createElement("input",{id:"routeDateInput",type:"date",value:su,onChange:o=>el(o.target.value),className:"input-premium text-sm w-full cursor-pointer"})),s.createElement("div",{className:"relative",onClick:()=>{var o,d;return(d=(o=document.getElementById("routeTimeInput")).showPicker)==null?void 0:d.call(o)}},s.createElement("input",{id:"routeTimeInput",type:"time",value:au,onChange:o=>wi(o.target.value),className:"input-premium text-sm w-full cursor-pointer"}))),s.createElement("div",{className:"grid grid-cols-1 gap-2"},s.createElement("select",{value:Sf||"",onChange:o=>ts(Number(o.target.value)||null),className:"select-premium text-sm"},s.createElement("option",{value:""}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))))),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex justify-between items-center mb-3"},s.createElement("p",{className:"font-bold text-slate-200"}," ")),s.createElement("div",{className:"bg-slate-700 rounded-xl p-3"},s.createElement("div",{className:"flex gap-2"},s.createElement("div",{className:"flex gap-2 flex-1"},s.createElement("input",{type:"text",placeholder:", ,  ",value:sl,onChange:o=>Pf(o.target.value),onKeyPress:o=>o.key==="Enter"&&tp(),className:"input-premium text-sm",style:{flex:6}}),s.createElement("input",{type:"text",placeholder:" ()",value:Af,onChange:o=>Of(o.target.value),onKeyPress:o=>o.key==="Enter"&&tp(),className:"input-premium text-sm",style:{flex:4}})),s.createElement("button",{onClick:tp,disabled:iy,className:"btn-premium bg-slate-600 text-white text-sm px-4"},iy?"...":"")),Sr.length>0&&s.createElement("div",{className:"mt-2 p-2 bg-slate-700 rounded-lg border border-primary-300"},s.createElement("div",{className:"flex justify-between items-center mb-2"},s.createElement("p",{className:"text-xs text-primary-600 font-bold"},"  (",Sr.length,"/10)"),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>{Ri([]),Ty()},className:"text-xs text-rose-600"}," "))),s.createElement("div",{className:"space-y-1 max-h-32 overflow-y-auto"},Sr.map((o,d)=>s.createElement("div",{key:o.id,className:"flex items-center justify-between bg-slate-700 rounded px-2 py-1"},s.createElement("span",{className:"text-xs text-slate-200 truncate flex-1"},d+1,". ",o.name),s.createElement("button",{onClick:()=>vk(o.id),className:"ml-2 text-rose-600 hover:text-rose-600 text-xs"},"")))),s.createElement("button",{onClick:yk,className:"w-full mt-2 py-2 bg-primary-500 text-white rounded-lg text-sm font-bold"},Sr.length,"   ")),s.createElement("p",{className:"text-xs text-slate-200 mt-2"},"       "))),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("p",{className:"font-bold text-slate-200 mb-3"}," "),s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-2 gap-2"},s.createElement("select",{value:Ff,onChange:o=>oy(o.target.value),className:"select-premium text-sm"},s.createElement("option",{value:""}," "),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},""),s.createElement("option",{value:""},"")),s.createElement("optgroup",{label:""},s.createElement("option",{value:""},""),s.createElement("option",{value:""},""))),s.createElement("input",{type:"number",placeholder:" (: 10)",value:Pi,onChange:o=>TS(o.target.value),className:"input-premium text-sm",min:"1",max:"50"})),s.createElement("input",{type:"text",placeholder:" /   (: , , OO)",value:Ai,onChange:o=>{cy(o.target.value),o.target.value&&oy("")},className:"input-premium text-sm"}),s.createElement("button",{onClick:()=>{const o=Ai||Ff;if(!o)return alert("   ");if(!Pi||Pi<1)return alert("   (1~50)");const d=y=>{if(!y)return null;const b=y.split(/\s+/);for(const w of b)if((w.endsWith("")||w.endsWith("")||w.endsWith(""))&&w.length>=2&&w.length<=10)return w;return null},f=o.replace(/\(.*\)/,""),p=ra.filter(y=>{if(y.regions&&y.regions[f]||d(y.address)===f)return!0;if(Ai){const w=Ai.toLowerCase(),N=(y.name||y.officeName||y.realtorName||"").toLowerCase(),O=(y.address||"").toLowerCase();if(N.includes(w)||O.includes(w))return!0}return!1}).filter(y=>!Zf(y,ce)).filter(y=>!Ce.some(b=>b.name===(y.realtorName||y.officeName||y.name))).sort((y,b)=>(b.listings||b.listingCount||1)-(y.listings||y.listingCount||1)).slice(0,Math.min(Number(Pi),200));if(p.length===0)return alert(" /    .");const v=p.map(y=>({id:"stop_"+Date.now()+"_"+Math.random().toString(36).substr(2,5),name:y.realtorName||y.officeName||y.name,address:y.address||"",phone:y.cellPhone||y.phone||"",lat:null,lng:null,visited:!1,listings:y.listings||y.listingCount||1}));qt(y=>[...y,...v]),cy(""),alert(""+v.length+"   !")},disabled:!Ff&&!Ai||!Pi,className:"w-full btn-premium bg-teal-900/300 text-white py-3 font-bold disabled:opacity-50"},"  "),s.createElement("p",{className:"text-xs text-slate-400"},"*  ,    "))),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex justify-between items-center mb-3"},s.createElement("div",null,s.createElement("p",{className:"font-bold text-slate-200"},"  (",Ce.length,")"),zf&&s.createElement("p",{className:"text-xs text-primary-400 mt-1"}," ",zf.distance,"km   ",zf.duration,"")),s.createElement("div",{className:"flex gap-2"},Ce.length>=2&&s.createElement(s.Fragment,null,s.createElement("button",{type:"button",onClick:xk,className:"text-xs text-primary-600 font-bold"},""),s.createElement("button",{type:"button",onClick:bk,className:"text-xs text-primary-600 font-bold"}," ")),Ce.length>0&&s.createElement("button",{type:"button",onClick:()=>{qt([]),yu()},className:"text-xs text-rose-600"}," "))),Ce.length===0?s.createElement("div",{className:"text-center py-4 sm:py-6 text-slate-200"},s.createElement("p",{className:"text-2xl mb-2"}),s.createElement("p",{className:"text-sm"},"/ ")):s.createElement("div",{className:"space-y-0 max-h-48 overflow-y-auto"},Ce.map((o,d)=>{var v;const f=ce.find(y=>{var b;return y.name===o.name||y.address&&o.address&&y.address.includes((b=o.address)==null?void 0:b.split(" ").slice(0,3).join(" "))}),p=f?Ee.find(y=>y.id===f.managerId):null;return s.createElement("div",{key:o.id},s.createElement("div",{className:"flex items-center gap-2 p-2 bg-slate-900 rounded-lg"},s.createElement("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-teal-500 to-teal-600 text-white flex items-center justify-center font-bold text-xs shadow flex-shrink-0"},d+1),s.createElement("div",{className:"flex-1 min-w-0"},s.createElement("div",{className:"flex items-center gap-1.5 flex-wrap"},s.createElement("p",{className:"font-bold text-slate-100 text-sm break-words"},o.name),p&&s.createElement("span",{className:"px-1.5 py-0.5 text-xs rounded-full text-white font-bold",style:{backgroundColor:p.color}},(v=p.name)==null?void 0:v.slice(0,1))),o.address&&s.createElement("p",{className:"text-xs text-slate-200 break-words"},o.address),o.phone&&s.createElement("p",{className:"text-xs text-navy-300"},o.phone)),s.createElement("div",{className:"flex gap-1 flex-shrink-0"},d>0&&s.createElement("button",{type:"button",onClick:()=>Ry(d,-1),className:"w-6 h-6 rounded bg-slate-600 text-slate-200 text-xs"},""),d<Ce.length-1&&s.createElement("button",{type:"button",onClick:()=>Ry(d,1),className:"w-6 h-6 rounded bg-slate-600 text-slate-200 text-xs"},""),s.createElement("button",{type:"button",onClick:()=>Ek(o.id),className:"w-6 h-6 rounded bg-rose-100 text-rose-600 text-xs"},""))),d<Ce.length-1&&s.createElement("div",{className:"flex items-center pl-3 py-0.5"},s.createElement("span",{className:"text-primary-600 text-sm"},"")))})),(Ce.length>0||ta)&&s.createElement("div",{className:"mt-3 pt-3 border-t border-slate-600"},ta?s.createElement("div",{className:"flex gap-2"},s.createElement("button",{type:"button",onClick:Nk,className:"flex-1 btn-premium btn-outline py-3 font-bold"},""),s.createElement("button",{type:"button",onClick:Ly,className:"flex-1 btn-premium btn-gold py-3 font-bold"}," ")):s.createElement("button",{type:"button",onClick:Ly,className:"w-full btn-premium btn-gold py-3 font-bold"}," "))),s.createElement("div",{className:"card overflow-hidden"},s.createElement("div",{className:"p-3 border-b border-slate-600"},Ce.length>0&&s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{type:"button",onClick:()=>Fy(tl-1),disabled:tl<=0,className:"w-8 h-8 rounded bg-slate-600 text-slate-200 disabled:opacity-30"},""),s.createElement("div",{className:"flex-1 overflow-hidden"},s.createElement("div",{className:"flex gap-2 transition-transform",style:{transform:`translateX(-${tl*100}%)`}},Ce.map((o,d)=>s.createElement("button",{key:o.id,onClick:()=>Ck(o,d),className:`flex-shrink-0 w-full px-3 py-2 rounded-lg text-sm font-bold transition-all ${tl===d?"bg-slate-700 text-white":"bg-gray-100 text-slate-200"}`},d+1,". ",o.name)))),s.createElement("button",{type:"button",onClick:()=>Fy(tl+1),disabled:tl>=Ce.length-1,className:"w-8 h-8 rounded bg-slate-600 text-slate-200 disabled:opacity-30"},""))),s.createElement("div",{className:"relative"},s.createElement("div",{ref:$f,className:"route-map-container"}),s.createElement("div",{className:"absolute top-3 right-3 flex flex-col gap-2 z-10"},s.createElement("button",{onClick:hk,className:`w-10 h-10 rounded-full shadow-lg flex items-center justify-center transition-all ${mu?"bg-primary-500 text-white":"bg-slate-600 text-slate-200"}`,title:mu?"GPS ":"GPS "}),mu&&fu&&s.createElement("button",{onClick:gk,className:"w-10 h-10 rounded-full bg-slate-600 shadow-lg flex items-center justify-center text-primary-600",title:"  "})))),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex justify-between items-center mb-3"},s.createElement("p",{className:"font-bold text-slate-200"}," "),Be.length>0&&s.createElement("div",{className:"flex gap-2"},Kc?s.createElement(s.Fragment,null,s.createElement("button",{onClick:()=>{if(Xs.length===0)return alert("  .");confirm(`${Xs.length}  ?`)&&(Xs.forEach(o=>Ey(o)),qc([]),pf(!1),alert("  ."))},className:"px-3 py-1 bg-slate-600 text-white rounded text-xs font-bold"},Xs.length," "),s.createElement("button",{onClick:()=>{pf(!1),qc([])},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded text-xs font-bold"},"")):s.createElement("button",{onClick:()=>pf(!0),className:"px-3 py-1 bg-rose-100 text-rose-600 rounded text-xs font-bold"}," "))),Be.length===0?s.createElement("div",{className:"text-center py-4 sm:py-6 text-slate-200"},s.createElement("p",{className:"text-sm"},"  ")):s.createElement("div",{className:"space-y-2"},Be.sort((o,d)=>new Date(d.date)-new Date(o.date)).slice(0,50).map(o=>{const d=Ee.find(b=>b.id===o.managerId),f=(o.stops||[]).filter(b=>b.visited).length,p=(o.stops||[]).length,v=o.status==="completed",y=Xs.includes(o.id);return s.createElement("div",{key:o.id,className:`p-3 rounded-lg ${v?"bg-emerald-900/30":"bg-slate-700"} ${Kc&&y?"ring-2 ring-rose-400":""}`},s.createElement("div",{className:"flex items-start gap-3"},Kc&&s.createElement("input",{type:"checkbox",checked:y,onChange:b=>{b.target.checked?qc([...Xs,o.id]):qc(Xs.filter(w=>w!==o.id))},className:"w-5 h-5 mt-1 accent-rose-500"}),s.createElement("div",{className:`w-9 h-9 rounded-lg text-white flex items-center justify-center font-bold text-sm flex-shrink-0 ${v?"bg-emerald-500":"bg-slate-700"}`},""),s.createElement("div",{className:"flex-1 min-w-0"},s.createElement("p",{className:"font-bold text-slate-100 text-sm break-words leading-snug"},o.name||o.date),s.createElement("p",{className:"text-xs text-slate-200"},o.date," ",o.time||"","  ",f,"/",p,""),d&&s.createElement("span",{className:"inline-block mt-1 px-2 py-0.5 rounded text-xs font-bold text-white",style:{background:d.color}},d.name))),!Kc&&s.createElement("div",{className:"flex justify-end gap-2 mt-2 pt-2 border-t border-slate-700/30"},s.createElement("button",{type:"button",onClick:()=>Dy(o),className:"px-3 py-1 bg-slate-700 rounded text-xs text-primary-600 font-medium"},""),s.createElement("button",{type:"button",onClick:()=>Nr(o),className:"px-3 py-1 bg-slate-700 rounded text-xs text-slate-200 border font-medium"},""),s.createElement("button",{onClick:()=>_k(o),className:"px-3 py-1 bg-slate-700 rounded text-xs text-primary-600 font-medium"},""),!v&&s.createElement("button",{onClick:()=>wk(o),className:"px-3 py-1 bg-emerald-100 rounded text-xs text-emerald-700 font-medium"},""),s.createElement("button",{onClick:()=>nl({type:"route",id:o.id,name:o.name||o.date}),className:"px-3 py-1 bg-rose-100 rounded text-xs text-rose-600 font-medium"},"")))}))))),_==="map"&&s.createElement("div",null,s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"bg-slate-900 rounded-xl p-3 mb-4"},s.createElement("p",{className:"text-amber-800 font-bold text-sm mb-2"},"  "),s.createElement("div",{className:"flex flex-wrap gap-3 text-sm"},s.createElement("span",{className:"text-slate-200"}," : ",s.createElement("b",null,ce.length)),s.createElement("span",{className:"text-emerald-600"}," : ",s.createElement("b",null,ce.filter(o=>o.lat&&o.lng).length)),s.createElement("span",{className:"text-slate-200 cursor-pointer hover:text-primary-600",onClick:()=>ce.filter(o=>!o.lat||!o.lng).length>0&&Bc(!0)},": ",s.createElement("b",{className:"underline"},ce.filter(o=>!o.lat||!o.lng).length)))),s.createElement("div",{className:"grid grid-cols-2 gap-2 mb-3"},s.createElement("select",{value:sa,onChange:o=>fy(o.target.value),className:"select-premium text-sm"},s.createElement("option",{value:"all"}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("select",{value:aa,onChange:o=>py(o.target.value),className:"select-premium text-sm"},s.createElement("option",{value:"all"}," "),s.createElement("option",{value:"special"},""),s.createElement("option",{value:"positive"},""),s.createElement("option",{value:"neutral"},""),s.createElement("option",{value:"negative"}," "),s.createElement("option",{value:"missed"},""))),s.createElement("div",{className:"flex gap-2"},s.createElement("input",{type:"text",placeholder:"/  (: , )",value:Bf,onChange:o=>LS(o.target.value),onKeyPress:o=>o.key==="Enter"&&ky(),className:"input-premium flex-1 text-sm"}),s.createElement("button",{type:"button",onClick:ky,className:"btn-premium btn-gold text-sm"})),s.createElement("div",{className:"border-t border-slate-600 mt-4 pt-4"},s.createElement("p",{className:"text-sm text-slate-200 mb-2 font-bold"},"   "),s.createElement("div",{className:"flex flex-wrap gap-2 text-xs"},s.createElement("span",{className:"flex items-center gap-1"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-rose-600 special-blink"})," "),s.createElement("span",{className:"flex items-center gap-1"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-emerald-500"})," "),s.createElement("span",{className:"flex items-center gap-1"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-orange-400"})," "),s.createElement("span",{className:"flex items-center gap-1"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-gray-400"})," "),s.createElement("span",{className:"flex items-center gap-1"},s.createElement("div",{className:"w-3 h-3 rounded-full bg-yellow-500"})," ")),s.createElement("p",{className:"text-xs text-slate-200 mt-2"},"      "))),s.createElement("div",{className:"card overflow-hidden"},s.createElement("div",{ref:tu,className:"map-container"})))),_==="managers"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"flex justify-between items-center"},s.createElement("h2",{className:"font-bold text-slate-100 text-xl"}," "),s.createElement("button",{type:"button",onClick:()=>Hc(!0),className:"btn-premium btn-navy text-sm"}," ")),Ee.map(o=>{const d=ce.filter(T=>T.managerId===o.id),f=Fk(o.id),p=Fn||(n==null?void 0:n.managerId)===o.id,v=d.filter(T=>T.reaction==="special"),y=d.filter(T=>T.reaction==="positive"),b=d.filter(T=>T.reaction==="neutral"),w=d.filter(T=>T.reaction==="negative"),N=new Date,P=d.filter(T=>T.reaction==="positive"||T.reaction==="special").map(T=>{const D=T.lastVisitDate?new Date(T.lastVisitDate):T.createdAt?new Date(T.createdAt):null,ue=D?Math.floor((N-D)/(1e3*60*60*24)):0;return{...T,daysPassed:isNaN(ue)?0:ue,dateType:T.lastVisitDate?"":""}}).filter(T=>T.daysPassed>=7).sort((T,D)=>D.daysPassed-T.daysPassed),A=d.filter(T=>T.reaction==="missed").map(T=>{const D=T.createdAt?new Date(T.createdAt):null,ue=D?Math.floor((N-D)/(1e3*60*60*24)):0;return{...T,daysPassed:isNaN(ue)?0:ue}}).sort((T,D)=>D.daysPassed-T.daysPassed),M=cs(),V=$t.filter(T=>T.date===M&&T.managerId===o.id),te=Be.filter(T=>T.date===M&&T.managerId===o.id),I=Gp(),re=new Date(I.year,I.month,I.day-I.dayOfWeek),$=new Date(I.year,I.month,I.day+(6-I.dayOfWeek)),H=T=>{const D=T.getFullYear(),ue=String(T.getMonth()+1).padStart(2,"0"),pe=String(T.getDate()).padStart(2,"0");return`${D}-${ue}-${pe}`},q=$t.filter(T=>T.managerId===o.id&&T.date>=H(re)&&T.date<=H($)&&T.date!==M),z=Be.filter(T=>T.managerId===o.id&&T.date>=H(re)&&T.date<=H($)&&T.date!==M);return s.createElement("div",{key:o.id,className:"card p-5"},s.createElement("div",{className:"flex items-center gap-3 sm:gap-4 mb-4"},s.createElement("div",{className:"w-14 h-14 rounded-xl text-white flex items-center justify-center font-bold text-xl shadow-lg",style:{background:`linear-gradient(135deg, ${o.color}, ${o.color}dd)`}},o.name[0]),s.createElement("div",{className:"flex-1"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},o.name),s.createElement("p",{className:"text-sm text-slate-200"}," ",d.length,"")),s.createElement("div",{className:"text-right"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("p",{className:"text-xl sm:text-2xl font-bold text-emerald-600"},f.toLocaleString(),s.createElement("span",{className:"text-sm font-normal"},"")),p&&s.createElement("button",{onClick:()=>Gc({managerId:o.id,managerName:o.name,currentSales:f}),className:"px-2 py-1 bg-emerald-100 text-emerald-700 rounded text-xs font-bold hover:bg-emerald-200"},"")))),s.createElement("div",{className:"bg-slate-900 border border-slate-600 rounded-xl p-4 mb-4"},s.createElement("p",{className:"font-bold text-slate-200 text-sm mb-3"}," "),s.createElement("div",{className:"grid grid-cols-4 gap-2"},s.createElement("div",{className:"bg-slate-700 rounded-lg p-2 text-center border border-red-200"},s.createElement("p",{className:"text-lg font-bold text-rose-600"},v.length),s.createElement("p",{className:"text-xs text-red-400"},"")),s.createElement("div",{className:"bg-slate-700 rounded-lg p-2 text-center border border-green-200"},s.createElement("p",{className:"text-lg font-bold text-emerald-600"},y.length),s.createElement("p",{className:"text-xs text-green-400"},"")),s.createElement("div",{className:"bg-slate-700 rounded-lg p-2 text-center border border-slate-600"},s.createElement("p",{className:"text-lg font-bold text-orange-500"},b.length),s.createElement("p",{className:"text-xs text-orange-400"},"")),s.createElement("div",{className:"bg-slate-700 rounded-lg p-2 text-center border border-slate-600"},s.createElement("p",{className:"text-lg font-bold text-slate-200"},w.length),s.createElement("p",{className:"text-xs text-slate-200"},"")))),(V.length>0||te.length>0)&&s.createElement("div",{className:"bg-slate-700 border border-slate-600 rounded-xl p-3 mb-4"},s.createElement("p",{className:"font-bold text-primary-600 text-sm mb-2"}," "),s.createElement("div",{className:"space-y-1"},te.map(T=>{var D;return s.createElement("div",{key:T.id,className:"flex items-center gap-2 text-sm"},s.createElement("span",{className:"text-primary-600"},""),s.createElement("span",{className:"text-amber-800"},T.time," - ",T.name," (",((D=T.stops)==null?void 0:D.length)||0,")"))}),V.map(T=>s.createElement("div",{key:T.id,className:"flex items-center gap-2 text-sm"},s.createElement("span",{className:"text-primary-600"}),s.createElement("span",{className:"text-amber-800"},T.time," - ",T.title))))),P.length>0&&s.createElement("div",{className:"mb-4"},s.createElement("div",{className:"bg-rose-900/30 border border-rose-200 rounded-xl p-3 mb-2"},s.createElement("span",{className:"font-bold text-rose-700 text-sm"},"  (",P.length,")"),s.createElement("span",{className:"text-xs text-rose-600 ml-2"},"   7 ")),s.createElement("div",{className:"space-y-1 max-h-40 overflow-y-auto"},P.slice(0,10).map(T=>s.createElement("div",{key:T.id,className:"flex items-center justify-between bg-slate-700 p-2 rounded-lg border border-rose-200 cursor-pointer hover:bg-rose-900/30",onClick:()=>{ft(T)}},s.createElement("div",{className:"flex items-center gap-2 min-w-0 flex-1"},s.createElement("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${T.reaction==="special"?"bg-rose-600":"bg-emerald-500"}`}),s.createElement("span",{className:"font-bold text-slate-100 text-sm truncate"},T.name)),s.createElement("div",{className:"text-right flex-shrink-0 ml-2"},s.createElement("span",{className:"text-xs text-rose-600 font-bold"},T.daysPassed,""),s.createElement("span",{className:"text-xs text-rose-600 ml-1"},"(",T.dateType,")")))),P.length>10&&s.createElement("p",{className:"text-xs text-rose-600 text-center"},"+",P.length-10,""))),A.length>0&&s.createElement("div",{className:"mb-4"},s.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-3 mb-2"},s.createElement("span",{className:"font-bold text-amber-600 text-sm"},"  (",A.length,")"),s.createElement("span",{className:"text-xs text-yellow-500 ml-2"},"  ")),s.createElement("div",{className:"space-y-1 max-h-40 overflow-y-auto"},A.slice(0,10).map(T=>s.createElement("div",{key:T.id,className:"flex items-center justify-between bg-slate-700 p-2 rounded-lg border border-amber-200 cursor-pointer hover:bg-amber-900/30",onClick:()=>{ft(T)}},s.createElement("div",{className:"flex items-center gap-2 min-w-0 flex-1"},s.createElement("div",{className:"w-2 h-2 rounded-full flex-shrink-0 bg-yellow-500"}),s.createElement("span",{className:"font-bold text-slate-100 text-sm truncate"},T.name)),s.createElement("span",{className:"text-xs text-amber-600 flex-shrink-0 ml-2"},T.daysPassed,""))),A.length>10&&s.createElement("p",{className:"text-xs text-yellow-400 text-center"},"+",A.length-10,""))),(q.length>0||z.length>0)&&s.createElement("details",{className:"mb-4"},s.createElement("summary",{className:"bg-slate-700 border border-primary-300 rounded-xl p-3 cursor-pointer"},s.createElement("span",{className:"font-bold text-primary-600 text-sm"},"    (",q.length+z.length,")"),s.createElement("span",{className:"text-xs text-primary-600 ml-2"}," ")),s.createElement("div",{className:"mt-2 space-y-1 max-h-40 overflow-y-auto"},[...z.map(T=>({...T,type:"route"})),...q.map(T=>({...T,type:"event"}))].sort((T,D)=>T.date.localeCompare(D.date)||(T.time||"").localeCompare(D.time||"")).map((T,D)=>s.createElement("div",{key:D,className:"flex items-center gap-2 text-sm bg-slate-700 p-2 rounded-lg border border-primary-200"},s.createElement("span",{className:"text-primary-600"},T.type==="route"?"":""),s.createElement("span",{className:"text-xs text-blue-400 font-bold"},T.date.slice(5)),s.createElement("span",{className:"text-blue-800 truncate"},T.time||""," ",T.type==="route"?T.name:T.title))))),s.createElement("div",{className:"mb-4"},s.createElement("div",{className:"bg-slate-700 rounded-xl p-3 mb-2"},s.createElement("span",{className:"font-bold text-slate-200 text-sm"},"  "),p&&s.createElement("button",{type:"button",onClick:()=>{zc(o),wf({:!1,:!1,:!1,:!1})},className:"ml-3 px-3 py-1 bg-rose-500 rounded-lg font-bold text-xs text-white"},s.createElement("span",{className:"blink-text"}," "))),s.createElement("div",{className:"bg-slate-700 rounded-xl p-4"},s.createElement("div",{className:"grid grid-cols-4 gap-2"},Gb.map(T=>{var D,ue;return s.createElement("div",{key:T,className:"text-center"},s.createElement("p",{className:"text-xs text-slate-200 mb-1"},T),p?s.createElement("input",{type:"number",value:((D=o.promo)==null?void 0:D[T])||0,onChange:pe=>$k(o.id,T,pe.target.value),className:"w-full text-center p-2 border rounded-lg text-sm font-bold bg-white text-slate-900"}):s.createElement("p",{className:"font-bold text-slate-100"},((ue=o.promo)==null?void 0:ue[T])||0))})))))})),_==="sales"&&s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-xl p-4 shadow-lg"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("img",{src:"/logo.png",alt:"BEANCRAFT",className:"w-10 h-10 object-contain"}),s.createElement("div",null,s.createElement("h2",{className:"text-white font-bold text-lg"},"BEANCRAFT"),s.createElement("p",{className:"text-blue-200 text-xs"},"   "))),s.createElement("a",{href:"https://www.beancraft.co.kr",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-white text-blue-600 rounded-lg font-bold text-sm hover:bg-blue-50 transition-all flex items-center gap-2"},"  "))),(()=>{const[o,d]=x.useState(""),[f,p]=x.useState(null),[v,y]=x.useState(!1),b=N=>N?Z.find(P=>{var A,M,V;return((A=P.region)==null?void 0:A.includes(N))||((M=P.title)==null?void 0:M.includes(N))||((V=P.content)==null?void 0:V.includes(N))}):null,w=N=>{const O=ra.filter(A=>{var M;return(M=A.address)==null?void 0:M.includes(N)}),P=ce.filter(A=>{var M;return(M=A.address)==null?void 0:M.includes(N)});return{realtorCount:O.length,companyCount:P.length,totalListings:O.reduce((A,M)=>A+(M.listings||0),0)}};return s.createElement(s.Fragment,null,s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3 flex items-center gap-2"},"  "),s.createElement("div",{className:"flex gap-2"},s.createElement("input",{type:"text",value:o,onChange:N=>d(N.target.value),placeholder:"  (: , , )",className:"flex-1 px-4 py-3 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 placeholder-slate-400 focus:outline-none focus:border-blue-500"}),s.createElement("button",{onClick:()=>{o.trim()&&(p(o.trim()),y(!0))},className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-all"},"")),s.createElement("div",{className:"flex flex-wrap gap-2 mt-3"},["","","","","","","",""].map(N=>s.createElement("button",{key:N,onClick:()=>{d(N),p(N),y(!0)},className:"px-3 py-1.5 bg-slate-700 text-slate-300 rounded-full text-sm hover:bg-slate-600 transition-all"},N)))),v&&f&&s.createElement("div",{className:"card p-4 border-l-4 border-blue-500"},s.createElement("div",{className:"flex items-center justify-between mb-3"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg flex items-center gap-2"}," ",f,"  "),s.createElement("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-200"},"")),(()=>{const N=w(f);return s.createElement("div",{className:"grid grid-cols-3 gap-3 mb-4"},s.createElement("div",{className:"bg-slate-700/50 rounded-lg p-3 text-center"},s.createElement("p",{className:"text-2xl font-bold text-blue-400"},N.realtorCount),s.createElement("p",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"bg-slate-700/50 rounded-lg p-3 text-center"},s.createElement("p",{className:"text-2xl font-bold text-emerald-400"},N.companyCount),s.createElement("p",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"bg-slate-700/50 rounded-lg p-3 text-center"},s.createElement("p",{className:"text-2xl font-bold text-yellow-400"},N.totalListings.toLocaleString()),s.createElement("p",{className:"text-xs text-slate-400"}," ")))})(),(()=>{const N=b(f);if(N)return s.createElement("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4"},s.createElement("p",{className:"text-xs text-yellow-400 font-semibold mb-2"},"  "),s.createElement("p",{className:"text-slate-200 font-medium mb-1"},N.title),s.createElement("p",{className:"text-sm text-slate-300"},N.content),N.source&&s.createElement("p",{className:"text-xs text-slate-500 mt-2"},": ",N.source));{const P={:" 2,596  .   14.1%.   .",:",   .   .",:"//  .    .",:"IT  .    .   .",:"    .    .",:" .    .    .",:" .   . /   .",:"   2.    ."}[f]||"      .      .";return s.createElement("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4"},s.createElement("p",{className:"text-xs text-blue-400 font-semibold mb-2"},"  "),s.createElement("p",{className:"text-sm text-slate-300"},P))}})()))})(),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4 flex items-center gap-2 text-lg"},"  vs   "),s.createElement("div",{className:"overflow-x-auto"},s.createElement("table",{className:"w-full text-sm"},s.createElement("thead",null,s.createElement("tr",{className:"border-b border-slate-600"},s.createElement("th",{className:"py-3 px-2 text-left text-slate-400 font-medium"},""),s.createElement("th",{className:"py-3 px-2 text-center text-orange-400 font-medium"}," "),s.createElement("th",{className:"py-3 px-2 text-center text-emerald-400 font-medium"},""))),s.createElement("tbody",{className:"text-slate-300"},s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"500~1,500"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"100~300"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"}," ")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"-"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"1,000")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," ()"),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"15~50"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," (5)"),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"900~3,000"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," ()"),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"10~30"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300 font-bold"},"0")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"400+ ")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"400+ ")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"},""),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"  ()"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"},"  ()")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"}," ")),s.createElement("tr",{className:"border-b border-slate-700/50"},s.createElement("td",{className:"py-3 px-2 font-medium"}," "),s.createElement("td",{className:"py-3 px-2 text-center text-orange-300"},"1/15 "),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-300"}," ")),s.createElement("tr",{className:"bg-slate-700/30"},s.createElement("td",{className:"py-3 px-2 font-bold text-white"},"  (5)"),s.createElement("td",{className:"py-3 px-2 text-center text-orange-400 font-bold"},"1,500~4,500+"),s.createElement("td",{className:"py-3 px-2 text-center text-emerald-400 font-bold"},"1,800+"))))),s.createElement("div",{className:"mt-4 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg"},s.createElement("p",{className:"text-sm text-emerald-400 font-semibold mb-1"},"   "),s.createElement("p",{className:"text-sm text-slate-300"},"/ 0 5 ",s.createElement("span",{className:"text-emerald-400 font-bold"}," 900~3,000")," . //   ."))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4 flex items-center gap-2 text-lg"},"   "),s.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},s.createElement("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/30 rounded-xl p-4"},s.createElement("div",{className:"flex items-center gap-3 mb-3"},s.createElement("span",{className:"text-3xl"},""),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-blue-400"}," "),s.createElement("p",{className:"text-xs text-slate-400"},"   "))),s.createElement("ul",{className:"text-sm text-slate-300 space-y-1"},s.createElement("li",null," /  "),s.createElement("li",null,"   "),s.createElement("li",null,"   "))),s.createElement("div",{className:"bg-gradient-to-br from-emerald-500/20 to-emerald-600/10 border border-emerald-500/30 rounded-xl p-4"},s.createElement("div",{className:"flex items-center gap-3 mb-3"},s.createElement("span",{className:"text-3xl"},""),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-emerald-400"},""),s.createElement("p",{className:"text-xs text-slate-400"},"  "))),s.createElement("ul",{className:"text-sm text-slate-300 space-y-1"},s.createElement("li",null,"    "),s.createElement("li",null,"   "),s.createElement("li",null,"   "))),s.createElement("div",{className:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/10 border border-yellow-500/30 rounded-xl p-4"},s.createElement("div",{className:"flex items-center gap-3 mb-3"},s.createElement("span",{className:"text-3xl"},""),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-yellow-400"},"/"),s.createElement("p",{className:"text-xs text-slate-400"},"  "))),s.createElement("ul",{className:"text-sm text-slate-300 space-y-1"},s.createElement("li",null,"   ~"),s.createElement("li",null,"   "),s.createElement("li",null,"   "))),s.createElement("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/30 rounded-xl p-4"},s.createElement("div",{className:"flex items-center gap-3 mb-3"},s.createElement("span",{className:"text-3xl"},""),s.createElement("div",null,s.createElement("h4",{className:"font-bold text-purple-400"},"/"),s.createElement("p",{className:"text-xs text-slate-400"},"  "))),s.createElement("ul",{className:"text-sm text-slate-300 space-y-1"},s.createElement("li",null,"   "),s.createElement("li",null," //  "),s.createElement("li",null,"   "))))),s.createElement("div",{className:"card p-4"},s.createElement("h3",{className:"font-bold text-slate-100 mb-3 flex items-center gap-2 text-lg"},"   "),(()=>{const o={};ra.forEach(f=>{const p=f.address||"";let v="";p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")?v="":p.includes("")||p.includes("")?v="":p.includes("")||p.includes("")?v="":p.includes("")||p.includes("")?v="":p.includes("")||p.includes("")?v="":p.includes("")||p.includes("")?v="":p.includes("")||p.includes("")?v="":p.includes("")&&(v=""),o[v]||(o[v]={count:0,listings:0}),o[v].count++,o[v].listings+=f.listings||0});const d=Object.entries(o).filter(([f])=>f!=="").sort((f,p)=>p[1].count-f[1].count);return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3"},s.createElement("div",{className:"bg-blue-500/20 rounded-lg p-3 text-center"},s.createElement("p",{className:"text-2xl font-bold text-blue-400"},ra.length.toLocaleString()),s.createElement("p",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"bg-emerald-500/20 rounded-lg p-3 text-center"},s.createElement("p",{className:"text-2xl font-bold text-emerald-400"},ce.length),s.createElement("p",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"bg-yellow-500/20 rounded-lg p-3 text-center"},s.createElement("p",{className:"text-2xl font-bold text-yellow-400"},d.length),s.createElement("p",{className:"text-xs text-slate-400"}," ")),s.createElement("div",{className:"bg-purple-500/20 rounded-lg p-3 text-center"},s.createElement("p",{className:"text-2xl font-bold text-purple-400"},ra.reduce((f,p)=>f+(p.listings||0),0).toLocaleString()),s.createElement("p",{className:"text-xs text-slate-400"}," "))),s.createElement("div",{className:"mt-4"},s.createElement("p",{className:"text-xs text-slate-400 mb-2"},"  "),s.createElement("div",{className:"flex flex-wrap gap-2"},d.slice(0,10).map(([f,p])=>s.createElement("div",{key:f,className:"px-3 py-2 bg-slate-700/50 rounded-lg"},s.createElement("span",{className:"text-slate-200 font-medium"},f),s.createElement("span",{className:"text-slate-400 text-sm ml-2"},p.count,""))))))})()),s.createElement("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 rounded-xl p-6 text-center"},s.createElement("h3",{className:"text-xl font-bold text-white mb-2"}," ,  "),s.createElement("p",{className:"text-slate-300 mb-4"},"  "),s.createElement("div",{className:"flex justify-center gap-3"},s.createElement("a",{href:"https://www.beancraft.co.kr",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition-all"}," "),s.createElement("a",{href:"tel:1533-4875",className:"px-6 py-3 bg-emerald-600 text-white rounded-lg font-bold hover:bg-emerald-700 transition-all"}," 1533-4875")))),_==="realtors"&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("h2",{className:"font-bold text-slate-100 text-xl"}," "),(()=>{const o=I=>I.listingCount?I.listingCount:I.listings?I.listings:I.articleCounts&&I.articleCounts.total?I.articleCounts.total:0,d=I=>I.name&&(I.name.includes("")||I.name.includes("")||I.name.includes(""))?I.name:I.officeName?I.officeName:I.realtorName?I.realtorName:I.name||"( )",f=I=>I.agentName||I.agent||"",p=I=>I.agentPosition||"",v=I=>{if(!I)return"";if(I.includes("T")){const $=new Date(I);if(!isNaN($.getTime()))return $.toLocaleDateString("ko-KR")}const re=I.match(/(\d{4})\.\s*(\d{1,2})\.\s*(\d{1,2})/);if(re){const[,$,H,q]=re;return`${$}. ${H}. ${q}.`}return I},y=["","","","","","","","","","","","","","","","",""],b={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""},w=I=>{if(!I)return{city:"",district:""};const re=["","","","","","","","","","","","","","","","","","","","","","","","",""],$={:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","",""],:["","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","",""],:["",""]},H=[{pattern:/(|)?/,city:""},{pattern:/()?/,city:""},{pattern:/()?/,city:""},{pattern:/()?/,city:""},{pattern:/()?/,city:""},{pattern:/()?/,city:""},{pattern:/()?/,city:""},{pattern:/()?/,city:""},{pattern:/()?/,city:""},{pattern:/(|)?/,city:""},{pattern:/?()?|/,city:""},{pattern:/?()?|/,city:""},{pattern:/?(|)?|/,city:""},{pattern:/?()?|/,city:""},{pattern:/?()?|/,city:""},{pattern:/?()?|/,city:""},{pattern:/(|)?/,city:""}];let q="";for(const{pattern:D,city:ue}of H)if(D.test(I)){q=ue;break}let z="";const T=I.match(/([-]{1,4})(|)/);if(T){const D=T[1]+T[2];!D.includes("")&&!D.includes("")&&D.length<=5&&(z=D)}if(z===""&&q===""){for(const D of re)if(new RegExp(`${D}(?!\\S*)\\s|${D}(?!\\S*)$|\\s${D}\\s`).test(I)||I.includes(D+" ")||I.includes(D+"")){z=D+"";break}}if(q===""){const D=I.match(/([-]{2,4})(?![])/);if(D){const ue=D[1];for(const[pe,cl]of Object.entries($))if(cl.includes(ue)){q=pe,z===""&&(z=ue+"");break}}}if(z===""){const D=I.match(/([-]{2,4})(?![])/);D&&(z=D[1]+"")}if(q===""&&z!==""&&z.endsWith("")){const D=z.replace("","");re.includes(D)&&(q="")}return{city:q,district:z}},N=ra.filter(I=>{const re=d(I),$=re.includes("")||re.includes("")||re.includes(""),H=I.address&&I.address.length>5;return $||H}),O=I=>I.replace(/\s+/g,"").replace(/[^\w-]/g,"").toLowerCase(),P=new Map,A=N.filter(I=>{const re=d(I).trim(),$=O(re),{city:H,district:q}=w(I.address),z=`${$}-${H}-${q}`;if(P.has(z)){const T=P.get(z);return o(I)>o(T.data)?(N[T.index]=null,P.set(z,{data:I,index:N.indexOf(I)}),!0):!1}return P.set(z,{data:I,index:N.indexOf(I)}),!0}).filter(I=>I!==null);ce.forEach(I=>{Xf(I,A).isDuplicate||A.push({id:`company-${I.id}`,name:I.name,address:I.address,phone:I.phone,cellPhone:I.phone,listings:0,isFromCompany:!0,managerId:I.managerId,collected_at:I.createdAt,agentName:I.contact||"",memo:I.memo||"",reaction:I.reaction||"",lat:I.lat,lng:I.lng,companyId:I.id})});const M={};A.forEach(I=>{const{city:re,district:$}=w(I.address);re!==""&&(M[re]||(M[re]=new Set),$!==""&&M[re].add($))});const V=y.filter(I=>M[I]);A.reduce((I,re)=>I+o(re),0);const te=A.length>0&&A.some(I=>I.collected_at)?new Date(Math.max(...A.filter(I=>I.collected_at).map(I=>new Date(I.collected_at).getTime()))):null;return s.createElement(s.Fragment,null,s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6"},s.createElement("div",{className:"text-center"},s.createElement("p",{className:"text-2xl sm:text-3xl font-bold text-teal-600"},RS?" ...":A.length),s.createElement("p",{className:"text-xs text-slate-400"}," ")),te&&s.createElement("div",{className:"text-center"},s.createElement("p",{className:"text-lg font-bold text-slate-300"},te.toLocaleDateString("ko-KR")),s.createElement("p",{className:"text-xs text-slate-400"}," ")))),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("div",{className:"flex flex-wrap gap-2 mb-3"},s.createElement("input",{type:"text",placeholder:"()   ...",value:Df,onChange:I=>SS(I.target.value),className:"input-premium flex-1 min-w-[150px]"}),s.createElement("select",{value:Lf,onChange:I=>kS(I.target.value),className:"select-premium"},s.createElement("option",{value:""}," "),V.map(I=>s.createElement("optgroup",{key:I,label:`${b[I]||I}`},[...M[I]].sort().map(re=>s.createElement("option",{key:`${I}-${re}`,value:`${I}|${re}`},re))))),s.createElement("select",{value:uu,onChange:I=>IS(I.target.value),className:"select-premium"},s.createElement("option",{value:"listings"},"  "),s.createElement("option",{value:"recent"},"  "),s.createElement("option",{value:"name"}," "),s.createElement("option",{value:"unvisited"}," ")))),A.length===0?s.createElement("div",{className:"card p-8 text-center text-slate-400"},s.createElement("p",{className:"text-4xl mb-2"},""),s.createElement("p",null,"  "),s.createElement("p",{className:"text-xs mt-2"},"Chrome   ")):s.createElement("div",{className:"space-y-3"},(()=>{let I=[...A];if(Df){const z=Df.trim().replace(/$/,"").toLowerCase();I=I.filter(T=>{const D=(T.address||"").toLowerCase(),ue=d(T).toLowerCase(),pe=f(T).toLowerCase();return D.includes(z)||ue.includes(z)||pe.includes(z)})}if(Lf){const[H,q]=Lf.split("|");I=I.filter(z=>{const{city:T,district:D}=w(z.address);return H&&q?T===H&&D===q:!1})}uu==="recent"?I.sort((H,q)=>new Date(q.collected_at||0)-new Date(H.collected_at||0)):uu==="name"?I.sort((H,q)=>d(H).localeCompare(d(q))):uu==="unvisited"?I.sort((H,q)=>{const z=Zf(H,ce)?1:0,T=Zf(q,ce)?1:0;return z-T}):I.sort((H,q)=>o(q)-o(H));const re={};I.forEach(H=>{const{city:q,district:z}=w(H.address);q!==""&&(re[q]||(re[q]={}),re[q][z]||(re[q][z]=[]),re[q][z].push(H))});const $=y.filter(H=>re[H]);return $.length===0?s.createElement("div",{className:"card p-4 text-center text-slate-400"},"  "):$.map(H=>{const q=re[H],z=Object.values(q).flat().length,T=Object.keys(q).sort();return s.createElement("details",{key:H,className:"card overflow-hidden",open:$.length===1},s.createElement("summary",{className:"p-4 cursor-pointer hover:bg-slate-700 flex justify-between items-center font-bold text-slate-200 bg-slate-800"},s.createElement("span",null," ",b[H]||H," (",z,")"),s.createElement("span",{className:"text-xs text-slate-400"},T.length," /")),s.createElement("div",{className:"border-t border-slate-600"},T.map(D=>{const ue=q[D];return s.createElement("details",{key:D,className:"border-b border-slate-700"},s.createElement("summary",{className:"p-3 pl-6 cursor-pointer hover:bg-slate-700 flex justify-between items-center text-slate-300"},s.createElement("span",{className:"font-bold"},D," (",ue.length,")")),s.createElement("div",{className:"max-h-80 overflow-y-auto bg-slate-900"},ue.map((pe,cl)=>{const ls=d(pe),ul=o(pe),dl=Xf(pe,ce),ua=dl.isDuplicate||pe.isFromCompany,Li=dl.matchedCompany,da=pe.isFromCompany?Ee.find(le=>le.id===pe.managerId):Li?Ee.find(le=>le.id===Li.managerId):null,G=Ce.some(le=>le.name===ls);return s.createElement("div",{key:pe.id||cl,className:`p-3 pl-8 border-b border-slate-800 cursor-pointer hover:bg-slate-800 ${G?"bg-teal-900/20":ua?"bg-green-900/20":""}`,onClick:()=>Ei({...pe,officeName:ls,listingCount:ul,agentName:pe.isFromCompany?pe.agentName:f(pe),agentPosition:p(pe),isRegistered:ua,isInRoute:G,assignedManager:da,matchedCompany:Li,collectedDate:pe.collected_at?v(pe.collected_at):""})},s.createElement("div",{className:"flex justify-between items-center"},s.createElement("div",{className:"flex items-center gap-2 flex-wrap"},s.createElement("span",{className:"font-bold text-slate-100 text-sm"},ls),s.createElement("span",{className:"px-2 py-0.5 text-xs rounded-full bg-teal-900 text-teal-300 font-bold"},ul,""),G&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded-full bg-purple-900 text-purple-300"},""),ua&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-900 text-green-300"},""),da?s.createElement("span",{className:"px-1.5 py-0.5 text-xs rounded-full text-white font-bold",style:{backgroundColor:da.color}},da.name):s.createElement("span",{className:"px-1.5 py-0.5 text-xs rounded-full bg-slate-600 text-slate-300 font-bold"},"")),s.createElement("span",{className:"text-slate-500 text-sm"},"")),s.createElement("p",{className:"text-xs text-slate-500 mt-1"},pe.address||" "))}),ue.length>50&&s.createElement("p",{className:"text-center text-xs text-slate-500 py-2"},"... ",ue.length-50,"")))})))})})()))})()),_==="companies"&&s.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4"},s.createElement("div",{className:"lg:col-span-1 lg:order-2"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600 sticky top-20"},s.createElement("div",{className:"flex justify-between items-center mb-3"},s.createElement("h3",{className:"font-bold text-slate-100"}," "),s.createElement("div",{className:"relative"},s.createElement("input",{type:"file",accept:"image/*",capture:"environment",ref:vf,onChange:uk,className:"hidden"}),s.createElement("input",{type:"file",accept:"image/*",multiple:!0,ref:Kv,onChange:dk,className:"hidden"}),s.createElement("button",{onClick:()=>Wc(!Hv),className:"px-3 py-1 rounded-full border border-slate-600 text-xs text-slate-300 hover:border-slate-500"},"+  "),Hv&&s.createElement("div",{className:"absolute right-0 top-full mt-1 bg-slate-800 border border-slate-600 rounded-lg shadow-lg z-50 min-w-[120px]"},s.createElement("button",{onClick:()=>{Wc(!1),setTimeout(()=>{var o;return(o=vf.current)==null?void 0:o.click()},100)},className:"w-full px-3 py-2 text-left text-xs text-slate-300 hover:bg-slate-700 border-b border-slate-700"}," "),s.createElement("button",{onClick:()=>{Wc(!1),setTimeout(()=>{var o;return(o=Kv.current)==null?void 0:o.click()},100)},className:"w-full px-3 py-2 text-left text-xs text-slate-300 hover:bg-slate-700 border-b border-slate-700"}," "),s.createElement("button",{onClick:()=>{$c(!0),Wc(!1)},className:"w-full px-3 py-2 text-left text-xs text-slate-300 hover:bg-slate-700"}," ")))),s.createElement("div",{className:"space-y-2"},s.createElement("input",{type:"text",placeholder:"",value:ne.name,onChange:o=>lt({...ne,name:o.target.value}),className:"input-premium text-sm w-full"}),s.createElement("input",{type:"text",placeholder:"",value:ne.contact,onChange:o=>lt({...ne,contact:o.target.value}),className:"input-premium text-sm w-full"}),s.createElement("input",{type:"text",placeholder:"",value:ne.phone,onChange:o=>lt({...ne,phone:o.target.value}),className:"input-premium text-sm w-full"}),s.createElement("input",{type:"text",placeholder:"",value:ne.address,onChange:o=>lt({...ne,address:o.target.value}),className:"input-premium text-sm w-full"}),Fn?s.createElement("select",{value:ne.managerId||"",onChange:o=>lt({...ne,managerId:Number(o.target.value)||null}),className:"select-premium text-sm w-full"},s.createElement("option",{value:""}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))):s.createElement("div",{className:"input-premium text-sm flex items-center text-slate-400"},(n==null?void 0:n.name)||""," ()"),s.createElement("input",{type:"text",placeholder:"",value:ne.memo,onChange:o=>lt({...ne,memo:o.target.value}),className:"input-premium text-sm w-full"})),s.createElement("div",{className:"flex flex-wrap gap-1 mt-3"},Object.entries(gt).map(([o,d])=>s.createElement("button",{key:o,onClick:()=>lt({...ne,reaction:o}),className:`px-2 py-1 rounded-full text-xs text-white transition-all ${ne.reaction===o?"ring-1 ring-offset-1 ring-white":"opacity-50"}`,style:{background:d.bg}},d.label))),s.createElement("label",{className:"flex items-center gap-2 mt-3 text-xs text-slate-400 cursor-pointer"},s.createElement("input",{type:"checkbox",checked:ne.isReregistered||!1,onChange:o=>lt({...ne,isReregistered:o.target.checked}),className:"w-3 h-3 rounded"})," (  )"),s.createElement("button",{type:"button",onClick:Wy,className:"w-full mt-3 py-2 rounded-full border border-slate-600 text-slate-300 text-sm hover:border-slate-500"},""))),s.createElement("div",{className:"lg:col-span-2 lg:order-1"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("div",{className:"flex justify-between items-center mb-3"},s.createElement("h3",{className:"font-bold text-slate-100"},"  (",as.length,")")),(()=>{const o={special:as.filter(d=>d.reaction==="special").length,positive:as.filter(d=>d.reaction==="positive").length,neutral:as.filter(d=>d.reaction==="neutral").length,negative:as.filter(d=>d.reaction==="negative").length};return s.createElement("div",{className:"grid grid-cols-4 gap-2 mb-4"},s.createElement("div",{className:"text-center p-2 rounded-xl border border-slate-600"},s.createElement("p",{className:"text-lg font-bold text-rose-400"},o.special),s.createElement("p",{className:"text-xs text-slate-500"},"")),s.createElement("div",{className:"text-center p-2 rounded-xl border border-slate-600"},s.createElement("p",{className:"text-lg font-bold text-emerald-400"},o.positive),s.createElement("p",{className:"text-xs text-slate-500"},"")),s.createElement("div",{className:"text-center p-2 rounded-xl border border-slate-600"},s.createElement("p",{className:"text-lg font-bold text-orange-400"},o.neutral),s.createElement("p",{className:"text-xs text-slate-500"},"")),s.createElement("div",{className:"text-center p-2 rounded-xl border border-slate-600"},s.createElement("p",{className:"text-lg font-bold text-slate-400"},o.negative),s.createElement("p",{className:"text-xs text-slate-500"},"")))})(),s.createElement("div",{className:"grid grid-cols-3 gap-2 mb-4"},s.createElement("input",{type:"text",placeholder:" ",value:Gf,onChange:o=>FS(o.target.value),className:"input-premium text-sm"}),s.createElement("select",{value:Kf,onChange:o=>jS(o.target.value),className:"select-premium text-sm"},s.createElement("option",{value:"all"}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("select",{value:Oi,onChange:o=>US(o.target.value),className:"select-premium text-sm"},s.createElement("option",{value:"all"}," "),Object.entries(gt).map(([o,d])=>s.createElement("option",{key:o,value:o},d.label)))),Ee.filter(o=>Kf==="all"||o.id===Number(Kf)).map(o=>{let d=as.filter(y=>y.managerId===o.id);if(Oi!=="all"&&(d=d.filter(y=>y.reaction===Oi)),d.length===0)return null;const f=["special","positive","neutral","negative","missed"],p={};f.forEach(y=>{const b=d.filter(w=>w.reaction===y);b.length>0&&(p[y]=b)});const v=y=>{if(!y)return" ";const b=y.match(/(||||||||||||||||)[^\s]*\s*([^\s]+[])/);if(b)return b[2];const w=y.match(/([^\s]+[])/);return w?w[1]:""};return s.createElement("details",{key:o.id,className:"mb-4"},s.createElement("summary",{className:"flex items-center gap-2 p-3 rounded-xl cursor-pointer",style:{background:`${o.color}15`}},s.createElement("div",{className:"w-5 h-5 rounded-full",style:{background:o.color}}),s.createElement("span",{className:"font-bold text-slate-200 text-lg"},o.name),s.createElement("span",{className:"text-sm text-slate-200"},"(",d.length,")")),s.createElement("div",{className:"mt-2 ml-2"},f.map(y=>{const b=p[y];if(!b)return null;const w=gt[y],N={};return b.forEach(O=>{const P=v(O.address);N[P]||(N[P]=[]),N[P].push(O)}),s.createElement("details",{key:y,className:"mb-3"},s.createElement("summary",{className:"flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer",style:{background:`${w.bg}20`}},s.createElement("div",{className:"w-3 h-3 rounded-full",style:{background:w.bg}}),s.createElement("span",{className:"font-bold text-sm",style:{color:w.bg}},w.label),s.createElement("span",{className:"text-xs text-slate-200"},"(",b.length,")")),s.createElement("div",{className:"mt-2 ml-3"},Object.entries(N).map(([O,P])=>s.createElement("details",{key:O,className:"mb-2"},s.createElement("summary",{className:"text-xs text-slate-200 font-bold px-2 py-1 cursor-pointer hover:bg-slate-700 rounded"},O," (",P.length,")"),s.createElement("div",{className:"space-y-1 mt-1 ml-2"},P.map(A=>s.createElement("div",{key:A.id,className:"flex items-center justify-between p-2 bg-slate-700 rounded-lg border border-slate-600 cursor-pointer hover:bg-slate-700",onClick:()=>ft({...A})},s.createElement("div",{className:"flex items-center gap-2 min-w-0 flex-1"},s.createElement("span",{className:"font-bold text-slate-100 text-sm truncate"},A.name)),s.createElement("div",{className:"flex gap-2 flex-shrink-0"},s.createElement("button",{type:"button",onClick:M=>{M.stopPropagation(),ft({...A})},className:"text-slate-200 font-bold text-xs"},""),s.createElement("button",{type:"button",onClick:M=>{M.stopPropagation(),zy(A)},className:"text-rose-600 font-bold text-xs"},"")))))))))})))}),(()=>{let o=as.filter(d=>!d.managerId);return Oi!=="all"&&(o=o.filter(d=>d.reaction===Oi)),o.length===0?null:s.createElement("details",{className:"mb-4"},s.createElement("summary",{className:"flex items-center gap-2 p-3 rounded-xl bg-gray-100 cursor-pointer"},s.createElement("div",{className:"w-5 h-5 rounded-full bg-gray-400"}),s.createElement("span",{className:"font-bold text-slate-200"},""),s.createElement("span",{className:"text-sm text-slate-200"},"(",o.length,")")),s.createElement("div",{className:"space-y-2 mt-2 ml-2"},o.map(d=>{const f=gt[d.reaction]||gt.neutral;return s.createElement("div",{key:d.id,className:"flex items-center justify-between p-2 bg-slate-700 rounded-lg border border-slate-600 cursor-pointer hover:bg-slate-700",onClick:()=>ft({...d})},s.createElement("div",{className:"flex items-center gap-2 min-w-0 flex-1"},s.createElement("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{background:f.bg}}),s.createElement("span",{className:"font-bold text-slate-100 text-sm truncate"},d.name)),s.createElement("div",{className:"flex gap-2 flex-shrink-0"},s.createElement("span",{className:"px-2 py-0.5 rounded text-xs text-white font-bold",style:{background:f.bg}},f.label),s.createElement("button",{type:"button",onClick:p=>{p.stopPropagation(),zy(d)},className:"text-rose-600 font-bold text-xs"},"")))})))})(),as.length===0&&s.createElement("p",{className:"text-navy-300 text-center py-10"},"  ")))),_==="customers"&&s.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4"},s.createElement("div",{className:"lg:col-span-2 space-y-4"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4"}," "),nu.length===0?s.createElement("p",{className:"text-slate-500 text-center py-8"},"  "):s.createElement("div",{className:"space-y-2"},nu.map(o=>{var f;const d=Ee.find(p=>p.id===o.managerId);return s.createElement("div",{key:o.id,className:"flex items-center justify-between p-3 rounded-xl border border-slate-600 hover:border-slate-500 cursor-pointer",onClick:()=>bn(o)},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs",style:{background:(d==null?void 0:d.color)||"#666"}},((f=d==null?void 0:d.name)==null?void 0:f[0])||"?"),s.createElement("div",null,s.createElement("p",{className:"font-bold text-slate-200 text-sm"},o.name),s.createElement("p",{className:"text-xs text-slate-500"},o.phone,"  ",o.consultDate))),s.createElement("span",{className:`px-2 py-1 rounded-full text-xs ${o.status==="completed"?"text-emerald-400":o.status==="contract"?"text-blue-400":"text-slate-400"}`},o.status==="completed"?"":o.status==="contract"?"":""))})))),s.createElement("div",{className:"lg:col-span-1"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600 sticky top-20"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4"}," "),s.createElement("div",{className:"space-y-3"},s.createElement("select",{value:Yt.managerId||"",onChange:o=>la({...Yt,managerId:Number(o.target.value)||null}),className:"select-premium text-sm w-full"},s.createElement("option",{value:""}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("input",{type:"text",placeholder:" *",value:Yt.name,onChange:o=>la({...Yt,name:o.target.value}),className:"input-premium text-sm w-full"}),s.createElement("input",{type:"text",placeholder:"",value:Yt.phone,onChange:o=>la({...Yt,phone:o.target.value}),className:"input-premium text-sm w-full"}),s.createElement("input",{type:"date",value:Yt.consultDate,onChange:o=>la({...Yt,consultDate:o.target.value}),className:"input-premium text-sm w-full"}),s.createElement("div",{className:"flex gap-2"},["consult","contract","completed"].map(o=>s.createElement("button",{key:o,onClick:()=>la({...Yt,status:o}),className:`flex-1 px-2 py-2 rounded-full text-xs ${Yt.status===o?"bg-slate-600 text-white":"border border-slate-600 text-slate-400"}`},o==="consult"?"":o==="contract"?"":""))),s.createElement("textarea",{placeholder:"",value:Yt.memo,onChange:o=>la({...Yt,memo:o.target.value}),className:"input-premium text-sm w-full h-20 resize-none"}),s.createElement("button",{type:"button",onClick:Mk,className:"w-full py-2 rounded-full border border-slate-600 text-slate-300 text-sm hover:border-slate-500"},""))))),_==="settings"&&s.createElement("div",{className:"space-y-4"},s.createElement("h2",{className:"font-bold text-slate-100 text-xl"},""),s.createElement("div",{className:"flex gap-2 p-1 rounded-full border border-slate-600 w-fit flex-wrap"},s.createElement("button",{type:"button",onClick:()=>Tc("theme"),className:`px-4 py-2 rounded-full text-sm transition-all ${Zr==="theme"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`},""),s.createElement("button",{type:"button",onClick:()=>Tc("ments"),className:`px-4 py-2 rounded-full text-sm transition-all ${Zr==="ments"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`},""),s.createElement("button",{type:"button",onClick:()=>Tc("account"),className:`px-4 py-2 rounded-full text-sm transition-all ${Zr==="account"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`},""),Fn&&s.createElement("button",{type:"button",onClick:()=>Tc("admin"),className:`px-4 py-2 rounded-full text-sm transition-all ${Zr==="admin"?"bg-slate-600 text-white":"text-slate-400 hover:text-white"}`},"")),Zr==="ments"&&s.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4"},s.createElement("div",{className:"lg:col-span-2"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100"},"  "),s.createElement("button",{type:"button",onClick:()=>{Qm(null),qa(!0)},className:"px-3 py-1 rounded-full border border-slate-600 text-sm text-slate-300 hover:border-slate-500"},"+  ")),Ym.length===0?s.createElement("p",{className:"text-center py-8 text-slate-500"},"  "):s.createElement("div",{className:"space-y-3"},Ym.map(o=>s.createElement("div",{key:o.id,className:"p-4 rounded-xl border border-slate-600 hover:border-slate-500"},s.createElement("div",{className:"flex justify-between items-start mb-2"},s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs ${o.type==="broker"?"text-blue-400":"text-emerald-400"}`},o.type==="broker"?"":""),s.createElement("span",{className:"font-bold text-slate-100"},o.name)),s.createElement("div",{className:"flex gap-1"},s.createElement("button",{type:"button",onClick:()=>{KC(o),Jm(o.content),Ic(!0)},className:"px-2 py-1 rounded-full text-xs border border-slate-600 text-slate-400 hover:border-slate-500"},"AI"),s.createElement("button",{type:"button",onClick:()=>{Qm(o),Xn({name:o.name,content:o.content,type:o.type||"broker",memo:o.memo||""}),qa(!0)},className:"px-2 py-1 rounded-full text-xs border border-slate-600 text-slate-400 hover:border-slate-500"},""),s.createElement("button",{type:"button",onClick:()=>{confirm("?")&&KS(o.id)},className:"px-2 py-1 rounded-full text-xs border border-rose-600/50 text-rose-400 hover:border-rose-500"},""))),s.createElement("p",{className:"text-sm text-slate-300 mb-2 whitespace-pre-wrap"},o.content),s.createElement("div",{className:"flex gap-4 text-xs text-slate-500"},s.createElement("span",null," ",o.useCount||0,""),s.createElement("span",null," ",o.useCount>0?Math.round((o.successCount||0)/o.useCount*100):0,"%"))))))),s.createElement("div",{className:"lg:col-span-1"},s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4"},"AI  "),kc.length===0?s.createElement("p",{className:"text-center py-4 text-slate-500 text-sm"}," "):s.createElement("div",{className:"space-y-2 max-h-60 overflow-y-auto"},kc.slice().reverse().slice(0,10).map(o=>s.createElement("div",{key:o.id,className:"p-3 rounded-xl border border-slate-700"},s.createElement("div",{className:"flex justify-between items-center mb-1"},s.createElement("span",{className:"font-medium text-slate-200 text-sm"},o.mentName),s.createElement("span",{className:"text-xs text-slate-500"},new Date(o.createdAt).toLocaleDateString())),s.createElement("p",{className:"text-xs text-slate-400 line-clamp-2"},o.question))))))),Zr==="theme"&&s.createElement("div",{className:"space-y-4"},s.createElement("div",{className:"card p-4 rounded-2xl border border-amber-500/50 bg-gradient-to-r from-amber-500/10 to-transparent"},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",null,s.createElement("h3",{className:"font-bold text-amber-400 text-lg"},""),s.createElement("p",{className:"text-sm text-slate-400 mt-1"},"   ")),s.createElement("button",{onClick:()=>{Ac(Date.now()),pi(60),Ya(!1),Iv(!0)},className:"px-6 py-3 rounded-xl bg-gradient-to-r from-amber-500 to-yellow-500 text-white font-bold hover:from-amber-600 hover:to-yellow-600 transition-all shadow-lg shadow-amber-500/25"},""))),s.createElement("div",{className:"card p-4 rounded-2xl border border-slate-600"},s.createElement("h3",{className:"font-bold text-slate-100 mb-4"}," "),s.createElement("div",{className:"grid grid-cols-3 gap-3"},s.createElement("button",{onClick:()=>lf("light"),className:`p-4 rounded-xl border transition-all ${_r==="light"?"border-slate-400":"border-slate-600 hover:border-slate-500"}`},s.createElement("div",{className:"text-xl mb-1"},""),s.createElement("div",{className:"text-xs text-slate-300"},"")),s.createElement("button",{onClick:()=>lf("dark"),className:`p-4 rounded-xl border transition-all ${_r==="dark"?"border-slate-400":"border-slate-600 hover:border-slate-500"}`},s.createElement("div",{className:"text-xl mb-1"},""),s.createElement("div",{className:"text-xs text-slate-300"},"")),s.createElement("button",{onClick:()=>lf("auto"),className:`p-4 rounded-xl border transition-all ${_r==="auto"?"border-slate-400":"border-slate-600 hover:border-slate-500"}`},s.createElement("div",{className:"text-xl mb-1"}),s.createElement("div",{className:"text-xs text-slate-300"},""))),s.createElement("p",{className:"text-xs text-slate-500 mt-3"},_r==="auto"?"    .":_r==="light"?"  .":"  ."))),Zr==="account"&&s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg mb-4"},"   "),s.createElement("div",{className:"space-y-3"},s.createElement("input",{type:"password",placeholder:" ",value:tr,onChange:o=>Jc(o.target.value),className:"input-premium"}),s.createElement("input",{type:"password",placeholder:" ",value:Xc,onChange:o=>Zc(o.target.value),className:"input-premium"}),s.createElement("button",{type:"button",onClick:Fn?$y:jy,className:"btn-premium btn-gold w-full"}," ")),s.createElement("p",{className:"text-xs text-slate-400 mt-3"},"  4  . ",Fn?"( )":"")),Zr==="admin"&&Fn&&s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg mb-3"},"  "),s.createElement("p",{className:"text-sm text-slate-400 mb-3"},"  : ",ce.filter(o=>o.isReregistered).length,""),s.createElement("button",{onClick:()=>{const o=ce.filter(d=>d.isReregistered);if(o.length===0){alert("   .");return}confirm(`  ${o.length}    ?
(  ,    )`)&&(o.forEach(d=>{Pr({...d,isReregistered:!1})}),alert("   ."))},className:"btn-premium bg-rose-600 hover:bg-rose-700 text-white w-full"},"   "),s.createElement("p",{className:"text-xs text-slate-500 mt-2"},"        .")),Di.length>0&&s.createElement("div",{className:"card p-4 border-2 border-rose-200"},s.createElement("h3",{className:"font-bold text-rose-600 text-lg mb-4"},"  (",Di.length,")"),s.createElement("div",{className:"space-y-3"},Di.map(o=>{var d;return s.createElement("div",{key:o.id,className:"flex items-center justify-between p-4 bg-rose-900/30 rounded-xl"},s.createElement("div",null,s.createElement("p",{className:"font-bold text-slate-200"},o.managerName),s.createElement("p",{className:"text-sm text-slate-200"},(d=o.items)==null?void 0:d.join(", "))),s.createElement("button",{type:"button",onClick:()=>jk(o.id),className:"btn-premium btn-gold text-sm"},""))}))),s.createElement("div",{className:"card p-3 sm:p-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg mb-4"}," "),Ee.map(o=>{const d=wS[o.id],f=(d==null?void 0:d.isOnline)&&Date.now()-new Date(d.lastSeen).getTime()<12e4;return s.createElement("div",{key:o.id,className:"flex items-center gap-3 mb-3 p-3 bg-slate-700 rounded-xl"},s.createElement("div",{className:"relative"},s.createElement("div",{className:"w-10 h-10 rounded-lg flex-shrink-0",style:{background:o.color}}),s.createElement("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ${f?"bg-emerald-500":"bg-gray-400"}`})),s.createElement("div",{className:"flex-1 min-w-0"},s.createElement("input",{type:"text",value:o.name,onChange:p=>qf({...o,name:p.target.value}),className:"input-premium w-full mb-1"}),s.createElement("p",{className:"text-xs text-slate-200"},f?"":`${zk(d==null?void 0:d.lastSeen)}`,"  ",o.username)),s.createElement("input",{type:"color",value:o.color,onChange:p=>qf({...o,color:p.target.value}),className:"w-10 h-10 rounded cursor-pointer flex-shrink-0"}),s.createElement("button",{type:"button",onClick:()=>{confirm("?")&&se.ref("managers/"+o.id).remove()},className:"text-rose-600 font-bold text-sm flex-shrink-0"},""))}))))),wr&&s.createElement("div",{className:"modal-overlay",onClick:()=>vi(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},qb(wr.region)),s.createElement("button",{type:"button",onClick:()=>vi(null),className:"text-slate-200 text-2xl"},"")),s.createElement("p",{className:"text-slate-200 mb-4"},wr.status==="confirmed"?"":"",": ",(rE=wr.manager)==null?void 0:rE.name),s.createElement("div",{className:"mb-4"},s.createElement("label",{className:"text-sm text-slate-200 mb-2 block"},""),s.createElement("input",{type:"date",value:wr.date||"",onChange:o=>{nk(wr.id,o.target.value),vi({...wr,date:o.target.value})},className:"input-premium"})),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{type:"button",onClick:()=>vi(null),className:"btn-premium btn-outline flex-1"},""),ek(wr)&&s.createElement("button",{type:"button",onClick:()=>tk(wr.id),className:"btn-premium bg-rose-500 text-white flex-1"},"")))),X&&s.createElement("div",{className:"modal-overlay",onClick:()=>Ei(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>Ei(null),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3 sm:space-y-4"},s.createElement("div",{className:"bg-slate-900 rounded-xl p-4"},s.createElement("p",{className:"font-bold text-slate-100 text-lg mb-1"},X.officeName),s.createElement("p",{className:"text-sm text-slate-400"},X.address||" "),s.createElement("div",{className:"flex gap-2 mt-2"},s.createElement("span",{className:"px-2 py-0.5 text-xs rounded-full bg-teal-100 text-teal-700 font-bold"},X.listingCount,""),X.isInRoute&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded-full bg-teal-900/300 text-white"},""),X.isRegistered&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-500 text-white"},""))),s.createElement("div",{className:"grid grid-cols-2 gap-3 text-sm"},s.createElement("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3"},s.createElement("p",{className:"text-slate-400 text-xs mb-1"},""),s.createElement("p",{className:"font-bold text-slate-200"},X.phone||"-")),s.createElement("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3"},s.createElement("p",{className:"text-slate-400 text-xs mb-1"},""),s.createElement("p",{className:"font-bold text-slate-200"},X.cellPhone||"-")),s.createElement("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3"},s.createElement("p",{className:"text-slate-400 text-xs mb-1"},X.isFromCompany?" ":""),s.createElement("p",{className:"font-bold text-slate-200"},X.assignedManager?s.createElement("span",{className:"px-2 py-0.5 rounded-full text-white text-xs",style:{backgroundColor:X.assignedManager.color}},X.assignedManager.name):X.agentPosition||X.agentName?`${X.agentPosition} ${X.agentName}`.trim():"")),s.createElement("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3"},s.createElement("p",{className:"text-slate-400 text-xs mb-1"},X.isFromCompany?"":""),s.createElement("p",{className:"font-bold text-slate-200"},X.collectedDate||"-")),X.isFromCompany&&X.agentName&&s.createElement("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 col-span-2"},s.createElement("p",{className:"text-slate-400 text-xs mb-1"}," "),s.createElement("p",{className:"font-bold text-slate-200"},X.agentName)),X.isFromCompany&&X.reaction&&s.createElement("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 col-span-2"},s.createElement("p",{className:"text-slate-400 text-xs mb-1"},""),s.createElement("p",{className:"font-bold text-slate-200"},X.reaction==="negative"&&s.createElement("span",{className:"px-2 py-0.5 rounded bg-slate-600 text-slate-300"},""),X.reaction==="positive"&&s.createElement("span",{className:"px-2 py-0.5 rounded bg-amber-600 text-white"},""),X.reaction==="good"&&s.createElement("span",{className:"px-2 py-0.5 rounded bg-green-600 text-white"},""),X.reaction==="special"&&s.createElement("span",{className:"px-2 py-0.5 rounded bg-red-600 text-white"},""),X.reaction==="skip"&&s.createElement("span",{className:"px-2 py-0.5 rounded bg-yellow-600 text-white"},""))),X.isFromCompany&&X.memo&&s.createElement("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 col-span-2"},s.createElement("p",{className:"text-slate-400 text-xs mb-1"},""),s.createElement("p",{className:"text-slate-200 text-sm"},X.memo))),X.articleCounts&&s.createElement("div",{className:"flex flex-wrap gap-1"},X.articleCounts.sale>0&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded bg-blue-100 text-blue-700"}," ",X.articleCounts.sale),X.articleCounts.jeonse>0&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded bg-green-100 text-green-700"}," ",X.articleCounts.jeonse),X.articleCounts.monthly>0&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded bg-orange-100 text-orange-700"}," ",X.articleCounts.monthly),X.articleCounts.short>0&&s.createElement("span",{className:"px-2 py-0.5 text-xs rounded bg-purple-100 text-purple-700"}," ",X.articleCounts.short)),X.regions&&Object.keys(X.regions).length>0&&s.createElement("div",{className:"flex flex-wrap gap-1"},Object.entries(X.regions).sort((o,d)=>d[1]-o[1]).map(([o,d])=>s.createElement("span",{key:o,className:"px-2 py-0.5 text-xs rounded bg-slate-600 text-slate-300"},o,": ",d,""))),s.createElement("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-slate-600"},!X.isInRoute&&s.createElement("button",{type:"button",onClick:()=>{var f,p;const o=X.address,d=(v,y)=>{qt(b=>[...b,{id:"stop_"+Date.now()+"_"+Math.random().toString(36).substr(2,5),name:X.officeName,address:o||"",phone:X.cellPhone||X.phone||"",lat:v,lng:y,visited:!1,listings:X.listingCount,companyId:X.companyId||null}]),Ei(null),alert(" !")};X.lat&&X.lng?d(X.lat,X.lng):o&&((p=(f=window.naver)==null?void 0:f.maps)!=null&&p.Service)?window.naver.maps.Service.geocode({query:o},(v,y)=>{if(v===window.naver.maps.Service.Status.OK&&y.v2.addresses.length>0){const b=y.v2.addresses[0];d(parseFloat(b.y),parseFloat(b.x))}else d(null,null)}):d(null,null)},className:"btn-premium btn-gold text-sm flex-1"},"+  "),!X.isRegistered&&s.createElement("button",{type:"button",onClick:()=>{lt({name:X.officeName,contact:X.agentName!==""?X.agentName:"",phone:X.cellPhone||X.phone||"",address:X.address||"",managerId:null,memo:` ${X.listingCount} | : ${X.collectedDate}`,reaction:"none"}),Ei(null),S("companies")},className:"btn-premium btn-navy text-sm flex-1"}," "))))),nt&&s.createElement("div",{className:"modal-overlay",onClick:()=>yi(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("div",{className:`w-4 h-4 rounded-full ${(sE=gt[nt.reaction])!=null&&sE.blink?"special-blink":""}`,style:{background:((aE=gt[nt.reaction])==null?void 0:aE.bg)||"#f97316"}}),s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},nt.name)),s.createElement("button",{type:"button",onClick:()=>yi(null),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3 mb-4"},nt.contact&&s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-slate-200 text-sm w-16"},""),s.createElement("span",{className:"font-bold text-slate-200"},nt.contact)),nt.phone&&s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-slate-200 text-sm w-16"},""),s.createElement("a",{href:`tel:${nt.phone}`,className:"font-bold text-primary-600 md:pointer-events-none md:text-slate-200"},nt.phone)),nt.address&&s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-slate-200 text-sm w-16"},""),s.createElement("span",{className:"text-slate-200 text-sm"},nt.address)),nt.manager&&s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-slate-200 text-sm w-16"},""),s.createElement("span",{className:"font-bold",style:{color:nt.manager.color}},nt.manager.name)),nt.memo&&s.createElement("div",{className:"bg-slate-700 p-3 rounded-lg"},s.createElement("p",{className:"text-xs text-primary-600 font-bold mb-1"},""),s.createElement("p",{className:"text-sm text-amber-800"},nt.memo))),s.createElement("div",{className:"flex items-center gap-2 mb-4"},s.createElement("span",{className:"text-sm text-slate-200"},":"),s.createElement("span",{className:`px-3 py-1 rounded-full text-xs text-white font-bold ${(lE=gt[nt.reaction])!=null&&lE.blink?"special-blink":""}`,style:{background:((iE=gt[nt.reaction])==null?void 0:iE.bg)||"#f97316"}},((oE=gt[nt.reaction])==null?void 0:oE.label)||"")),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>{ft({...nt}),yi(null)},className:"btn-premium btn-gold flex-1"},""),s.createElement("button",{type:"button",onClick:()=>yi(null),className:"btn-premium btn-outline flex-1"},"")))),lS&&s.createElement("div",{className:"modal-overlay",onClick:()=>zc(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("h3",{className:"font-bold text-slate-100 text-lg mb-4"},"  "),s.createElement("div",{className:"space-y-3 mb-4"},Gb.map(o=>s.createElement("label",{key:o,className:"flex items-center gap-3 p-3 bg-slate-700 rounded-xl cursor-pointer"},s.createElement("input",{type:"checkbox",checked:_f[o],onChange:d=>wf({..._f,[o]:d.target.checked}),className:"w-5 h-5 accent-gold-500"}),s.createElement("span",{className:"font-bold text-slate-200"},o)))),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{type:"button",onClick:()=>zc(null),className:"btn-premium btn-outline flex-1"},""),s.createElement("button",{type:"button",onClick:Uk,className:"btn-premium btn-gold flex-1"}," ")))),St&&s.createElement("div",{className:"modal-overlay",onClick:()=>ft(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>ft(null),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3"},s.createElement("input",{type:"text",placeholder:"",value:St.name,onChange:o=>ft({...St,name:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"text",placeholder:"",value:St.contact||"",onChange:o=>ft({...St,contact:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"text",placeholder:"",value:St.phone||"",onChange:o=>ft({...St,phone:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"text",placeholder:"",value:St.address||"",onChange:o=>ft({...St,address:o.target.value}),className:"input-premium"}),s.createElement("select",{value:St.managerId||"",onChange:o=>ft({...St,managerId:Number(o.target.value)||null}),className:"select-premium"},s.createElement("option",{value:""}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("input",{type:"text",placeholder:"",value:St.memo||"",onChange:o=>ft({...St,memo:o.target.value}),className:"input-premium"}),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("span",{className:"text-sm text-slate-200"},":"),Object.entries(gt).map(([o,d])=>s.createElement("button",{key:o,onClick:()=>ft({...St,reaction:o}),className:`px-3 py-1.5 rounded-full text-xs text-white font-bold ${St.reaction===o?"ring-2 ring-offset-1":"opacity-50"}`,style:{background:d.bg}},d.label)))),s.createElement("div",{className:"flex gap-2 mt-4"},s.createElement("button",{type:"button",onClick:()=>ft(null),className:"btn-premium btn-outline flex-1"},""),s.createElement("button",{type:"button",onClick:Ak,className:"btn-premium btn-gold flex-1"},"")))),pt&&s.createElement("div",{className:"modal-overlay",onClick:()=>bn(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>bn(null),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3"},s.createElement("input",{type:"text",placeholder:"",value:pt.name,onChange:o=>bn({...pt,name:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"text",placeholder:"",value:pt.phone||"",onChange:o=>bn({...pt,phone:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"date",value:pt.consultDate||"",onChange:o=>bn({...pt,consultDate:o.target.value}),className:"input-premium"}),s.createElement("select",{value:pt.managerId||"",onChange:o=>bn({...pt,managerId:Number(o.target.value)||null}),className:"select-premium"},s.createElement("option",{value:""}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("div",null,s.createElement("p",{className:"text-sm text-slate-200 mb-2"},""),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>bn({...pt,status:"consult"}),className:`px-4 py-2 rounded-full text-sm font-bold ${pt.status==="consult"||!pt.status?"bg-primary-500 text-white":"bg-slate-700 text-primary-600"}`},""),s.createElement("button",{onClick:()=>bn({...pt,status:"contract"}),className:`px-4 py-2 rounded-full text-sm font-bold ${pt.status==="contract"?"bg-emerald-500 text-white":"bg-emerald-100 text-emerald-600"}`},""))),s.createElement("textarea",{placeholder:"",value:pt.memo||"",onChange:o=>bn({...pt,memo:o.target.value}),className:"input-premium h-20"})),s.createElement("div",{className:"flex gap-2 mt-4"},s.createElement("button",{type:"button",onClick:()=>bn(null),className:"btn-premium btn-outline flex-1"},""),s.createElement("button",{type:"button",onClick:Dk,className:"btn-premium btn-navy flex-1"},"")))),xi&&s.createElement("div",{className:"modal-overlay",onClick:()=>Vc(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},xi.status==="planned"?"":"","  "),s.createElement("button",{type:"button",onClick:()=>Vc(null),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"flex gap-2 mb-4"},s.createElement("button",{type:"button",onClick:()=>Za(xi.pins.map(o=>o.id)),className:"text-sm text-gold-600 font-bold"}," "),s.createElement("button",{type:"button",onClick:()=>Za([]),className:"text-sm text-slate-200 font-bold"}," ")),s.createElement("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-4"},xi.pins.map(o=>s.createElement("label",{key:o.id,className:"flex items-center gap-3 p-3 bg-slate-700 rounded-xl cursor-pointer"},s.createElement("input",{type:"checkbox",checked:Zs.includes(o.id),onChange:d=>{d.target.checked?Za([...Zs,o.id]):Za(Zs.filter(f=>f!==o.id))},className:"w-5 h-5 accent-gold-500"}),s.createElement("span",{className:"font-bold text-slate-200"},qb(o.region))))),Zs.length>0&&s.createElement("div",{className:"flex gap-2"},xi.status==="planned"&&s.createElement("button",{type:"button",onClick:rk,className:"btn-premium btn-gold flex-1"}," "),s.createElement("button",{type:"button",onClick:sk,className:"btn-premium bg-rose-500 text-white flex-1"},"")))),df&&s.createElement("div",{className:"modal-overlay",onClick:()=>mf(null)},s.createElement("div",{className:"modal-content max-w-sm p-0 overflow-hidden",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 p-4 sm:p-6 text-center"},s.createElement("div",{className:"w-14 h-14 bg-slate-800/10 backdrop-blur rounded-full flex items-center justify-center mx-auto mb-3 border border-white/20"},s.createElement("span",{className:"text-2xl text-emerald-400"})),s.createElement("p",{className:"text-slate-400 text-xs tracking-widest mb-1"},"REGISTERED"),s.createElement("h3",{className:"font-bold text-white text-lg"},df.companyName)),s.createElement("div",{className:"p-5 bg-slate-800"},s.createElement("div",{className:"bg-slate-900 rounded-lg p-4 mb-4 border-l-4 border-teal-500"},s.createElement("p",{className:"text-slate-300 text-sm leading-relaxed"},df.quote)),s.createElement("button",{type:"button",onClick:()=>mf(null),className:"w-full py-3 bg-gradient-to-r from-slate-700 to-slate-600 hover:from-slate-600 hover:to-slate-500 text-white rounded-lg font-medium transition-all border border-slate-500"},"")))),Vv&&s.createElement("div",{className:"modal-overlay",onClick:()=>uf(!1)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},"  "),s.createElement("button",{type:"button",onClick:()=>uf(!1),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3"},s.createElement("input",{type:"password",placeholder:" ",value:bi,onChange:o=>Zv(o.target.value),className:"input-premium"}),s.createElement("input",{type:"password",placeholder:" ",value:ey,onChange:o=>ty(o.target.value),className:"input-premium"}),s.createElement("button",{type:"button",onClick:$y,className:"btn-premium btn-gold w-full"},"")))),rS&&s.createElement("div",{className:"modal-overlay",onClick:()=>Bv(!1)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>Bv(!1),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"bg-emerald-900/30 p-4 rounded-xl"},s.createElement("p",{className:"text-emerald-700 font-bold mb-2"},"  "),s.createElement("p",{className:"text-emerald-600 text-sm"},"      ."),s.createElement("p",{className:"text-emerald-600 text-sm mt-2"},"PC, ,    .")))),ff&&s.createElement("div",{className:"modal-overlay",onClick:()=>Gc(null)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>Gc(null),className:"text-slate-200 text-2xl"},"")),s.createElement("p",{className:"text-sm text-slate-200 mb-4"},ff.managerName," "),s.createElement("div",{className:"space-y-3"},(()=>{const o=ru.filter(d=>d.managerId===ff.managerId);return o.length===0?s.createElement("p",{className:"text-center text-slate-200 py-4"},"  ."):s.createElement("div",{className:"space-y-2 max-h-60 overflow-y-auto"},o.map(d=>s.createElement("div",{key:d.id,className:"flex items-center justify-between p-3 bg-slate-700 rounded-lg"},s.createElement("div",null,s.createElement("p",{className:"font-bold text-slate-100"},Number(d.amount).toLocaleString(),""),s.createElement("p",{className:"text-xs text-slate-200"},d.date)),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>{const f=prompt("  :",d.amount);f&&!isNaN(f)&&(vy({...d,amount:Number(f)}),alert(" ."))},className:"px-2 py-1 bg-primary-500 text-white rounded text-xs font-bold"},""),s.createElement("button",{onClick:()=>{confirm("  ?")&&(GS(d.id),alert(" ."))},className:"px-2 py-1 bg-slate-600 text-white rounded text-xs font-bold"},"")))))})()),s.createElement("button",{type:"button",onClick:()=>Gc(null),className:"btn-premium btn-outline w-full mt-4"},""))),oS&&s.createElement("div",{className:"modal-overlay",onClick:()=>Hc(!1)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>Hc(!1),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3"},s.createElement("select",{value:Ln.managerId||"",onChange:o=>gu({...Ln,managerId:Number(o.target.value)||null}),className:"select-premium"},s.createElement("option",{value:""},"  *"),Wk().map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("input",{type:"number",placeholder:" *",value:Ln.amount,onChange:o=>gu({...Ln,amount:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"date",value:Ln.date,onChange:o=>gu({...Ln,date:o.target.value}),className:"input-premium"}),s.createElement("button",{type:"button",onClick:Lk,className:"btn-premium btn-gold w-full"},"")))),sS&&s.createElement("div",{className:"modal-overlay",onClick:()=>cf(!1)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>cf(!1),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3"},s.createElement("input",{type:"password",placeholder:" ",value:tr,onChange:o=>Jc(o.target.value),className:"input-premium"}),s.createElement("input",{type:"password",placeholder:" ",value:Xc,onChange:o=>Zc(o.target.value),className:"input-premium"}),s.createElement("button",{type:"button",onClick:jy,className:"btn-premium btn-gold w-full"},"")))),aS&&s.createElement("div",{className:"modal-overlay",onClick:()=>$c(!1)},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>$c(!1),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"bg-slate-700 rounded-xl p-3 mb-4"},s.createElement("p",{className:"text-slate-200 font-bold mb-1"}," "),s.createElement("p",{className:"text-slate-200 text-sm"},"////")),s.createElement("textarea",{value:bf,onChange:o=>qv(o.target.value),placeholder:"////",className:"input-premium h-32 mb-3"}),s.createElement("select",{value:Yv||"",onChange:o=>Qv(Number(o.target.value)||null),className:"select-premium mb-3"},s.createElement("option",{value:""}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("div",{className:"flex items-center gap-2 mb-4 flex-wrap"},s.createElement("span",{className:"text-sm text-slate-200"}," :"),Object.entries(gt).map(([o,d])=>s.createElement("button",{key:o,onClick:()=>Xv(o),className:`px-3 py-1.5 rounded-full text-xs text-white font-bold ${Jv===o?"ring-2 ring-offset-1":"opacity-50"}`,style:{background:d.bg}},d.label))),s.createElement("button",{type:"button",onClick:Ok,className:"btn-premium btn-navy w-full"}," "))),cS&&s.createElement("div",{className:"modal-overlay",onClick:()=>Yc(!1),style:{overflow:"hidden"}},s.createElement("div",{className:"modal-content",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},"  "),s.createElement("button",{type:"button",onClick:()=>Yc(!1),className:"text-slate-200 text-2xl"},"")),Gv?s.createElement("div",{className:"text-center py-8"},s.createElement("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full spin mx-auto mb-3"}),s.createElement("p",{className:"text-slate-200"},"  ...")):dS?s.createElement("div",{className:"space-y-3"},s.createElement("p",{className:"text-sm text-slate-200 font-bold"},"   ( )"),s.createElement("input",{type:"text",placeholder:"",value:ne.name,onChange:o=>lt({...ne,name:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"text",placeholder:"",value:ne.contact,onChange:o=>lt({...ne,contact:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"text",placeholder:"",value:ne.phone,onChange:o=>lt({...ne,phone:o.target.value}),className:"input-premium"}),s.createElement("input",{type:"text",placeholder:"",value:ne.address,onChange:o=>lt({...ne,address:o.target.value}),className:"input-premium"}),s.createElement("select",{value:ne.managerId||"",onChange:o=>lt({...ne,managerId:Number(o.target.value)||null}),className:"select-premium"},s.createElement("option",{value:""}," "),Ee.map(o=>s.createElement("option",{key:o.id,value:o.id},o.name))),s.createElement("div",{className:"flex items-center gap-2 flex-wrap"},s.createElement("span",{className:"text-sm text-slate-200"},":"),Object.entries(gt).map(([o,d])=>s.createElement("button",{key:o,onClick:()=>lt({...ne,reaction:o}),className:`px-3 py-1.5 rounded-full text-xs text-white font-bold ${ne.reaction===o?"ring-2 ring-offset-1":"opacity-50"}`,style:{background:d.bg}},d.label))),s.createElement("input",{type:"text",placeholder:"",value:ne.memo,onChange:o=>lt({...ne,memo:o.target.value}),className:"input-premium"}),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>{var o;gf(null),lt({name:"",contact:"",phone:"",address:"",managerId:(n==null?void 0:n.managerId)||null,memo:"",reaction:"neutral"}),(o=vf.current)==null||o.click()},className:"flex-1 py-3 border border-slate-600 rounded-xl font-bold text-slate-200"},""),s.createElement("button",{onClick:async()=>{await Wy(),Yc(!1),gf(null)},className:"flex-1 btn-premium btn-gold"}," "))):null)),uS&&s.createElement("div",{className:"modal-overlay"},s.createElement("div",{className:"modal-content max-w-2xl",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},"   (",_n.length,")"),s.createElement("button",{type:"button",onClick:()=>hf(!1),className:"text-slate-200 text-2xl"},"")),Gv?s.createElement("div",{className:"text-center py-8"},s.createElement("div",{className:"w-10 h-10 border-4 border-green-500 border-t-transparent rounded-full spin mx-auto mb-3"}),s.createElement("p",{className:"text-slate-200"},"  ...")):s.createElement("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto"},_n.map((o,d)=>s.createElement("div",{key:d,className:"bg-slate-700 rounded-xl p-3 border"},s.createElement("p",{className:"font-bold text-slate-200 text-sm mb-2"}," #",d+1),s.createElement("div",{className:"grid grid-cols-2 gap-2"},s.createElement("input",{type:"text",placeholder:"",value:o.name,onChange:f=>{const p=[..._n];p[d].name=f.target.value,er(p)},className:"input-premium text-sm"}),s.createElement("input",{type:"text",placeholder:"",value:o.contact,onChange:f=>{const p=[..._n];p[d].contact=f.target.value,er(p)},className:"input-premium text-sm"}),s.createElement("input",{type:"text",placeholder:"",value:o.phone,onChange:f=>{const p=[..._n];p[d].phone=f.target.value,er(p)},className:"input-premium text-sm"}),s.createElement("input",{type:"text",placeholder:"",value:o.address,onChange:f=>{const p=[..._n];p[d].address=f.target.value,er(p)},className:"input-premium text-sm"})),s.createElement("div",{className:"flex items-center gap-2 mt-2 flex-wrap"},s.createElement("select",{value:o.managerId||"",onChange:f=>{const p=[..._n];p[d].managerId=Number(f.target.value)||null,er(p)},className:"select-premium text-sm py-1"},s.createElement("option",{value:""},""),Ee.map(f=>s.createElement("option",{key:f.id,value:f.id},f.name))),Object.entries(gt).map(([f,p])=>s.createElement("button",{key:f,onClick:()=>{const v=[..._n];v[d].reaction=f,er(v)},className:`px-2 py-1 rounded-full text-xs text-white font-bold ${o.reaction===f?"ring-2 ring-offset-1":"opacity-50"}`,style:{background:p.bg}},p.label))),s.createElement("input",{type:"text",placeholder:"",value:o.memo,onChange:f=>{const p=[..._n];p[d].memo=f.target.value,er(p)},className:"input-premium text-sm mt-2"}))),_n.length>0&&s.createElement("button",{onClick:mk,className:"btn-premium btn-gold w-full"},_n.filter(o=>o.name).length,"  ")))),pS&&s.createElement("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[1200] p-4"},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-md shadow-2xl"},s.createElement("div",{className:"text-center mb-4"},s.createElement("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-3"},s.createElement("span",{className:"text-3xl"})),s.createElement("h3",{className:"font-bold text-slate-100 text-xl"},"  "),s.createElement("p",{className:"text-slate-200 text-sm mt-2"},new Date().toLocaleDateString("ko-KR",{year:"numeric",month:"long"})," 4")),s.createElement("div",{className:"bg-slate-700 border border-primary-300 rounded-xl p-4 mb-4"},s.createElement("p",{className:"text-blue-800 font-bold text-center text-lg"},"  ",s.createElement("br",null),"."),s.createElement("p",{className:"text-primary-600 text-sm text-center mt-2"},"    ",s.createElement("br",null),"  .")),s.createElement("button",{onClick:()=>xf(!1),className:"btn-premium btn-gold w-full"},""))),Ii&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1200] p-4",onClick:()=>Tf(null)},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-md",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"text-center mb-4"},s.createElement("div",{className:"w-14 h-14 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-3"},s.createElement("span",{className:"text-2xl"},"")),s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},"  "),s.createElement("p",{className:"text-slate-200 text-sm mt-2"}," ",s.createElement("b",{className:"text-amber-500"},Ii.unvisitedStops.length,""),"   .")),s.createElement("div",{className:"bg-slate-800 rounded-xl p-3 mb-4 max-h-40 overflow-y-auto"},Ii.unvisitedStops.map((o,d)=>s.createElement("div",{key:d,className:"flex items-center gap-2 py-2 border-b border-slate-700 last:border-0"},s.createElement("span",{className:"w-6 h-6 bg-rose-500/20 text-rose-400 rounded-full flex items-center justify-center text-xs font-bold"},d+1),s.createElement("span",{className:"text-slate-200 text-sm"},o.name)))),s.createElement("p",{className:"text-xs text-slate-300 mb-4 text-center"},"       ",s.createElement("br",null),"    ."),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>np(Ii.route,!1),className:"flex-1 px-4 py-2 bg-slate-600 rounded-xl font-bold text-slate-200 text-sm"}," "),s.createElement("button",{onClick:()=>np(Ii.route,!0),className:"flex-1 px-4 py-2 bg-amber-600 rounded-xl font-bold text-white text-sm"}," ")))),If&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1200] p-4",onClick:()=>nl(null)},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-sm",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"text-center mb-4"},s.createElement("div",{className:"w-14 h-14 bg-rose-100 rounded-full flex items-center justify-center mx-auto mb-3"},s.createElement("span",{className:"text-2xl"})),s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("p",{className:"text-slate-200 text-sm mt-2"},s.createElement("b",{className:"text-rose-600"},If.name),"() ?"),s.createElement("p",{className:"text-xs text-slate-200 mt-1"},"    .")),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>nl(null),className:"flex-1 px-4 py-2 bg-gray-100 rounded-xl font-bold text-gray-700"},""),s.createElement("button",{onClick:()=>{const{type:o,id:d}=If;o==="route"?Ey(d):o==="company"?VS(d):o==="customer"?HS(d):o==="calendar"?(ay($t.filter(f=>f.id!==d)),localStorage.setItem("bc_calendar_events",JSON.stringify($t.filter(f=>f.id!==d)))):o==="sale"&&(ny(ru.filter(f=>f.id!==d)),localStorage.setItem("bc_sales",JSON.stringify(ru.filter(f=>f.id!==d)))),nl(null),alert(".")},className:"flex-1 px-4 py-2 bg-rose-500 rounded-xl font-bold text-white"},"")))),mS&&Ef.length>0&&s.createElement("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[1100] p-4"},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-md shadow-2xl",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"text-center mb-4"},s.createElement("div",{className:"w-16 h-16 bg-gradient-to-r from-teal-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-3"},s.createElement("span",{className:"text-3xl"})),s.createElement("h3",{className:"font-bold text-slate-100 text-xl"},"  "),s.createElement("p",{className:"text-slate-200 text-sm mt-1"},new Date().toLocaleDateString("ko-KR",{timeZone:"Asia/Seoul",year:"numeric",month:"long",day:"numeric",weekday:"long"}))),s.createElement("div",{className:"bg-slate-700 border border-slate-600 rounded-xl p-4 mb-4 max-h-60 overflow-y-auto"},s.createElement("p",{className:"text-primary-600 font-bold text-sm mb-3"},Ef.length,"  "),s.createElement("div",{className:"space-y-2"},Ef.map((o,d)=>{const f=Ee.find(p=>p.id===o.managerId);return s.createElement("div",{key:d,className:"bg-slate-700 p-3 rounded-lg border border-slate-600"},s.createElement("div",{className:"flex items-start gap-2"},s.createElement("span",{className:"text-lg"},o.type==="route"?"":""),s.createElement("div",{className:"flex-1 min-w-0"},s.createElement("p",{className:"font-bold text-slate-100 text-sm break-words"},o.title),f&&s.createElement("p",{className:"text-xs text-slate-200"},": ",f.name),o.memo&&s.createElement("p",{className:"text-xs text-slate-200 mt-1 break-words whitespace-pre-wrap"},o.memo))))}))),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>{yf(!1),S("calendar")},className:"flex-1 btn-premium btn-gold"}," "),s.createElement("button",{onClick:()=>yf(!1),className:"flex-1 btn-premium btn-outline"},"")))),iS&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Bc(!1)},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-md max-h-[80vh] overflow-hidden",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>Bc(!1),className:"text-slate-200 text-2xl"},"")),s.createElement("p",{className:"text-sm text-slate-200 mb-3"},"   ."),s.createElement("div",{className:"space-y-2 max-h-96 overflow-y-auto"},ce.filter(o=>!o.lat||!o.lng).map(o=>{const d=Ee.find(f=>f.id===o.managerId);return s.createElement("div",{key:o.id,className:"p-3 bg-slate-700 rounded-xl cursor-pointer hover:bg-slate-700 border border-slate-600",onClick:()=>{Bc(!1),ft(o)}},s.createElement("div",{className:"flex items-center justify-between"},s.createElement("div",{className:"min-w-0 flex-1"},s.createElement("p",{className:"font-bold text-slate-100 truncate"},o.name),s.createElement("p",{className:"text-xs text-slate-200 truncate"},o.address||" ")),s.createElement("div",{className:"flex-shrink-0 ml-2"},s.createElement("span",{className:"px-2 py-1 rounded text-xs text-white font-bold",style:{background:(d==null?void 0:d.color)||"#9ca3af"}},(d==null?void 0:d.name)||""))))}),ce.filter(o=>!o.lat||!o.lng).length===0&&s.createElement("p",{className:"text-center text-slate-200 py-4"},"  .")))),Ot&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>ki(null)},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-md",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"}," "),s.createElement("button",{type:"button",onClick:()=>ki(null),className:"text-slate-200 text-2xl"},"")),s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"p-4 bg-purple-50 rounded-xl"},s.createElement("p",{className:"text-purple-800 font-bold text-lg"},Ot.title),s.createElement("div",{className:"flex items-center gap-2 mt-2 text-sm text-purple-600"},s.createElement("span",null," ",Ot.date),Ot.time&&s.createElement("span",null,Ot.time)),Ot.memo&&s.createElement("div",{className:"mt-3 p-3 bg-slate-700 rounded-lg"},s.createElement("p",{className:"text-xs text-slate-200 mb-1"},""),s.createElement("p",{className:"text-slate-200 whitespace-pre-wrap"},Ot.memo)),Ot.company&&s.createElement("div",{className:"mt-2 text-sm text-purple-600"},s.createElement("span",null,Ot.company))),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>{kf(Ot.date),Cr({title:Ot.title,time:Ot.time||"09:00",memo:Ot.memo||""}),rl(Ot.id),na(!0),ki(null)},className:"flex-1 py-2 bg-slate-700 text-primary-600 rounded-xl font-bold"},""),s.createElement("button",{onClick:()=>{nl({type:"calendar",id:Ot.id,name:Ot.title}),ki(null)},className:"flex-1 py-2 bg-rose-100 text-rose-600 rounded-xl font-bold"},""))))),CS&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>na(!1)},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-md",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},Si," "),s.createElement("button",{type:"button",onClick:()=>na(!1),className:"text-slate-200 text-2xl"},"")),(()=>{const o=Be.filter(f=>f.date===Si),d=$t.filter(f=>f.date===Si);return o.length>0||d.length>0?s.createElement("div",{className:"mb-4 p-3 bg-slate-700 rounded-xl max-h-32 overflow-y-auto"},s.createElement("p",{className:"text-xs text-slate-200 mb-2 font-bold"},"  "),o.map(f=>{var v;const p=Ee.find(y=>y.id===f.managerId);return s.createElement("div",{key:`r-${f.id}`,className:"flex items-center gap-2 mb-1"},s.createElement("span",{className:"w-2 h-2 rounded-full",style:{background:(p==null?void 0:p.color)||"#888"}}),s.createElement("span",{className:"text-sm text-slate-200"},(v=f.time)==null?void 0:v.slice(0,5)," ",f.name),s.createElement("span",{className:"text-xs text-slate-200"},"()"))}),d.map(f=>{var p;return s.createElement("div",{key:`e-${f.id}`,className:"flex items-center gap-2 mb-1"},s.createElement("span",{className:"w-2 h-2 rounded-full bg-purple-500"}),s.createElement("span",{className:"text-sm text-slate-200"},(p=f.time)==null?void 0:p.slice(0,5)," ",f.title),s.createElement("button",{onClick:()=>{Cr({title:f.title,time:f.time,memo:f.memo||""}),rl(f.id)},className:"text-xs text-primary-600 ml-auto"},""),s.createElement("button",{onClick:()=>{confirm("?")&&QS(f.id)},className:"text-xs text-rose-600"},""))})):null})(),s.createElement("div",{className:"space-y-3"},s.createElement("p",{className:"text-sm text-slate-200 font-bold"},Ti?" ":"  "),s.createElement("input",{type:"text",placeholder:" ",value:nr.title,onChange:o=>Cr({...nr,title:o.target.value}),className:"input-premium"}),s.createElement("div",{className:"relative",onClick:()=>{var o,d;return(d=(o=document.getElementById("calEventTime")).showPicker)==null?void 0:d.call(o)}},s.createElement("input",{id:"calEventTime",type:"time",value:nr.time,onChange:o=>Cr({...nr,time:o.target.value}),className:"input-premium cursor-pointer"})),s.createElement("textarea",{placeholder:" ()",value:nr.memo,onChange:o=>Cr({...nr,memo:o.target.value}),className:"input-premium resize-none h-20"})),s.createElement("div",{className:"flex gap-2 mt-4"},Ti&&s.createElement("button",{onClick:()=>{Cr({title:"",time:"09:00",memo:""}),rl(null)},className:"btn-premium btn-outline flex-1"}," "),s.createElement("button",{type:"button",onClick:()=>na(!1),className:"btn-premium btn-outline flex-1"},""),s.createElement("button",{onClick:()=>{if(!nr.title.trim())return alert("  ");const o={id:Ti||Date.now(),date:Si,title:nr.title.trim(),time:nr.time,memo:nr.memo.trim(),createdBy:(n==null?void 0:n.name)||"unknown",createdAt:new Date().toISOString()};Qf(o),xf(!1),Cr({title:"",time:"09:00",memo:""}),rl(null),alert(Ti?" !":" !")},className:"btn-premium btn-gold flex-1"},Ti?"":"")),s.createElement("div",{className:"mt-4 pt-4 border-t border-slate-600"},s.createElement("button",{onClick:()=>{el(Si),na(!1),oa("route")},className:"w-full text-center text-sm text-slate-200 font-bold"},"  ")))),on&&s.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>Nr(null)},s.createElement("div",{className:"bg-slate-700 rounded-2xl p-5 w-full max-w-md max-h-[80vh] overflow-y-auto",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-start mb-4"},s.createElement("div",null,s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},on.name),s.createElement("p",{className:"text-sm text-slate-200"},on.date)),s.createElement("button",{type:"button",onClick:()=>Nr(null),className:"text-slate-200 hover:text-slate-200 text-xl"},"")),(()=>{const o=(on.stops||[]).filter(p=>p.visited).length,d=(on.stops||[]).length,f=d>0?Math.round(o/d*100):0;return s.createElement("div",{className:"mb-4"},s.createElement("div",{className:"flex justify-between items-center mb-2"},s.createElement("span",{className:"text-sm text-slate-200"},""),s.createElement("span",{className:"text-sm font-bold text-slate-200"},o,"/",d," (",f,"%)")),s.createElement("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden"},s.createElement("div",{className:"h-full bg-gradient-to-r from-teal-500 to-cyan-500 transition-all duration-300",style:{width:`${f}%`}})))})(),s.createElement("div",{className:"space-y-2 mb-4 max-h-64 overflow-y-auto"},(on.stops||[]).map((o,d)=>s.createElement("div",{key:o.id,className:`flex items-start gap-3 p-3 rounded-lg transition-all ${o.visited?"bg-emerald-900/30":"bg-slate-700"}`},s.createElement("button",{onClick:()=>Sk(on.id,o.id),className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-all flex-shrink-0 ${o.visited?"bg-emerald-500 text-white":"bg-slate-600 border-2 border-slate-600 text-slate-200 hover:border-primary-400"}`},o.visited?"":d+1),s.createElement("div",{className:"flex-1 min-w-0"},s.createElement("p",{className:`font-bold text-sm break-words leading-snug ${o.visited?"text-emerald-700":"text-slate-100"}`},o.name),o.address&&s.createElement("p",{className:"text-xs text-slate-200 break-words"},o.address)),o.lat&&o.lng&&s.createElement("button",{type:"button",onClick:()=>Ik(o),className:"w-8 h-8 rounded-lg bg-slate-700 hover:bg-slate-600 text-primary-600 flex items-center justify-center text-sm flex-shrink-0"})))),s.createElement("div",{className:"space-y-2"},s.createElement("button",{type:"button",onClick:()=>{Nr(null),Rk(on)},className:"w-full btn-premium btn-outline py-2"},"   "),on.status!=="completed"&&s.createElement("button",{type:"button",onClick:()=>kk(on.id),className:"w-full btn-premium btn-gold py-3 font-bold"},"  ( )")))),HC&&s.createElement("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[1200] p-4",onClick:()=>{qa(!1),Xn({name:"",content:"",type:"broker",memo:""})}},s.createElement("div",{className:"bg-slate-800 rounded-2xl p-5 w-full max-w-md",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},Gt?" ":"  "),s.createElement("button",{type:"button",onClick:()=>{qa(!1),Xn({name:"",content:"",type:"broker",memo:""})},className:"text-slate-400 text-2xl hover:text-white"},"")),s.createElement("div",{className:"space-y-3"},s.createElement("input",{type:"text",placeholder:"  (:  )",value:At.name,onChange:o=>Xn({...At,name:o.target.value}),className:"input-premium"}),s.createElement("div",{className:"flex gap-2"},s.createElement("button",{onClick:()=>Xn({...At,type:"broker"}),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${At.type==="broker"?"bg-blue-500/20 text-blue-400 border border-blue-500":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`},""),s.createElement("button",{onClick:()=>Xn({...At,type:"customer"}),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${At.type==="customer"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`},"")),s.createElement("textarea",{placeholder:"  ",value:At.content,onChange:o=>Xn({...At,content:o.target.value}),rows:"4",className:"input-premium resize-none"}),s.createElement("input",{type:"text",placeholder:" ()",value:At.memo,onChange:o=>Xn({...At,memo:o.target.value}),className:"input-premium"})),s.createElement("div",{className:"flex gap-2 mt-4"},s.createElement("button",{type:"button",onClick:()=>{qa(!1),Xn({name:"",content:"",type:"broker",memo:""})},className:"flex-1 btn-premium btn-outline"},""),s.createElement("button",{onClick:()=>{if(!At.name.trim()||!At.content.trim())return alert("   ");const o={id:(Gt==null?void 0:Gt.id)||Date.now(),name:At.name.trim(),content:At.content.trim(),type:At.type,memo:At.memo.trim(),useCount:(Gt==null?void 0:Gt.useCount)||0,successCount:(Gt==null?void 0:Gt.successCount)||0,createdAt:(Gt==null?void 0:Gt.createdAt)||new Date().toISOString(),updatedAt:new Date().toISOString()};xy(o),qa(!1),Qm(null),Xn({name:"",content:"",type:"broker",memo:""})},className:"flex-1 btn-premium btn-gold"},Gt?" ":"")))),GC&&xr&&s.createElement("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[1200] p-4",onClick:()=>Ic(!1)},s.createElement("div",{className:"bg-slate-800 rounded-2xl p-5 w-full max-w-lg max-h-[85vh] overflow-y-auto",onClick:o=>o.stopPropagation()},s.createElement("div",{className:"flex justify-between items-center mb-4"},s.createElement("h3",{className:"font-bold text-slate-100 text-lg"},"AI "),s.createElement("button",{type:"button",onClick:()=>Ic(!1),className:"text-slate-400 text-2xl hover:text-white"},"")),s.createElement("div",{className:"mb-4"},s.createElement("p",{className:"text-sm text-slate-400 mb-1"}," : ",s.createElement("span",{className:"text-brand-purple font-medium"},xr.name)),s.createElement("div",{className:"p-3 rounded-lg bg-slate-700/50 border border-slate-600"},s.createElement("p",{className:"text-sm text-slate-300 whitespace-pre-wrap"},xr.content))),s.createElement("div",{className:"mb-4"},s.createElement("p",{className:"text-sm text-slate-400 mb-2"},"  :"),s.createElement("textarea",{value:fi,onChange:o=>Jm(o.target.value),placeholder:"  ",rows:"3",className:"input-premium resize-none w-full"})),s.createElement("div",{className:"mb-4"},s.createElement("p",{className:"text-sm text-slate-400 mb-2"},":"),s.createElement("input",{type:"text",value:Sv,onChange:o=>kv(o.target.value),placeholder:"   ?",className:"input-premium w-full"})),s.createElement("button",{onClick:()=>{if(!fi.trim())return alert("  ");const o={id:Date.now(),mentId:xr.id,mentName:xr.name,original:xr.content,modified:fi,question:Sv||" ",aiResponse:` !

:
    ${fi.length>xr.content.length?" ":" "} 
 ${fi.includes("?")?"   ":"   "}

 :
    .`,createdAt:new Date().toISOString()};qS(o),alert(" !  ."),Ic(!1),Jm(""),kv("")},className:"w-full btn-premium btn-gold"},"AI  "),kc.filter(o=>o.mentId===xr.id).length>0&&s.createElement("div",{className:"mt-4 pt-4 border-t border-slate-700"},s.createElement("p",{className:"text-sm text-slate-400 mb-2"},"    "),s.createElement("div",{className:"space-y-2 max-h-40 overflow-y-auto"},kc.filter(o=>o.mentId===xr.id).slice(-3).reverse().map(o=>s.createElement("div",{key:o.id,className:"p-3 rounded-lg bg-slate-700/30 border border-slate-700/30"},s.createElement("p",{className:"text-xs text-slate-500 mb-1"},new Date(o.createdAt).toLocaleString("ko-KR")),s.createElement("p",{className:"text-sm text-slate-300 line-clamp-2"},o.question))))))),Xm&&s.createElement("div",{className:"fixed inset-0 z-[9999] bg-white"},s.createElement("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200"},s.createElement("div",{className:"flex items-center gap-3"},s.createElement("img",{src:"/logo.png",alt:"",className:"w-8 h-8 object-contain"}),s.createElement("span",{className:"font-bold text-gray-900"},"")),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("button",{onClick:()=>Tv("analysis"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Rc==="analysis"?"bg-amber-500 text-white":"text-gray-600 hover:bg-gray-100"}`},""),s.createElement("button",{onClick:()=>Tv("homepage"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Rc==="homepage"?"bg-amber-500 text-white":"text-gray-600 hover:bg-gray-100"}`},""),s.createElement("button",{onClick:()=>{Ya(!0),Zn("")},className:"ml-4 p-2 rounded-lg hover:bg-gray-100 text-gray-500"},"")),Ov<=15&&!Pc&&s.createElement("span",{className:"text-xs text-orange-500 ml-2"},Ov,"")),Pc&&s.createElement("div",{className:"fixed inset-0 z-[10000] bg-white flex flex-col items-center justify-center"},s.createElement("img",{src:"/logo.png",alt:"",className:"w-20 h-20 object-contain mb-6"}),s.createElement("p",{className:"text-gray-600 mb-8"}," "),s.createElement("div",{className:"flex gap-3 mb-8"},[0,1,2,3].map(o=>s.createElement("div",{key:o,className:`w-4 h-4 rounded-full ${Qa.length>o?"bg-amber-500":"bg-gray-300"}`}))),s.createElement("div",{className:"grid grid-cols-3 gap-4"},[1,2,3,4,5,6,7,8,9].map(o=>s.createElement("button",{key:o,onClick:()=>{if(Qa.length<4){const d=Qa+o;if(Zn(d),d.length===4){const f=localStorage.getItem("bc_sales_pin")||"0000";d===f?(Ya(!1),Zn(""),Ac(Date.now()),pi(60)):(Zn(""),navigator.vibrate&&navigator.vibrate(200))}}},className:"w-16 h-16 rounded-full bg-gray-100 text-gray-900 text-2xl font-medium hover:bg-gray-200 active:bg-gray-300 transition-all"},o)),s.createElement("button",{onClick:()=>{window.confirm(" ?")&&(Iv(!1),Ya(!1),Zn(""),e(!1),r(null),localStorage.removeItem("bc_session"))},className:"w-16 h-16 rounded-full bg-red-100 text-red-600 text-xs font-medium hover:bg-red-200 transition-all"},""),s.createElement("button",{onClick:()=>{if(Qa.length<4){const o=Qa+"0";if(Zn(o),o.length===4){const d=localStorage.getItem("bc_sales_pin")||"0000";o===d?(Ya(!1),Zn(""),Ac(Date.now()),pi(60)):(Zn(""),navigator.vibrate&&navigator.vibrate(200))}}},className:"w-16 h-16 rounded-full bg-gray-100 text-gray-900 text-2xl font-medium hover:bg-gray-200 active:bg-gray-300 transition-all"},"0"),s.createElement("button",{onClick:()=>Zn(Qa.slice(0,-1)),className:"w-16 h-16 rounded-full bg-gray-100 text-gray-500 text-sm font-medium hover:bg-gray-200 transition-all"},"")),s.createElement("p",{className:"text-xs text-gray-400 mt-8"}," PIN: 0000")),Rc==="analysis"&&s.createElement("div",{className:"h-[calc(100vh-60px)] overflow-y-auto"},s.createElement("div",{className:"max-w-3xl mx-auto p-4 space-y-4"},s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("div",{className:"flex gap-2"},s.createElement("input",{type:"text",value:Qs,onChange:o=>Rv(o.target.value),placeholder:"   (:  )",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:border-amber-500",onKeyPress:o=>o.key==="Enter"&&_u()}),s.createElement("button",{onClick:()=>_u(),disabled:Js||!Qs.trim(),className:"px-6 py-3 bg-amber-500 text-white rounded-lg font-medium hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed"},Js?"...":""))),qe&&s.createElement(s.Fragment,null,s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"},""),s.createElement("div",{id:"sales-mode-map",className:"w-full h-[300px] rounded-lg bg-gray-100"}),s.createElement("p",{className:"text-sm text-gray-500 mt-2"}," 500m ")),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"}," "),s.createElement("div",{className:"grid grid-cols-2 gap-4"},s.createElement("div",{className:"text-center p-3 bg-gray-50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-gray-900"},((cE=qe.overview)==null?void 0:cE.population)||"-"),s.createElement("p",{className:"text-sm text-gray-500"}," ()")),s.createElement("div",{className:"text-center p-3 bg-gray-50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-gray-900"},((uE=qe.overview)==null?void 0:uE.households)||"-"),s.createElement("p",{className:"text-sm text-gray-500"},"")),s.createElement("div",{className:"text-center p-3 bg-gray-50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-gray-900"},((dE=qe.overview)==null?void 0:dE.stores)||"-"),s.createElement("p",{className:"text-sm text-gray-500"}," ")),s.createElement("div",{className:"text-center p-3 bg-gray-50 rounded-lg"},s.createElement("p",{className:"text-2xl font-bold text-gray-900"},((mE=qe.overview)==null?void 0:mE.avgRent)||"-"),s.createElement("p",{className:"text-sm text-gray-500"}," ")))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"}," "),s.createElement("div",{className:"space-y-2"},(fE=qe.consumers)==null?void 0:fE.map((o,d)=>s.createElement("div",{key:d,className:"flex justify-between items-center"},s.createElement("span",{className:"text-gray-700"},o.label),s.createElement("div",{className:"flex items-center gap-2"},s.createElement("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden"},s.createElement("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${o.percent}%`}})),s.createElement("span",{className:"text-sm text-gray-600 w-12 text-right"},o.percent,"%")))))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"},"  "),s.createElement("div",{className:"space-y-2"},(pE=qe.franchises)==null?void 0:pE.map((o,d)=>s.createElement("div",{key:d,className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg"},s.createElement("span",{className:"text-gray-700"},o.name),s.createElement("span",{className:"font-medium text-gray-900"},o.count,""))))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"}," "),s.createElement("ul",{className:"space-y-2"},(hE=qe.development)==null?void 0:hE.map((o,d)=>s.createElement("li",{key:d,className:"flex items-start gap-2 text-gray-700"},s.createElement("span",{className:"text-green-500 mt-1"},""),s.createElement("span",null,o))))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"}," "),s.createElement("ul",{className:"space-y-2"},(gE=qe.risks)==null?void 0:gE.map((o,d)=>s.createElement("li",{key:d,className:"flex items-start gap-2 text-gray-700"},s.createElement("span",{className:"text-red-500 mt-1"},""),s.createElement("span",null,o))))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"}," "),s.createElement("div",{className:"grid grid-cols-2 gap-3"},[{key:"seats",label:" ",unit:"",info:"    "},{key:"price",label:"",unit:"",info:" 1   "},{key:"turnover",label:"",unit:"",info:"    "},{key:"occupancy",label:"",unit:"%",info:"    "},{key:"rent",label:"",unit:"",info:"  ( )"},{key:"labor",label:"",unit:"",info:"  "},{key:"materialRate",label:"",unit:"%",info:"   "},{key:"otherCost",label:"",unit:"",info:",  "}].map(o=>s.createElement("div",{key:o.key,className:"relative"},s.createElement("div",{className:"flex items-center gap-1 mb-1"},s.createElement("span",{className:"text-sm text-gray-600"},o.label),s.createElement("button",{onClick:()=>Dv(Oc===o.key?null:o.key),className:"w-4 h-4 rounded-full bg-gray-200 text-gray-500 text-xs"},"i")),Oc===o.key&&s.createElement("div",{className:"absolute z-10 left-0 top-8 bg-gray-800 text-white text-xs p-2 rounded-lg shadow-lg max-w-[200px]"},o.info),s.createElement("div",{className:"flex items-center gap-1"},s.createElement("input",{type:"number",value:_e[o.key],onChange:d=>Lv({..._e,[o.key]:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-gray-900 text-right"}),s.createElement("span",{className:"text-sm text-gray-500 w-8"},o.unit)))))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"}," "),(()=>{const d=_e.seats*_e.price*_e.turnover*(_e.occupancy/100)*30,f=d*(_e.materialRate/100),p=_e.rent*1e4+_e.labor*1e4+f+_e.otherCost*1e4,v=d-p;return s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"flex justify-between p-3 bg-amber-50 rounded-lg"},s.createElement("span",{className:"text-gray-700"},"  "),s.createElement("span",{className:"font-bold text-amber-600"},Math.round(d/1e4).toLocaleString(),"")),s.createElement("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg"},s.createElement("span",{className:"text-gray-700"},"  "),s.createElement("span",{className:"font-medium text-gray-900"},Math.round(p/1e4).toLocaleString(),"")),s.createElement("div",{className:"flex justify-between p-3 bg-green-50 rounded-lg border border-green-200"},s.createElement("span",{className:"text-gray-700"},"  "),s.createElement("span",{className:`font-bold ${v>=0?"text-green-600":"text-red-600"}`},Math.round(v/1e4).toLocaleString(),"")))})()),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"},""),(()=>{const o=(_e.rent+_e.labor+_e.otherCost)*1e4,d=1-_e.materialRate/100,f=o/d;return s.createElement("div",{className:"text-center p-4 bg-gray-50 rounded-lg"},s.createElement("p",{className:"text-3xl font-bold text-gray-900"},Math.round(f/1e4).toLocaleString(),""),s.createElement("p",{className:"text-sm text-gray-500 mt-1"},"     "))})()),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"},"  "),s.createElement("div",{className:"space-y-3"},s.createElement("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200"},s.createElement("p",{className:"font-medium text-amber-800"},"  "),s.createElement("p",{className:"text-sm text-amber-700 mt-1"},"    ")),s.createElement("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200"},s.createElement("p",{className:"font-medium text-amber-800"}," "),s.createElement("p",{className:"text-sm text-amber-700 mt-1"},"   ")),s.createElement("div",{className:"p-3 bg-amber-50 rounded-lg border border-amber-200"},s.createElement("p",{className:"font-medium text-amber-800"}," "),s.createElement("p",{className:"text-sm text-amber-700 mt-1"},"    ")))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"},"  "),s.createElement("div",{className:"overflow-x-auto"},s.createElement("table",{className:"w-full text-sm"},s.createElement("thead",null,s.createElement("tr",{className:"border-b border-gray-200"},s.createElement("th",{className:"text-left py-2 text-gray-600"},""),s.createElement("th",{className:"text-right py-2 text-gray-600"},""),s.createElement("th",{className:"text-right py-2 text-amber-600"},""))),s.createElement("tbody",null,s.createElement("tr",{className:"border-b border-gray-100"},s.createElement("td",{className:"py-2 text-gray-700"}," "),s.createElement("td",{className:"text-right text-gray-900"},"5,000~8,000"),s.createElement("td",{className:"text-right text-amber-600 font-medium"},"1,000")),s.createElement("tr",{className:"border-b border-gray-100"},s.createElement("td",{className:"py-2 text-gray-700"}," "),s.createElement("td",{className:"text-right text-gray-900"}," 3~5%"),s.createElement("td",{className:"text-right text-amber-600 font-medium"},"0")),s.createElement("tr",null,s.createElement("td",{className:"py-2 text-gray-700"}," "),s.createElement("td",{className:"text-right text-gray-900"},""),s.createElement("td",{className:"text-right text-amber-600 font-medium"}," ")))))),s.createElement("div",{className:"bg-white border border-gray-200 rounded-xl p-4"},s.createElement("h3",{className:"font-bold text-gray-900 mb-3"},"AI "),s.createElement("p",{className:"text-gray-700 leading-relaxed"},qe.insight||"   AI  .")),s.createElement("div",{className:"flex justify-center"},s.createElement("button",{onClick:()=>Mc(!0),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-all"}," "))),!qe&&!Js&&s.createElement("div",{className:"text-center py-20"},s.createElement("p",{className:"text-gray-500"},"     ")))),Rc==="homepage"&&s.createElement("div",{className:"h-[calc(100vh-60px)] overflow-hidden"},s.createElement("iframe",{src:"https://www.beancraft.co.kr",className:"w-full h-full border-0",title:" "}))),qC&&s.createElement("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center bg-black/50",onClick:()=>Mc(!1)},s.createElement("div",{className:"bg-white rounded-2xl p-6 m-4 max-w-sm w-full",onClick:o=>o.stopPropagation()},s.createElement("h3",{className:"font-bold text-gray-900 text-lg mb-4"}," "),s.createElement("div",{className:"space-y-3"},s.createElement("a",{href:"https://sg.sbiz.or.kr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all"},s.createElement("span",{className:"text-amber-500"},""),s.createElement("span",{className:"text-gray-700"}," ")),s.createElement("a",{href:"https://franchise.ftc.go.kr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all"},s.createElement("span",{className:"text-amber-500"},""),s.createElement("span",{className:"text-gray-700"}," ")),s.createElement("a",{href:"https://kosis.kr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all"},s.createElement("span",{className:"text-amber-500"},""),s.createElement("span",{className:"text-gray-700"}," KOSIS")),s.createElement("a",{href:"https://data.seoul.go.kr",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all"},s.createElement("span",{className:"text-amber-500"},""),s.createElement("span",{className:"text-gray-700"}," "))),s.createElement("button",{onClick:()=>Mc(!1),className:"w-full mt-4 py-3 bg-amber-500 text-white rounded-lg font-medium hover:bg-amber-600 transition-all"},""))))},sL=()=>{const t=document.getElementById("initial-loading");t&&(t.classList.add("hidden"),setTimeout(()=>t.remove(),300))};Kp.createRoot(document.getElementById("root")).render(s.createElement(s.StrictMode,null,s.createElement(rL,null)));sL();
